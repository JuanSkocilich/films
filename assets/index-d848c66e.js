function oC(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function qa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fw={exports:{}},Ic={},$w={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wa=Symbol.for("react.element"),aC=Symbol.for("react.portal"),lC=Symbol.for("react.fragment"),uC=Symbol.for("react.strict_mode"),cC=Symbol.for("react.profiler"),hC=Symbol.for("react.provider"),fC=Symbol.for("react.context"),dC=Symbol.for("react.forward_ref"),pC=Symbol.for("react.suspense"),mC=Symbol.for("react.memo"),gC=Symbol.for("react.lazy"),Dy=Symbol.iterator;function yC(e){return e===null||typeof e!="object"?null:(e=Dy&&e[Dy]||e["@@iterator"],typeof e=="function"?e:null)}var jw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bw=Object.assign,Uw={};function Gs(e,t,n){this.props=e,this.context=t,this.refs=Uw,this.updater=n||jw}Gs.prototype.isReactComponent={};Gs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zw(){}zw.prototype=Gs.prototype;function Hp(e,t,n){this.props=e,this.context=t,this.refs=Uw,this.updater=n||jw}var qp=Hp.prototype=new zw;qp.constructor=Hp;Bw(qp,Gs.prototype);qp.isPureReactComponent=!0;var Vy=Array.isArray,Hw=Object.prototype.hasOwnProperty,Wp={current:null},qw={key:!0,ref:!0,__self:!0,__source:!0};function Ww(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Hw.call(t,r)&&!qw.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Wa,type:e,key:s,ref:o,props:i,_owner:Wp.current}}function vC(e,t){return{$$typeof:Wa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Kp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wa}function _C(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var My=/\/+/g;function Nh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_C(""+e.key):t.toString(36)}function eu(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Wa:case aC:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Nh(o,0):r,Vy(i)?(n="",e!=null&&(n=e.replace(My,"$&/")+"/"),eu(i,t,n,"",function(u){return u})):i!=null&&(Kp(i)&&(i=vC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(My,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Vy(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Nh(s,a);o+=eu(s,t,n,l,i)}else if(l=yC(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Nh(s,a++),o+=eu(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Il(e,t,n){if(e==null)return e;var r=[],i=0;return eu(e,r,"","",function(s){return t.call(n,s,i++)}),r}function wC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ot={current:null},tu={transition:null},TC={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:tu,ReactCurrentOwner:Wp};se.Children={map:Il,forEach:function(e,t,n){Il(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Il(e,function(){t++}),t},toArray:function(e){return Il(e,function(t){return t})||[]},only:function(e){if(!Kp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=Gs;se.Fragment=lC;se.Profiler=cC;se.PureComponent=Hp;se.StrictMode=uC;se.Suspense=pC;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TC;se.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Bw({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Wp.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Hw.call(t,l)&&!qw.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Wa,type:e.type,key:i,ref:s,props:r,_owner:o}};se.createContext=function(e){return e={$$typeof:fC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hC,_context:e},e.Consumer=e};se.createElement=Ww;se.createFactory=function(e){var t=Ww.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:dC,render:e}};se.isValidElement=Kp;se.lazy=function(e){return{$$typeof:gC,_payload:{_status:-1,_result:e},_init:wC}};se.memo=function(e,t){return{$$typeof:mC,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=tu.transition;tu.transition={};try{e()}finally{tu.transition=t}};se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};se.useCallback=function(e,t){return Ot.current.useCallback(e,t)};se.useContext=function(e){return Ot.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return Ot.current.useDeferredValue(e)};se.useEffect=function(e,t){return Ot.current.useEffect(e,t)};se.useId=function(){return Ot.current.useId()};se.useImperativeHandle=function(e,t,n){return Ot.current.useImperativeHandle(e,t,n)};se.useInsertionEffect=function(e,t){return Ot.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return Ot.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return Ot.current.useMemo(e,t)};se.useReducer=function(e,t,n){return Ot.current.useReducer(e,t,n)};se.useRef=function(e){return Ot.current.useRef(e)};se.useState=function(e){return Ot.current.useState(e)};se.useSyncExternalStore=function(e,t,n){return Ot.current.useSyncExternalStore(e,t,n)};se.useTransition=function(){return Ot.current.useTransition()};se.version="18.2.0";$w.exports=se;var E=$w.exports;const et=qa(E),EC=oC({__proto__:null,default:et},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC=E,IC=Symbol.for("react.element"),AC=Symbol.for("react.fragment"),PC=Object.prototype.hasOwnProperty,CC=SC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RC={key:!0,ref:!0,__self:!0,__source:!0};function Kw(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)PC.call(t,r)&&!RC.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:IC,type:e,key:s,ref:o,props:i,_owner:CC.current}}Ic.Fragment=AC;Ic.jsx=Kw;Ic.jsxs=Kw;Fw.exports=Ic;var b=Fw.exports,Yf={},Gw={exports:{}},en={},Qw={exports:{}},Yw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,B){var Y=M.length;M.push(B);e:for(;0<Y;){var q=Y-1>>>1,fe=M[q];if(0<i(fe,B))M[q]=B,M[Y]=fe,Y=q;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var B=M[0],Y=M.pop();if(Y!==B){M[0]=Y;e:for(var q=0,fe=M.length,xt=fe>>>1;q<xt;){var nt=2*(q+1)-1,Pn=M[nt],kt=nt+1,qn=M[kt];if(0>i(Pn,Y))kt<fe&&0>i(qn,Pn)?(M[q]=qn,M[kt]=Y,q=kt):(M[q]=Pn,M[nt]=Y,q=nt);else if(kt<fe&&0>i(qn,Y))M[q]=qn,M[kt]=Y,q=kt;else break e}}return B}function i(M,B){var Y=M.sortIndex-B.sortIndex;return Y!==0?Y:M.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,d=!1,g=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(M){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=M)r(u),B.sortIndex=B.expirationTime,t(l,B);else break;B=n(u)}}function y(M){if(_=!1,v(M),!g)if(n(l)!==null)g=!0,ut(S);else{var B=n(u);B!==null&&vt(y,B.startTime-M)}}function S(M,B){g=!1,_&&(_=!1,p(P),P=-1),d=!0;var Y=f;try{for(v(B),h=n(l);h!==null&&(!(h.expirationTime>B)||M&&!ue());){var q=h.callback;if(typeof q=="function"){h.callback=null,f=h.priorityLevel;var fe=q(h.expirationTime<=B);B=e.unstable_now(),typeof fe=="function"?h.callback=fe:h===n(l)&&r(l),v(B)}else r(l);h=n(l)}if(h!==null)var xt=!0;else{var nt=n(u);nt!==null&&vt(y,nt.startTime-B),xt=!1}return xt}finally{h=null,f=Y,d=!1}}var x=!1,A=null,P=-1,N=5,$=-1;function ue(){return!(e.unstable_now()-$<N)}function Ce(){if(A!==null){var M=e.unstable_now();$=M;var B=!0;try{B=A(!0,M)}finally{B?Xe():(x=!1,A=null)}}else x=!1}var Xe;if(typeof m=="function")Xe=function(){m(Ce)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,ee=_e.port2;_e.port1.onmessage=Ce,Xe=function(){ee.postMessage(null)}}else Xe=function(){w(Ce,0)};function ut(M){A=M,x||(x=!0,Xe())}function vt(M,B){P=w(function(){M(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){g||d||(g=!0,ut(S))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(M){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var Y=f;f=B;try{return M()}finally{f=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,B){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Y=f;f=M;try{return B()}finally{f=Y}},e.unstable_scheduleCallback=function(M,B,Y){var q=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?q+Y:q):Y=q,M){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=Y+fe,M={id:c++,callback:B,priorityLevel:M,startTime:Y,expirationTime:fe,sortIndex:-1},Y>q?(M.sortIndex=Y,t(u,M),n(l)===null&&M===n(u)&&(_?(p(P),P=-1):_=!0,vt(y,Y-q))):(M.sortIndex=fe,t(l,M),g||d||(g=!0,ut(S))),M},e.unstable_shouldYield=ue,e.unstable_wrapCallback=function(M){var B=f;return function(){var Y=f;f=B;try{return M.apply(this,arguments)}finally{f=Y}}}})(Yw);Qw.exports=Yw;var xC=Qw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xw=E,Xt=xC;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jw=new Set,aa={};function ji(e,t){Ds(e,t),Ds(e+"Capture",t)}function Ds(e,t){for(aa[e]=t,e=0;e<t.length;e++)Jw.add(t[e])}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xf=Object.prototype.hasOwnProperty,kC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ly={},Ny={};function DC(e){return Xf.call(Ny,e)?!0:Xf.call(Ly,e)?!1:kC.test(e)?Ny[e]=!0:(Ly[e]=!0,!1)}function VC(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function MC(e,t,n,r){if(t===null||typeof t>"u"||VC(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function bt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yt[e]=new bt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];yt[t]=new bt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){yt[e]=new bt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yt[e]=new bt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yt[e]=new bt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){yt[e]=new bt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){yt[e]=new bt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){yt[e]=new bt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){yt[e]=new bt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gp=/[\-:]([a-z])/g;function Qp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gp,Qp);yt[t]=new bt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gp,Qp);yt[t]=new bt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gp,Qp);yt[t]=new bt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){yt[e]=new bt(e,1,!1,e.toLowerCase(),null,!1,!1)});yt.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){yt[e]=new bt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Yp(e,t,n,r){var i=yt.hasOwnProperty(t)?yt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(MC(t,n,i,r)&&(n=null),r||i===null?DC(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var fr=Xw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Al=Symbol.for("react.element"),ts=Symbol.for("react.portal"),ns=Symbol.for("react.fragment"),Xp=Symbol.for("react.strict_mode"),Jf=Symbol.for("react.profiler"),Zw=Symbol.for("react.provider"),e1=Symbol.for("react.context"),Jp=Symbol.for("react.forward_ref"),Zf=Symbol.for("react.suspense"),ed=Symbol.for("react.suspense_list"),Zp=Symbol.for("react.memo"),wr=Symbol.for("react.lazy"),t1=Symbol.for("react.offscreen"),Oy=Symbol.iterator;function uo(e){return e===null||typeof e!="object"?null:(e=Oy&&e[Oy]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Object.assign,Oh;function xo(e){if(Oh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Oh=t&&t[1]||""}return`
`+Oh+e}var bh=!1;function Fh(e,t){if(!e||bh)return"";bh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{bh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?xo(e):""}function LC(e){switch(e.tag){case 5:return xo(e.type);case 16:return xo("Lazy");case 13:return xo("Suspense");case 19:return xo("SuspenseList");case 0:case 2:case 15:return e=Fh(e.type,!1),e;case 11:return e=Fh(e.type.render,!1),e;case 1:return e=Fh(e.type,!0),e;default:return""}}function td(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ns:return"Fragment";case ts:return"Portal";case Jf:return"Profiler";case Xp:return"StrictMode";case Zf:return"Suspense";case ed:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case e1:return(e.displayName||"Context")+".Consumer";case Zw:return(e._context.displayName||"Context")+".Provider";case Jp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Zp:return t=e.displayName||null,t!==null?t:td(e.type)||"Memo";case wr:t=e._payload,e=e._init;try{return td(e(t))}catch{}}return null}function NC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return td(t);case 8:return t===Xp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Hr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function n1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function OC(e){var t=n1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pl(e){e._valueTracker||(e._valueTracker=OC(e))}function r1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=n1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Tu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nd(e,t){var n=t.checked;return Le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function by(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Hr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function i1(e,t){t=t.checked,t!=null&&Yp(e,"checked",t,!1)}function rd(e,t){i1(e,t);var n=Hr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?id(e,t.type,n):t.hasOwnProperty("defaultValue")&&id(e,t.type,Hr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Fy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function id(e,t,n){(t!=="number"||Tu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ko=Array.isArray;function ws(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Hr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function sd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return Le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $y(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(ko(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Hr(n)}}function s1(e,t){var n=Hr(t.value),r=Hr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function jy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function o1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function od(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?o1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Cl,a1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Cl=Cl||document.createElement("div"),Cl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Cl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function la(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var jo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bC=["Webkit","ms","Moz","O"];Object.keys(jo).forEach(function(e){bC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jo[t]=jo[e]})});function l1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||jo.hasOwnProperty(e)&&jo[e]?(""+t).trim():t+"px"}function u1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=l1(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var FC=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ad(e,t){if(t){if(FC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function ld(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ud=null;function em(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cd=null,Ts=null,Es=null;function By(e){if(e=Qa(e)){if(typeof cd!="function")throw Error(D(280));var t=e.stateNode;t&&(t=xc(t),cd(e.stateNode,e.type,t))}}function c1(e){Ts?Es?Es.push(e):Es=[e]:Ts=e}function h1(){if(Ts){var e=Ts,t=Es;if(Es=Ts=null,By(e),t)for(e=0;e<t.length;e++)By(t[e])}}function f1(e,t){return e(t)}function d1(){}var $h=!1;function p1(e,t,n){if($h)return e(t,n);$h=!0;try{return f1(e,t,n)}finally{$h=!1,(Ts!==null||Es!==null)&&(d1(),h1())}}function ua(e,t){var n=e.stateNode;if(n===null)return null;var r=xc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var hd=!1;if(rr)try{var co={};Object.defineProperty(co,"passive",{get:function(){hd=!0}}),window.addEventListener("test",co,co),window.removeEventListener("test",co,co)}catch{hd=!1}function $C(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Bo=!1,Eu=null,Su=!1,fd=null,jC={onError:function(e){Bo=!0,Eu=e}};function BC(e,t,n,r,i,s,o,a,l){Bo=!1,Eu=null,$C.apply(jC,arguments)}function UC(e,t,n,r,i,s,o,a,l){if(BC.apply(this,arguments),Bo){if(Bo){var u=Eu;Bo=!1,Eu=null}else throw Error(D(198));Su||(Su=!0,fd=u)}}function Bi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Uy(e){if(Bi(e)!==e)throw Error(D(188))}function zC(e){var t=e.alternate;if(!t){if(t=Bi(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Uy(i),e;if(s===r)return Uy(i),t;s=s.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function g1(e){return e=zC(e),e!==null?y1(e):null}function y1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=y1(e);if(t!==null)return t;e=e.sibling}return null}var v1=Xt.unstable_scheduleCallback,zy=Xt.unstable_cancelCallback,HC=Xt.unstable_shouldYield,qC=Xt.unstable_requestPaint,He=Xt.unstable_now,WC=Xt.unstable_getCurrentPriorityLevel,tm=Xt.unstable_ImmediatePriority,_1=Xt.unstable_UserBlockingPriority,Iu=Xt.unstable_NormalPriority,KC=Xt.unstable_LowPriority,w1=Xt.unstable_IdlePriority,Ac=null,bn=null;function GC(e){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Ac,e,void 0,(e.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:XC,QC=Math.log,YC=Math.LN2;function XC(e){return e>>>=0,e===0?32:31-(QC(e)/YC|0)|0}var Rl=64,xl=4194304;function Do(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Au(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Do(a):(s&=o,s!==0&&(r=Do(s)))}else o=n&~i,o!==0?r=Do(o):s!==0&&(r=Do(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wn(t),i=1<<n,r|=e[n],t&=~i;return r}function JC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZC(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-wn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=JC(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function dd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function T1(){var e=Rl;return Rl<<=1,!(Rl&4194240)&&(Rl=64),e}function jh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ka(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wn(t),e[t]=n}function eR(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-wn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function nm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var pe=0;function E1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var S1,rm,I1,A1,P1,pd=!1,kl=[],Rr=null,xr=null,kr=null,ca=new Map,ha=new Map,Sr=[],tR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hy(e,t){switch(e){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":ca.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ha.delete(t.pointerId)}}function ho(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Qa(t),t!==null&&rm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function nR(e,t,n,r,i){switch(t){case"focusin":return Rr=ho(Rr,e,t,n,r,i),!0;case"dragenter":return xr=ho(xr,e,t,n,r,i),!0;case"mouseover":return kr=ho(kr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ca.set(s,ho(ca.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ha.set(s,ho(ha.get(s)||null,e,t,n,r,i)),!0}return!1}function C1(e){var t=pi(e.target);if(t!==null){var n=Bi(t);if(n!==null){if(t=n.tag,t===13){if(t=m1(n),t!==null){e.blockedOn=t,P1(e.priority,function(){I1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=md(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ud=r,n.target.dispatchEvent(r),ud=null}else return t=Qa(n),t!==null&&rm(t),e.blockedOn=n,!1;t.shift()}return!0}function qy(e,t,n){nu(e)&&n.delete(t)}function rR(){pd=!1,Rr!==null&&nu(Rr)&&(Rr=null),xr!==null&&nu(xr)&&(xr=null),kr!==null&&nu(kr)&&(kr=null),ca.forEach(qy),ha.forEach(qy)}function fo(e,t){e.blockedOn===t&&(e.blockedOn=null,pd||(pd=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,rR)))}function fa(e){function t(i){return fo(i,e)}if(0<kl.length){fo(kl[0],e);for(var n=1;n<kl.length;n++){var r=kl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Rr!==null&&fo(Rr,e),xr!==null&&fo(xr,e),kr!==null&&fo(kr,e),ca.forEach(t),ha.forEach(t),n=0;n<Sr.length;n++)r=Sr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Sr.length&&(n=Sr[0],n.blockedOn===null);)C1(n),n.blockedOn===null&&Sr.shift()}var Ss=fr.ReactCurrentBatchConfig,Pu=!0;function iR(e,t,n,r){var i=pe,s=Ss.transition;Ss.transition=null;try{pe=1,im(e,t,n,r)}finally{pe=i,Ss.transition=s}}function sR(e,t,n,r){var i=pe,s=Ss.transition;Ss.transition=null;try{pe=4,im(e,t,n,r)}finally{pe=i,Ss.transition=s}}function im(e,t,n,r){if(Pu){var i=md(e,t,n,r);if(i===null)Yh(e,t,r,Cu,n),Hy(e,r);else if(nR(i,e,t,n,r))r.stopPropagation();else if(Hy(e,r),t&4&&-1<tR.indexOf(e)){for(;i!==null;){var s=Qa(i);if(s!==null&&S1(s),s=md(e,t,n,r),s===null&&Yh(e,t,r,Cu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Yh(e,t,r,null,n)}}var Cu=null;function md(e,t,n,r){if(Cu=null,e=em(r),e=pi(e),e!==null)if(t=Bi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=m1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Cu=e,null}function R1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WC()){case tm:return 1;case _1:return 4;case Iu:case KC:return 16;case w1:return 536870912;default:return 16}default:return 16}}var Ar=null,sm=null,ru=null;function x1(){if(ru)return ru;var e,t=sm,n=t.length,r,i="value"in Ar?Ar.value:Ar.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return ru=i.slice(e,1<r?1-r:void 0)}function iu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dl(){return!0}function Wy(){return!1}function tn(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Dl:Wy,this.isPropagationStopped=Wy,this}return Le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dl)},persist:function(){},isPersistent:Dl}),t}var Qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},om=tn(Qs),Ga=Le({},Qs,{view:0,detail:0}),oR=tn(Ga),Bh,Uh,po,Pc=Le({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:am,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==po&&(po&&e.type==="mousemove"?(Bh=e.screenX-po.screenX,Uh=e.screenY-po.screenY):Uh=Bh=0,po=e),Bh)},movementY:function(e){return"movementY"in e?e.movementY:Uh}}),Ky=tn(Pc),aR=Le({},Pc,{dataTransfer:0}),lR=tn(aR),uR=Le({},Ga,{relatedTarget:0}),zh=tn(uR),cR=Le({},Qs,{animationName:0,elapsedTime:0,pseudoElement:0}),hR=tn(cR),fR=Le({},Qs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dR=tn(fR),pR=Le({},Qs,{data:0}),Gy=tn(pR),mR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yR[e])?!!t[e]:!1}function am(){return vR}var _R=Le({},Ga,{key:function(e){if(e.key){var t=mR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=iu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:am,charCode:function(e){return e.type==="keypress"?iu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?iu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wR=tn(_R),TR=Le({},Pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qy=tn(TR),ER=Le({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:am}),SR=tn(ER),IR=Le({},Qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),AR=tn(IR),PR=Le({},Pc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),CR=tn(PR),RR=[9,13,27,32],lm=rr&&"CompositionEvent"in window,Uo=null;rr&&"documentMode"in document&&(Uo=document.documentMode);var xR=rr&&"TextEvent"in window&&!Uo,k1=rr&&(!lm||Uo&&8<Uo&&11>=Uo),Yy=String.fromCharCode(32),Xy=!1;function D1(e,t){switch(e){case"keyup":return RR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function V1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rs=!1;function kR(e,t){switch(e){case"compositionend":return V1(t);case"keypress":return t.which!==32?null:(Xy=!0,Yy);case"textInput":return e=t.data,e===Yy&&Xy?null:e;default:return null}}function DR(e,t){if(rs)return e==="compositionend"||!lm&&D1(e,t)?(e=x1(),ru=sm=Ar=null,rs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return k1&&t.locale!=="ko"?null:t.data;default:return null}}var VR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!VR[e.type]:t==="textarea"}function M1(e,t,n,r){c1(r),t=Ru(t,"onChange"),0<t.length&&(n=new om("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zo=null,da=null;function MR(e){H1(e,0)}function Cc(e){var t=os(e);if(r1(t))return e}function LR(e,t){if(e==="change")return t}var L1=!1;if(rr){var Hh;if(rr){var qh="oninput"in document;if(!qh){var Zy=document.createElement("div");Zy.setAttribute("oninput","return;"),qh=typeof Zy.oninput=="function"}Hh=qh}else Hh=!1;L1=Hh&&(!document.documentMode||9<document.documentMode)}function ev(){zo&&(zo.detachEvent("onpropertychange",N1),da=zo=null)}function N1(e){if(e.propertyName==="value"&&Cc(da)){var t=[];M1(t,da,e,em(e)),p1(MR,t)}}function NR(e,t,n){e==="focusin"?(ev(),zo=t,da=n,zo.attachEvent("onpropertychange",N1)):e==="focusout"&&ev()}function OR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cc(da)}function bR(e,t){if(e==="click")return Cc(t)}function FR(e,t){if(e==="input"||e==="change")return Cc(t)}function $R(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sn=typeof Object.is=="function"?Object.is:$R;function pa(e,t){if(Sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Xf.call(t,i)||!Sn(e[i],t[i]))return!1}return!0}function tv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nv(e,t){var n=tv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tv(n)}}function O1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?O1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function b1(){for(var e=window,t=Tu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Tu(e.document)}return t}function um(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function jR(e){var t=b1(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&O1(n.ownerDocument.documentElement,n)){if(r!==null&&um(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=nv(n,s);var o=nv(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var BR=rr&&"documentMode"in document&&11>=document.documentMode,is=null,gd=null,Ho=null,yd=!1;function rv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yd||is==null||is!==Tu(r)||(r=is,"selectionStart"in r&&um(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ho&&pa(Ho,r)||(Ho=r,r=Ru(gd,"onSelect"),0<r.length&&(t=new om("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=is)))}function Vl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ss={animationend:Vl("Animation","AnimationEnd"),animationiteration:Vl("Animation","AnimationIteration"),animationstart:Vl("Animation","AnimationStart"),transitionend:Vl("Transition","TransitionEnd")},Wh={},F1={};rr&&(F1=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function Rc(e){if(Wh[e])return Wh[e];if(!ss[e])return e;var t=ss[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in F1)return Wh[e]=t[n];return e}var $1=Rc("animationend"),j1=Rc("animationiteration"),B1=Rc("animationstart"),U1=Rc("transitionend"),z1=new Map,iv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jr(e,t){z1.set(e,t),ji(t,[e])}for(var Kh=0;Kh<iv.length;Kh++){var Gh=iv[Kh],UR=Gh.toLowerCase(),zR=Gh[0].toUpperCase()+Gh.slice(1);Jr(UR,"on"+zR)}Jr($1,"onAnimationEnd");Jr(j1,"onAnimationIteration");Jr(B1,"onAnimationStart");Jr("dblclick","onDoubleClick");Jr("focusin","onFocus");Jr("focusout","onBlur");Jr(U1,"onTransitionEnd");Ds("onMouseEnter",["mouseout","mouseover"]);Ds("onMouseLeave",["mouseout","mouseover"]);Ds("onPointerEnter",["pointerout","pointerover"]);Ds("onPointerLeave",["pointerout","pointerover"]);ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vo));function sv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,UC(r,t,void 0,e),e.currentTarget=null}function H1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;sv(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;sv(i,a,u),s=l}}}if(Su)throw e=fd,Su=!1,fd=null,e}function Ee(e,t){var n=t[Ed];n===void 0&&(n=t[Ed]=new Set);var r=e+"__bubble";n.has(r)||(q1(t,e,2,!1),n.add(r))}function Qh(e,t,n){var r=0;t&&(r|=4),q1(n,e,r,t)}var Ml="_reactListening"+Math.random().toString(36).slice(2);function ma(e){if(!e[Ml]){e[Ml]=!0,Jw.forEach(function(n){n!=="selectionchange"&&(HR.has(n)||Qh(n,!1,e),Qh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ml]||(t[Ml]=!0,Qh("selectionchange",!1,t))}}function q1(e,t,n,r){switch(R1(t)){case 1:var i=iR;break;case 4:i=sR;break;default:i=im}n=i.bind(null,t,n,e),i=void 0,!hd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Yh(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=pi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}p1(function(){var u=s,c=em(n),h=[];e:{var f=z1.get(e);if(f!==void 0){var d=om,g=e;switch(e){case"keypress":if(iu(n)===0)break e;case"keydown":case"keyup":d=wR;break;case"focusin":g="focus",d=zh;break;case"focusout":g="blur",d=zh;break;case"beforeblur":case"afterblur":d=zh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Ky;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=lR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=SR;break;case $1:case j1:case B1:d=hR;break;case U1:d=AR;break;case"scroll":d=oR;break;case"wheel":d=CR;break;case"copy":case"cut":case"paste":d=dR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Qy}var _=(t&4)!==0,w=!_&&e==="scroll",p=_?f!==null?f+"Capture":null:f;_=[];for(var m=u,v;m!==null;){v=m;var y=v.stateNode;if(v.tag===5&&y!==null&&(v=y,p!==null&&(y=ua(m,p),y!=null&&_.push(ga(m,y,v)))),w)break;m=m.return}0<_.length&&(f=new d(f,g,null,n,c),h.push({event:f,listeners:_}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",f&&n!==ud&&(g=n.relatedTarget||n.fromElement)&&(pi(g)||g[ir]))break e;if((d||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,d?(g=n.relatedTarget||n.toElement,d=u,g=g?pi(g):null,g!==null&&(w=Bi(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(d=null,g=u),d!==g)){if(_=Ky,y="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(_=Qy,y="onPointerLeave",p="onPointerEnter",m="pointer"),w=d==null?f:os(d),v=g==null?f:os(g),f=new _(y,m+"leave",d,n,c),f.target=w,f.relatedTarget=v,y=null,pi(c)===u&&(_=new _(p,m+"enter",g,n,c),_.target=v,_.relatedTarget=w,y=_),w=y,d&&g)t:{for(_=d,p=g,m=0,v=_;v;v=Qi(v))m++;for(v=0,y=p;y;y=Qi(y))v++;for(;0<m-v;)_=Qi(_),m--;for(;0<v-m;)p=Qi(p),v--;for(;m--;){if(_===p||p!==null&&_===p.alternate)break t;_=Qi(_),p=Qi(p)}_=null}else _=null;d!==null&&ov(h,f,d,_,!1),g!==null&&w!==null&&ov(h,w,g,_,!0)}}e:{if(f=u?os(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var S=LR;else if(Jy(f))if(L1)S=FR;else{S=OR;var x=NR}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=bR);if(S&&(S=S(e,u))){M1(h,S,n,c);break e}x&&x(e,f,u),e==="focusout"&&(x=f._wrapperState)&&x.controlled&&f.type==="number"&&id(f,"number",f.value)}switch(x=u?os(u):window,e){case"focusin":(Jy(x)||x.contentEditable==="true")&&(is=x,gd=u,Ho=null);break;case"focusout":Ho=gd=is=null;break;case"mousedown":yd=!0;break;case"contextmenu":case"mouseup":case"dragend":yd=!1,rv(h,n,c);break;case"selectionchange":if(BR)break;case"keydown":case"keyup":rv(h,n,c)}var A;if(lm)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else rs?D1(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(k1&&n.locale!=="ko"&&(rs||P!=="onCompositionStart"?P==="onCompositionEnd"&&rs&&(A=x1()):(Ar=c,sm="value"in Ar?Ar.value:Ar.textContent,rs=!0)),x=Ru(u,P),0<x.length&&(P=new Gy(P,e,null,n,c),h.push({event:P,listeners:x}),A?P.data=A:(A=V1(n),A!==null&&(P.data=A)))),(A=xR?kR(e,n):DR(e,n))&&(u=Ru(u,"onBeforeInput"),0<u.length&&(c=new Gy("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=A))}H1(h,t)})}function ga(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ru(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ua(e,n),s!=null&&r.unshift(ga(e,s,i)),s=ua(e,t),s!=null&&r.push(ga(e,s,i))),e=e.return}return r}function Qi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ov(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ua(n,s),l!=null&&o.unshift(ga(n,l,a))):i||(l=ua(n,s),l!=null&&o.push(ga(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var qR=/\r\n?/g,WR=/\u0000|\uFFFD/g;function av(e){return(typeof e=="string"?e:""+e).replace(qR,`
`).replace(WR,"")}function Ll(e,t,n){if(t=av(t),av(e)!==t&&n)throw Error(D(425))}function xu(){}var vd=null,_d=null;function wd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Td=typeof setTimeout=="function"?setTimeout:void 0,KR=typeof clearTimeout=="function"?clearTimeout:void 0,lv=typeof Promise=="function"?Promise:void 0,GR=typeof queueMicrotask=="function"?queueMicrotask:typeof lv<"u"?function(e){return lv.resolve(null).then(e).catch(QR)}:Td;function QR(e){setTimeout(function(){throw e})}function Xh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),fa(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);fa(t)}function Dr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function uv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ys=Math.random().toString(36).slice(2),Mn="__reactFiber$"+Ys,ya="__reactProps$"+Ys,ir="__reactContainer$"+Ys,Ed="__reactEvents$"+Ys,YR="__reactListeners$"+Ys,XR="__reactHandles$"+Ys;function pi(e){var t=e[Mn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ir]||n[Mn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=uv(e);e!==null;){if(n=e[Mn])return n;e=uv(e)}return t}e=n,n=e.parentNode}return null}function Qa(e){return e=e[Mn]||e[ir],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function os(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function xc(e){return e[ya]||null}var Sd=[],as=-1;function Zr(e){return{current:e}}function Ae(e){0>as||(e.current=Sd[as],Sd[as]=null,as--)}function we(e,t){as++,Sd[as]=e.current,e.current=t}var qr={},Ct=Zr(qr),Bt=Zr(!1),Pi=qr;function Vs(e,t){var n=e.type.contextTypes;if(!n)return qr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ut(e){return e=e.childContextTypes,e!=null}function ku(){Ae(Bt),Ae(Ct)}function cv(e,t,n){if(Ct.current!==qr)throw Error(D(168));we(Ct,t),we(Bt,n)}function W1(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(D(108,NC(e)||"Unknown",i));return Le({},n,r)}function Du(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qr,Pi=Ct.current,we(Ct,e),we(Bt,Bt.current),!0}function hv(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=W1(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ae(Bt),Ae(Ct),we(Ct,e)):Ae(Bt),we(Bt,n)}var Gn=null,kc=!1,Jh=!1;function K1(e){Gn===null?Gn=[e]:Gn.push(e)}function JR(e){kc=!0,K1(e)}function ei(){if(!Jh&&Gn!==null){Jh=!0;var e=0,t=pe;try{var n=Gn;for(pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Gn=null,kc=!1}catch(i){throw Gn!==null&&(Gn=Gn.slice(e+1)),v1(tm,ei),i}finally{pe=t,Jh=!1}}return null}var ls=[],us=0,Vu=null,Mu=0,on=[],an=0,Ci=null,Qn=1,Yn="";function ui(e,t){ls[us++]=Mu,ls[us++]=Vu,Vu=e,Mu=t}function G1(e,t,n){on[an++]=Qn,on[an++]=Yn,on[an++]=Ci,Ci=e;var r=Qn;e=Yn;var i=32-wn(r)-1;r&=~(1<<i),n+=1;var s=32-wn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qn=1<<32-wn(t)+i|n<<i|r,Yn=s+e}else Qn=1<<s|n<<i|r,Yn=e}function cm(e){e.return!==null&&(ui(e,1),G1(e,1,0))}function hm(e){for(;e===Vu;)Vu=ls[--us],ls[us]=null,Mu=ls[--us],ls[us]=null;for(;e===Ci;)Ci=on[--an],on[an]=null,Yn=on[--an],on[an]=null,Qn=on[--an],on[an]=null}var Qt=null,Kt=null,xe=!1,_n=null;function Q1(e,t){var n=un(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qt=e,Kt=Dr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qt=e,Kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ci!==null?{id:Qn,overflow:Yn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=un(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Qt=e,Kt=null,!0):!1;default:return!1}}function Id(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ad(e){if(xe){var t=Kt;if(t){var n=t;if(!fv(e,t)){if(Id(e))throw Error(D(418));t=Dr(n.nextSibling);var r=Qt;t&&fv(e,t)?Q1(r,n):(e.flags=e.flags&-4097|2,xe=!1,Qt=e)}}else{if(Id(e))throw Error(D(418));e.flags=e.flags&-4097|2,xe=!1,Qt=e}}}function dv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qt=e}function Nl(e){if(e!==Qt)return!1;if(!xe)return dv(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wd(e.type,e.memoizedProps)),t&&(t=Kt)){if(Id(e))throw Y1(),Error(D(418));for(;t;)Q1(e,t),t=Dr(t.nextSibling)}if(dv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Kt=Dr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Kt=null}}else Kt=Qt?Dr(e.stateNode.nextSibling):null;return!0}function Y1(){for(var e=Kt;e;)e=Dr(e.nextSibling)}function Ms(){Kt=Qt=null,xe=!1}function fm(e){_n===null?_n=[e]:_n.push(e)}var ZR=fr.ReactCurrentBatchConfig;function gn(e,t){if(e&&e.defaultProps){t=Le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Lu=Zr(null),Nu=null,cs=null,dm=null;function pm(){dm=cs=Nu=null}function mm(e){var t=Lu.current;Ae(Lu),e._currentValue=t}function Pd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Is(e,t){Nu=e,dm=cs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(jt=!0),e.firstContext=null)}function hn(e){var t=e._currentValue;if(dm!==e)if(e={context:e,memoizedValue:t,next:null},cs===null){if(Nu===null)throw Error(D(308));cs=e,Nu.dependencies={lanes:0,firstContext:e}}else cs=cs.next=e;return t}var mi=null;function gm(e){mi===null?mi=[e]:mi.push(e)}function X1(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,gm(t)):(n.next=i.next,i.next=n),t.interleaved=n,sr(e,r)}function sr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Tr=!1;function ym(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function J1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,sr(e,n)}return i=r.interleaved,i===null?(t.next=t,gm(r)):(t.next=i.next,i.next=t),r.interleaved=t,sr(e,n)}function su(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,nm(e,n)}}function pv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ou(e,t,n,r){var i=e.updateQueue;Tr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,d=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,_=a;switch(f=t,d=n,_.tag){case 1:if(g=_.payload,typeof g=="function"){h=g.call(d,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,f=typeof g=="function"?g.call(d,h,f):g,f==null)break e;h=Le({},h,f);break e;case 2:Tr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=d,l=h):c=c.next=d,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);xi|=o,e.lanes=o,e.memoizedState=h}}function mv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(D(191,i));i.call(r)}}}var Z1=new Xw.Component().refs;function Cd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Dc={isMounted:function(e){return(e=e._reactInternals)?Bi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Lt(),i=Lr(e),s=Zn(r,i);s.payload=t,n!=null&&(s.callback=n),t=Vr(e,s,i),t!==null&&(Tn(t,e,i,r),su(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Lt(),i=Lr(e),s=Zn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Vr(e,s,i),t!==null&&(Tn(t,e,i,r),su(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lt(),r=Lr(e),i=Zn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Vr(e,i,r),t!==null&&(Tn(t,e,r,n),su(t,e,r))}};function gv(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!pa(n,r)||!pa(i,s):!0}function eT(e,t,n){var r=!1,i=qr,s=t.contextType;return typeof s=="object"&&s!==null?s=hn(s):(i=Ut(t)?Pi:Ct.current,r=t.contextTypes,s=(r=r!=null)?Vs(e,i):qr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function yv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Dc.enqueueReplaceState(t,t.state,null)}function Rd(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Z1,ym(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=hn(s):(s=Ut(t)?Pi:Ct.current,i.context=Vs(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Cd(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Dc.enqueueReplaceState(i,i.state,null),Ou(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function mo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===Z1&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function Ol(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vv(e){var t=e._init;return t(e._payload)}function tT(e){function t(p,m){if(e){var v=p.deletions;v===null?(p.deletions=[m],p.flags|=16):v.push(m)}}function n(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function r(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function i(p,m){return p=Nr(p,m),p.index=0,p.sibling=null,p}function s(p,m,v){return p.index=v,e?(v=p.alternate,v!==null?(v=v.index,v<m?(p.flags|=2,m):v):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,m,v,y){return m===null||m.tag!==6?(m=of(v,p.mode,y),m.return=p,m):(m=i(m,v),m.return=p,m)}function l(p,m,v,y){var S=v.type;return S===ns?c(p,m,v.props.children,y,v.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===wr&&vv(S)===m.type)?(y=i(m,v.props),y.ref=mo(p,m,v),y.return=p,y):(y=hu(v.type,v.key,v.props,null,p.mode,y),y.ref=mo(p,m,v),y.return=p,y)}function u(p,m,v,y){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=af(v,p.mode,y),m.return=p,m):(m=i(m,v.children||[]),m.return=p,m)}function c(p,m,v,y,S){return m===null||m.tag!==7?(m=Ii(v,p.mode,y,S),m.return=p,m):(m=i(m,v),m.return=p,m)}function h(p,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=of(""+m,p.mode,v),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Al:return v=hu(m.type,m.key,m.props,null,p.mode,v),v.ref=mo(p,null,m),v.return=p,v;case ts:return m=af(m,p.mode,v),m.return=p,m;case wr:var y=m._init;return h(p,y(m._payload),v)}if(ko(m)||uo(m))return m=Ii(m,p.mode,v,null),m.return=p,m;Ol(p,m)}return null}function f(p,m,v,y){var S=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(p,m,""+v,y);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Al:return v.key===S?l(p,m,v,y):null;case ts:return v.key===S?u(p,m,v,y):null;case wr:return S=v._init,f(p,m,S(v._payload),y)}if(ko(v)||uo(v))return S!==null?null:c(p,m,v,y,null);Ol(p,v)}return null}function d(p,m,v,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return p=p.get(v)||null,a(m,p,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Al:return p=p.get(y.key===null?v:y.key)||null,l(m,p,y,S);case ts:return p=p.get(y.key===null?v:y.key)||null,u(m,p,y,S);case wr:var x=y._init;return d(p,m,v,x(y._payload),S)}if(ko(y)||uo(y))return p=p.get(v)||null,c(m,p,y,S,null);Ol(m,y)}return null}function g(p,m,v,y){for(var S=null,x=null,A=m,P=m=0,N=null;A!==null&&P<v.length;P++){A.index>P?(N=A,A=null):N=A.sibling;var $=f(p,A,v[P],y);if($===null){A===null&&(A=N);break}e&&A&&$.alternate===null&&t(p,A),m=s($,m,P),x===null?S=$:x.sibling=$,x=$,A=N}if(P===v.length)return n(p,A),xe&&ui(p,P),S;if(A===null){for(;P<v.length;P++)A=h(p,v[P],y),A!==null&&(m=s(A,m,P),x===null?S=A:x.sibling=A,x=A);return xe&&ui(p,P),S}for(A=r(p,A);P<v.length;P++)N=d(A,p,P,v[P],y),N!==null&&(e&&N.alternate!==null&&A.delete(N.key===null?P:N.key),m=s(N,m,P),x===null?S=N:x.sibling=N,x=N);return e&&A.forEach(function(ue){return t(p,ue)}),xe&&ui(p,P),S}function _(p,m,v,y){var S=uo(v);if(typeof S!="function")throw Error(D(150));if(v=S.call(v),v==null)throw Error(D(151));for(var x=S=null,A=m,P=m=0,N=null,$=v.next();A!==null&&!$.done;P++,$=v.next()){A.index>P?(N=A,A=null):N=A.sibling;var ue=f(p,A,$.value,y);if(ue===null){A===null&&(A=N);break}e&&A&&ue.alternate===null&&t(p,A),m=s(ue,m,P),x===null?S=ue:x.sibling=ue,x=ue,A=N}if($.done)return n(p,A),xe&&ui(p,P),S;if(A===null){for(;!$.done;P++,$=v.next())$=h(p,$.value,y),$!==null&&(m=s($,m,P),x===null?S=$:x.sibling=$,x=$);return xe&&ui(p,P),S}for(A=r(p,A);!$.done;P++,$=v.next())$=d(A,p,P,$.value,y),$!==null&&(e&&$.alternate!==null&&A.delete($.key===null?P:$.key),m=s($,m,P),x===null?S=$:x.sibling=$,x=$);return e&&A.forEach(function(Ce){return t(p,Ce)}),xe&&ui(p,P),S}function w(p,m,v,y){if(typeof v=="object"&&v!==null&&v.type===ns&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Al:e:{for(var S=v.key,x=m;x!==null;){if(x.key===S){if(S=v.type,S===ns){if(x.tag===7){n(p,x.sibling),m=i(x,v.props.children),m.return=p,p=m;break e}}else if(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===wr&&vv(S)===x.type){n(p,x.sibling),m=i(x,v.props),m.ref=mo(p,x,v),m.return=p,p=m;break e}n(p,x);break}else t(p,x);x=x.sibling}v.type===ns?(m=Ii(v.props.children,p.mode,y,v.key),m.return=p,p=m):(y=hu(v.type,v.key,v.props,null,p.mode,y),y.ref=mo(p,m,v),y.return=p,p=y)}return o(p);case ts:e:{for(x=v.key;m!==null;){if(m.key===x)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(p,m.sibling),m=i(m,v.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else t(p,m);m=m.sibling}m=af(v,p.mode,y),m.return=p,p=m}return o(p);case wr:return x=v._init,w(p,m,x(v._payload),y)}if(ko(v))return g(p,m,v,y);if(uo(v))return _(p,m,v,y);Ol(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(p,m.sibling),m=i(m,v),m.return=p,p=m):(n(p,m),m=of(v,p.mode,y),m.return=p,p=m),o(p)):n(p,m)}return w}var Ls=tT(!0),nT=tT(!1),Ya={},Fn=Zr(Ya),va=Zr(Ya),_a=Zr(Ya);function gi(e){if(e===Ya)throw Error(D(174));return e}function vm(e,t){switch(we(_a,t),we(va,e),we(Fn,Ya),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:od(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=od(t,e)}Ae(Fn),we(Fn,t)}function Ns(){Ae(Fn),Ae(va),Ae(_a)}function rT(e){gi(_a.current);var t=gi(Fn.current),n=od(t,e.type);t!==n&&(we(va,e),we(Fn,n))}function _m(e){va.current===e&&(Ae(Fn),Ae(va))}var De=Zr(0);function bu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zh=[];function wm(){for(var e=0;e<Zh.length;e++)Zh[e]._workInProgressVersionPrimary=null;Zh.length=0}var ou=fr.ReactCurrentDispatcher,ef=fr.ReactCurrentBatchConfig,Ri=0,Me=null,Ze=null,st=null,Fu=!1,qo=!1,wa=0,ex=0;function _t(){throw Error(D(321))}function Tm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Sn(e[n],t[n]))return!1;return!0}function Em(e,t,n,r,i,s){if(Ri=s,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ou.current=e===null||e.memoizedState===null?ix:sx,e=n(r,i),qo){s=0;do{if(qo=!1,wa=0,25<=s)throw Error(D(301));s+=1,st=Ze=null,t.updateQueue=null,ou.current=ox,e=n(r,i)}while(qo)}if(ou.current=$u,t=Ze!==null&&Ze.next!==null,Ri=0,st=Ze=Me=null,Fu=!1,t)throw Error(D(300));return e}function Sm(){var e=wa!==0;return wa=0,e}function Dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Me.memoizedState=st=e:st=st.next=e,st}function fn(){if(Ze===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=st===null?Me.memoizedState:st.next;if(t!==null)st=t,Ze=e;else{if(e===null)throw Error(D(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},st===null?Me.memoizedState=st=e:st=st.next=e}return st}function Ta(e,t){return typeof t=="function"?t(e):t}function tf(e){var t=fn(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=Ze,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Ri&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Me.lanes|=c,xi|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Sn(r,t.memoizedState)||(jt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Me.lanes|=s,xi|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function nf(e){var t=fn(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Sn(s,t.memoizedState)||(jt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function iT(){}function sT(e,t){var n=Me,r=fn(),i=t(),s=!Sn(r.memoizedState,i);if(s&&(r.memoizedState=i,jt=!0),r=r.queue,Im(lT.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||st!==null&&st.memoizedState.tag&1){if(n.flags|=2048,Ea(9,aT.bind(null,n,r,i,t),void 0,null),ot===null)throw Error(D(349));Ri&30||oT(n,t,i)}return i}function oT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function aT(e,t,n,r){t.value=n,t.getSnapshot=r,uT(t)&&cT(e)}function lT(e,t,n){return n(function(){uT(t)&&cT(e)})}function uT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Sn(e,n)}catch{return!0}}function cT(e){var t=sr(e,1);t!==null&&Tn(t,e,1,-1)}function _v(e){var t=Dn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t.queue=e,e=e.dispatch=rx.bind(null,Me,e),[t.memoizedState,e]}function Ea(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function hT(){return fn().memoizedState}function au(e,t,n,r){var i=Dn();Me.flags|=e,i.memoizedState=Ea(1|t,n,void 0,r===void 0?null:r)}function Vc(e,t,n,r){var i=fn();r=r===void 0?null:r;var s=void 0;if(Ze!==null){var o=Ze.memoizedState;if(s=o.destroy,r!==null&&Tm(r,o.deps)){i.memoizedState=Ea(t,n,s,r);return}}Me.flags|=e,i.memoizedState=Ea(1|t,n,s,r)}function wv(e,t){return au(8390656,8,e,t)}function Im(e,t){return Vc(2048,8,e,t)}function fT(e,t){return Vc(4,2,e,t)}function dT(e,t){return Vc(4,4,e,t)}function pT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mT(e,t,n){return n=n!=null?n.concat([e]):null,Vc(4,4,pT.bind(null,t,e),n)}function Am(){}function gT(e,t){var n=fn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Tm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function yT(e,t){var n=fn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Tm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function vT(e,t,n){return Ri&21?(Sn(n,t)||(n=T1(),Me.lanes|=n,xi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,jt=!0),e.memoizedState=n)}function tx(e,t){var n=pe;pe=n!==0&&4>n?n:4,e(!0);var r=ef.transition;ef.transition={};try{e(!1),t()}finally{pe=n,ef.transition=r}}function _T(){return fn().memoizedState}function nx(e,t,n){var r=Lr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wT(e))TT(t,n);else if(n=X1(e,t,n,r),n!==null){var i=Lt();Tn(n,e,r,i),ET(n,t,r)}}function rx(e,t,n){var r=Lr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wT(e))TT(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Sn(a,o)){var l=t.interleaved;l===null?(i.next=i,gm(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=X1(e,t,i,r),n!==null&&(i=Lt(),Tn(n,e,r,i),ET(n,t,r))}}function wT(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function TT(e,t){qo=Fu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ET(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,nm(e,n)}}var $u={readContext:hn,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},ix={readContext:hn,useCallback:function(e,t){return Dn().memoizedState=[e,t===void 0?null:t],e},useContext:hn,useEffect:wv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,au(4194308,4,pT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return au(4194308,4,e,t)},useInsertionEffect:function(e,t){return au(4,2,e,t)},useMemo:function(e,t){var n=Dn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Dn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=nx.bind(null,Me,e),[r.memoizedState,e]},useRef:function(e){var t=Dn();return e={current:e},t.memoizedState=e},useState:_v,useDebugValue:Am,useDeferredValue:function(e){return Dn().memoizedState=e},useTransition:function(){var e=_v(!1),t=e[0];return e=tx.bind(null,e[1]),Dn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Me,i=Dn();if(xe){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),ot===null)throw Error(D(349));Ri&30||oT(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,wv(lT.bind(null,r,s,e),[e]),r.flags|=2048,Ea(9,aT.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Dn(),t=ot.identifierPrefix;if(xe){var n=Yn,r=Qn;n=(r&~(1<<32-wn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=wa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ex++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sx={readContext:hn,useCallback:gT,useContext:hn,useEffect:Im,useImperativeHandle:mT,useInsertionEffect:fT,useLayoutEffect:dT,useMemo:yT,useReducer:tf,useRef:hT,useState:function(){return tf(Ta)},useDebugValue:Am,useDeferredValue:function(e){var t=fn();return vT(t,Ze.memoizedState,e)},useTransition:function(){var e=tf(Ta)[0],t=fn().memoizedState;return[e,t]},useMutableSource:iT,useSyncExternalStore:sT,useId:_T,unstable_isNewReconciler:!1},ox={readContext:hn,useCallback:gT,useContext:hn,useEffect:Im,useImperativeHandle:mT,useInsertionEffect:fT,useLayoutEffect:dT,useMemo:yT,useReducer:nf,useRef:hT,useState:function(){return nf(Ta)},useDebugValue:Am,useDeferredValue:function(e){var t=fn();return Ze===null?t.memoizedState=e:vT(t,Ze.memoizedState,e)},useTransition:function(){var e=nf(Ta)[0],t=fn().memoizedState;return[e,t]},useMutableSource:iT,useSyncExternalStore:sT,useId:_T,unstable_isNewReconciler:!1};function Os(e,t){try{var n="",r=t;do n+=LC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function rf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function xd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ax=typeof WeakMap=="function"?WeakMap:Map;function ST(e,t,n){n=Zn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bu||(Bu=!0,$d=r),xd(e,t)},n}function IT(e,t,n){n=Zn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){xd(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){xd(e,t),typeof r!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Tv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ax;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tx.bind(null,e,t,n),t.then(e,e))}function Ev(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Sv(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Zn(-1,1),t.tag=2,Vr(n,t,1))),n.lanes|=1),e)}var lx=fr.ReactCurrentOwner,jt=!1;function Vt(e,t,n,r){t.child=e===null?nT(t,null,n,r):Ls(t,e.child,n,r)}function Iv(e,t,n,r,i){n=n.render;var s=t.ref;return Is(t,i),r=Em(e,t,n,r,s,i),n=Sm(),e!==null&&!jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,or(e,t,i)):(xe&&n&&cm(t),t.flags|=1,Vt(e,t,r,i),t.child)}function Av(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Mm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,AT(e,t,s,r,i)):(e=hu(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:pa,n(o,r)&&e.ref===t.ref)return or(e,t,i)}return t.flags|=1,e=Nr(s,r),e.ref=t.ref,e.return=t,t.child=e}function AT(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(pa(s,r)&&e.ref===t.ref)if(jt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(jt=!0);else return t.lanes=e.lanes,or(e,t,i)}return kd(e,t,n,r,i)}function PT(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(fs,Wt),Wt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,we(fs,Wt),Wt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,we(fs,Wt),Wt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,we(fs,Wt),Wt|=r;return Vt(e,t,i,n),t.child}function CT(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function kd(e,t,n,r,i){var s=Ut(n)?Pi:Ct.current;return s=Vs(t,s),Is(t,i),n=Em(e,t,n,r,s,i),r=Sm(),e!==null&&!jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,or(e,t,i)):(xe&&r&&cm(t),t.flags|=1,Vt(e,t,n,i),t.child)}function Pv(e,t,n,r,i){if(Ut(n)){var s=!0;Du(t)}else s=!1;if(Is(t,i),t.stateNode===null)lu(e,t),eT(t,n,r),Rd(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=hn(u):(u=Ut(n)?Pi:Ct.current,u=Vs(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&yv(t,o,r,u),Tr=!1;var f=t.memoizedState;o.state=f,Ou(t,r,o,i),l=t.memoizedState,a!==r||f!==l||Bt.current||Tr?(typeof c=="function"&&(Cd(t,n,c,r),l=t.memoizedState),(a=Tr||gv(t,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,J1(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:gn(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=hn(l):(l=Ut(n)?Pi:Ct.current,l=Vs(t,l));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&yv(t,o,r,l),Tr=!1,f=t.memoizedState,o.state=f,Ou(t,r,o,i);var g=t.memoizedState;a!==h||f!==g||Bt.current||Tr?(typeof d=="function"&&(Cd(t,n,d,r),g=t.memoizedState),(u=Tr||gv(t,n,u,r,f,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Dd(e,t,n,r,s,i)}function Dd(e,t,n,r,i,s){CT(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&hv(t,n,!1),or(e,t,s);r=t.stateNode,lx.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ls(t,e.child,null,s),t.child=Ls(t,null,a,s)):Vt(e,t,a,s),t.memoizedState=r.state,i&&hv(t,n,!0),t.child}function RT(e){var t=e.stateNode;t.pendingContext?cv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cv(e,t.context,!1),vm(e,t.containerInfo)}function Cv(e,t,n,r,i){return Ms(),fm(i),t.flags|=256,Vt(e,t,n,r),t.child}var Vd={dehydrated:null,treeContext:null,retryLane:0};function Md(e){return{baseLanes:e,cachePool:null,transitions:null}}function xT(e,t,n){var r=t.pendingProps,i=De.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),we(De,i&1),e===null)return Ad(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Nc(o,r,0,null),e=Ii(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Md(n),t.memoizedState=Vd,e):Pm(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return ux(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Nr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Nr(a,s):(s=Ii(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Md(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Vd,r}return s=e.child,e=s.sibling,r=Nr(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Pm(e,t){return t=Nc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bl(e,t,n,r){return r!==null&&fm(r),Ls(t,e.child,null,n),e=Pm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ux(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=rf(Error(D(422))),bl(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Nc({mode:"visible",children:r.children},i,0,null),s=Ii(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Ls(t,e.child,null,o),t.child.memoizedState=Md(o),t.memoizedState=Vd,s);if(!(t.mode&1))return bl(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(D(419)),r=rf(s,r,void 0),bl(e,t,o,r)}if(a=(o&e.childLanes)!==0,jt||a){if(r=ot,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,sr(e,i),Tn(r,e,i,-1))}return Vm(),r=rf(Error(D(421))),bl(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Ex.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Kt=Dr(i.nextSibling),Qt=t,xe=!0,_n=null,e!==null&&(on[an++]=Qn,on[an++]=Yn,on[an++]=Ci,Qn=e.id,Yn=e.overflow,Ci=t),t=Pm(t,r.children),t.flags|=4096,t)}function Rv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Pd(e.return,t,n)}function sf(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function kT(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Vt(e,t,r.children,n),r=De.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rv(e,n,t);else if(e.tag===19)Rv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(we(De,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&bu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),sf(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&bu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}sf(t,!0,n,null,s);break;case"together":sf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function lu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function or(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=Nr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Nr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function cx(e,t,n){switch(t.tag){case 3:RT(t),Ms();break;case 5:rT(t);break;case 1:Ut(t.type)&&Du(t);break;case 4:vm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;we(Lu,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(we(De,De.current&1),t.flags|=128,null):n&t.child.childLanes?xT(e,t,n):(we(De,De.current&1),e=or(e,t,n),e!==null?e.sibling:null);we(De,De.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return kT(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),we(De,De.current),r)break;return null;case 22:case 23:return t.lanes=0,PT(e,t,n)}return or(e,t,n)}var DT,Ld,VT,MT;DT=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ld=function(){};VT=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,gi(Fn.current);var s=null;switch(n){case"input":i=nd(e,i),r=nd(e,r),s=[];break;case"select":i=Le({},i,{value:void 0}),r=Le({},r,{value:void 0}),s=[];break;case"textarea":i=sd(e,i),r=sd(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xu)}ad(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(aa.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(aa.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ee("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};MT=function(e,t,n,r){n!==r&&(t.flags|=4)};function go(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function hx(e,t,n){var r=t.pendingProps;switch(hm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return Ut(t.type)&&ku(),wt(t),null;case 3:return r=t.stateNode,Ns(),Ae(Bt),Ae(Ct),wm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Nl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_n!==null&&(Ud(_n),_n=null))),Ld(e,t),wt(t),null;case 5:_m(t);var i=gi(_a.current);if(n=t.type,e!==null&&t.stateNode!=null)VT(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return wt(t),null}if(e=gi(Fn.current),Nl(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Mn]=t,r[ya]=s,e=(t.mode&1)!==0,n){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(i=0;i<Vo.length;i++)Ee(Vo[i],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":by(r,s),Ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ee("invalid",r);break;case"textarea":$y(r,s),Ee("invalid",r)}ad(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ll(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ll(r.textContent,a,e),i=["children",""+a]):aa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ee("scroll",r)}switch(n){case"input":Pl(r),Fy(r,s,!0);break;case"textarea":Pl(r),jy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=xu)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=o1(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Mn]=t,e[ya]=r,DT(e,t,!1,!1),t.stateNode=e;e:{switch(o=ld(n,r),n){case"dialog":Ee("cancel",e),Ee("close",e),i=r;break;case"iframe":case"object":case"embed":Ee("load",e),i=r;break;case"video":case"audio":for(i=0;i<Vo.length;i++)Ee(Vo[i],e);i=r;break;case"source":Ee("error",e),i=r;break;case"img":case"image":case"link":Ee("error",e),Ee("load",e),i=r;break;case"details":Ee("toggle",e),i=r;break;case"input":by(e,r),i=nd(e,r),Ee("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Le({},r,{value:void 0}),Ee("invalid",e);break;case"textarea":$y(e,r),i=sd(e,r),Ee("invalid",e);break;default:i=r}ad(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?u1(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&a1(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&la(e,l):typeof l=="number"&&la(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(aa.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ee("scroll",e):l!=null&&Yp(e,s,l,o))}switch(n){case"input":Pl(e),Fy(e,r,!1);break;case"textarea":Pl(e),jy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Hr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ws(e,!!r.multiple,s,!1):r.defaultValue!=null&&ws(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=xu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wt(t),null;case 6:if(e&&t.stateNode!=null)MT(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=gi(_a.current),gi(Fn.current),Nl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Mn]=t,(s=r.nodeValue!==n)&&(e=Qt,e!==null))switch(e.tag){case 3:Ll(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ll(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mn]=t,t.stateNode=r}return wt(t),null;case 13:if(Ae(De),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&Kt!==null&&t.mode&1&&!(t.flags&128))Y1(),Ms(),t.flags|=98560,s=!1;else if(s=Nl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(D(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(D(317));s[Mn]=t}else Ms(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wt(t),s=!1}else _n!==null&&(Ud(_n),_n=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||De.current&1?tt===0&&(tt=3):Vm())),t.updateQueue!==null&&(t.flags|=4),wt(t),null);case 4:return Ns(),Ld(e,t),e===null&&ma(t.stateNode.containerInfo),wt(t),null;case 10:return mm(t.type._context),wt(t),null;case 17:return Ut(t.type)&&ku(),wt(t),null;case 19:if(Ae(De),s=t.memoizedState,s===null)return wt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)go(s,!1);else{if(tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=bu(e),o!==null){for(t.flags|=128,go(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return we(De,De.current&1|2),t.child}e=e.sibling}s.tail!==null&&He()>bs&&(t.flags|=128,r=!0,go(s,!1),t.lanes=4194304)}else{if(!r)if(e=bu(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),go(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!xe)return wt(t),null}else 2*He()-s.renderingStartTime>bs&&n!==1073741824&&(t.flags|=128,r=!0,go(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=He(),t.sibling=null,n=De.current,we(De,r?n&1|2:n&1),t):(wt(t),null);case 22:case 23:return Dm(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Wt&1073741824&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function fx(e,t){switch(hm(t),t.tag){case 1:return Ut(t.type)&&ku(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ns(),Ae(Bt),Ae(Ct),wm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _m(t),null;case 13:if(Ae(De),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));Ms()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ae(De),null;case 4:return Ns(),null;case 10:return mm(t.type._context),null;case 22:case 23:return Dm(),null;case 24:return null;default:return null}}var Fl=!1,St=!1,dx=typeof WeakSet=="function"?WeakSet:Set,O=null;function hs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Oe(e,t,r)}else n.current=null}function Nd(e,t,n){try{n()}catch(r){Oe(e,t,r)}}var xv=!1;function px(e,t){if(vd=Pu,e=b1(),um(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=e,f=null;t:for(;;){for(var d;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===e)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(_d={focusedElem:e,selectionRange:n},Pu=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,w=g.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?_:gn(t.type,_),w);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(y){Oe(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return g=xv,xv=!1,g}function Wo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Nd(t,n,s)}i=i.next}while(i!==r)}}function Mc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Od(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function LT(e){var t=e.alternate;t!==null&&(e.alternate=null,LT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mn],delete t[ya],delete t[Ed],delete t[YR],delete t[XR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function NT(e){return e.tag===5||e.tag===3||e.tag===4}function kv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||NT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xu));else if(r!==4&&(e=e.child,e!==null))for(bd(e,t,n),e=e.sibling;e!==null;)bd(e,t,n),e=e.sibling}function Fd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Fd(e,t,n),e=e.sibling;e!==null;)Fd(e,t,n),e=e.sibling}var ct=null,yn=!1;function yr(e,t,n){for(n=n.child;n!==null;)OT(e,t,n),n=n.sibling}function OT(e,t,n){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Ac,n)}catch{}switch(n.tag){case 5:St||hs(n,t);case 6:var r=ct,i=yn;ct=null,yr(e,t,n),ct=r,yn=i,ct!==null&&(yn?(e=ct,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ct.removeChild(n.stateNode));break;case 18:ct!==null&&(yn?(e=ct,n=n.stateNode,e.nodeType===8?Xh(e.parentNode,n):e.nodeType===1&&Xh(e,n),fa(e)):Xh(ct,n.stateNode));break;case 4:r=ct,i=yn,ct=n.stateNode.containerInfo,yn=!0,yr(e,t,n),ct=r,yn=i;break;case 0:case 11:case 14:case 15:if(!St&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Nd(n,t,o),i=i.next}while(i!==r)}yr(e,t,n);break;case 1:if(!St&&(hs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Oe(n,t,a)}yr(e,t,n);break;case 21:yr(e,t,n);break;case 22:n.mode&1?(St=(r=St)||n.memoizedState!==null,yr(e,t,n),St=r):yr(e,t,n);break;default:yr(e,t,n)}}function Dv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new dx),t.forEach(function(r){var i=Sx.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function mn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:ct=a.stateNode,yn=!1;break e;case 3:ct=a.stateNode.containerInfo,yn=!0;break e;case 4:ct=a.stateNode.containerInfo,yn=!0;break e}a=a.return}if(ct===null)throw Error(D(160));OT(s,o,i),ct=null,yn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Oe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bT(t,e),t=t.sibling}function bT(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mn(t,e),kn(e),r&4){try{Wo(3,e,e.return),Mc(3,e)}catch(_){Oe(e,e.return,_)}try{Wo(5,e,e.return)}catch(_){Oe(e,e.return,_)}}break;case 1:mn(t,e),kn(e),r&512&&n!==null&&hs(n,n.return);break;case 5:if(mn(t,e),kn(e),r&512&&n!==null&&hs(n,n.return),e.flags&32){var i=e.stateNode;try{la(i,"")}catch(_){Oe(e,e.return,_)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&i1(i,s),ld(a,o);var u=ld(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?u1(i,h):c==="dangerouslySetInnerHTML"?a1(i,h):c==="children"?la(i,h):Yp(i,c,h,u)}switch(a){case"input":rd(i,s);break;case"textarea":s1(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?ws(i,!!s.multiple,d,!1):f!==!!s.multiple&&(s.defaultValue!=null?ws(i,!!s.multiple,s.defaultValue,!0):ws(i,!!s.multiple,s.multiple?[]:"",!1))}i[ya]=s}catch(_){Oe(e,e.return,_)}}break;case 6:if(mn(t,e),kn(e),r&4){if(e.stateNode===null)throw Error(D(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(_){Oe(e,e.return,_)}}break;case 3:if(mn(t,e),kn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fa(t.containerInfo)}catch(_){Oe(e,e.return,_)}break;case 4:mn(t,e),kn(e);break;case 13:mn(t,e),kn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(xm=He())),r&4&&Dv(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(St=(u=St)||c,mn(t,e),St=u):mn(t,e),kn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(O=e,c=e.child;c!==null;){for(h=O=c;O!==null;){switch(f=O,d=f.child,f.tag){case 0:case 11:case 14:case 15:Wo(4,f,f.return);break;case 1:hs(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(_){Oe(r,n,_)}}break;case 5:hs(f,f.return);break;case 22:if(f.memoizedState!==null){Mv(h);continue}}d!==null?(d.return=f,O=d):Mv(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=l1("display",o))}catch(_){Oe(e,e.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Oe(e,e.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mn(t,e),kn(e),r&4&&Dv(e);break;case 21:break;default:mn(t,e),kn(e)}}function kn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(NT(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(la(i,""),r.flags&=-33);var s=kv(e);Fd(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=kv(e);bd(e,a,o);break;default:throw Error(D(161))}}catch(l){Oe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mx(e,t,n){O=e,FT(e)}function FT(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var i=O,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Fl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||St;a=Fl;var u=St;if(Fl=o,(St=l)&&!u)for(O=i;O!==null;)o=O,l=o.child,o.tag===22&&o.memoizedState!==null?Lv(i):l!==null?(l.return=o,O=l):Lv(i);for(;s!==null;)O=s,FT(s),s=s.sibling;O=i,Fl=a,St=u}Vv(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,O=s):Vv(e)}}function Vv(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:St||Mc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!St)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&mv(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}mv(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&fa(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}St||t.flags&512&&Od(t)}catch(f){Oe(t,t.return,f)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function Mv(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function Lv(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Mc(4,t)}catch(l){Oe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Oe(t,i,l)}}var s=t.return;try{Od(t)}catch(l){Oe(t,s,l)}break;case 5:var o=t.return;try{Od(t)}catch(l){Oe(t,o,l)}}}catch(l){Oe(t,t.return,l)}if(t===e){O=null;break}var a=t.sibling;if(a!==null){a.return=t.return,O=a;break}O=t.return}}var gx=Math.ceil,ju=fr.ReactCurrentDispatcher,Cm=fr.ReactCurrentOwner,cn=fr.ReactCurrentBatchConfig,he=0,ot=null,Ge=null,pt=0,Wt=0,fs=Zr(0),tt=0,Sa=null,xi=0,Lc=0,Rm=0,Ko=null,Ft=null,xm=0,bs=1/0,Kn=null,Bu=!1,$d=null,Mr=null,$l=!1,Pr=null,Uu=0,Go=0,jd=null,uu=-1,cu=0;function Lt(){return he&6?He():uu!==-1?uu:uu=He()}function Lr(e){return e.mode&1?he&2&&pt!==0?pt&-pt:ZR.transition!==null?(cu===0&&(cu=T1()),cu):(e=pe,e!==0||(e=window.event,e=e===void 0?16:R1(e.type)),e):1}function Tn(e,t,n,r){if(50<Go)throw Go=0,jd=null,Error(D(185));Ka(e,n,r),(!(he&2)||e!==ot)&&(e===ot&&(!(he&2)&&(Lc|=n),tt===4&&Ir(e,pt)),zt(e,r),n===1&&he===0&&!(t.mode&1)&&(bs=He()+500,kc&&ei()))}function zt(e,t){var n=e.callbackNode;ZC(e,t);var r=Au(e,e===ot?pt:0);if(r===0)n!==null&&zy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&zy(n),t===1)e.tag===0?JR(Nv.bind(null,e)):K1(Nv.bind(null,e)),GR(function(){!(he&6)&&ei()}),n=null;else{switch(E1(r)){case 1:n=tm;break;case 4:n=_1;break;case 16:n=Iu;break;case 536870912:n=w1;break;default:n=Iu}n=WT(n,$T.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function $T(e,t){if(uu=-1,cu=0,he&6)throw Error(D(327));var n=e.callbackNode;if(As()&&e.callbackNode!==n)return null;var r=Au(e,e===ot?pt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=zu(e,r);else{t=r;var i=he;he|=2;var s=BT();(ot!==e||pt!==t)&&(Kn=null,bs=He()+500,Si(e,t));do try{_x();break}catch(a){jT(e,a)}while(1);pm(),ju.current=s,he=i,Ge!==null?t=0:(ot=null,pt=0,t=tt)}if(t!==0){if(t===2&&(i=dd(e),i!==0&&(r=i,t=Bd(e,i))),t===1)throw n=Sa,Si(e,0),Ir(e,r),zt(e,He()),n;if(t===6)Ir(e,r);else{if(i=e.current.alternate,!(r&30)&&!yx(i)&&(t=zu(e,r),t===2&&(s=dd(e),s!==0&&(r=s,t=Bd(e,s))),t===1))throw n=Sa,Si(e,0),Ir(e,r),zt(e,He()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:ci(e,Ft,Kn);break;case 3:if(Ir(e,r),(r&130023424)===r&&(t=xm+500-He(),10<t)){if(Au(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Lt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Td(ci.bind(null,e,Ft,Kn),t);break}ci(e,Ft,Kn);break;case 4:if(Ir(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-wn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=He()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gx(r/1960))-r,10<r){e.timeoutHandle=Td(ci.bind(null,e,Ft,Kn),r);break}ci(e,Ft,Kn);break;case 5:ci(e,Ft,Kn);break;default:throw Error(D(329))}}}return zt(e,He()),e.callbackNode===n?$T.bind(null,e):null}function Bd(e,t){var n=Ko;return e.current.memoizedState.isDehydrated&&(Si(e,t).flags|=256),e=zu(e,t),e!==2&&(t=Ft,Ft=n,t!==null&&Ud(t)),e}function Ud(e){Ft===null?Ft=e:Ft.push.apply(Ft,e)}function yx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Sn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ir(e,t){for(t&=~Rm,t&=~Lc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wn(t),r=1<<n;e[n]=-1,t&=~r}}function Nv(e){if(he&6)throw Error(D(327));As();var t=Au(e,0);if(!(t&1))return zt(e,He()),null;var n=zu(e,t);if(e.tag!==0&&n===2){var r=dd(e);r!==0&&(t=r,n=Bd(e,r))}if(n===1)throw n=Sa,Si(e,0),Ir(e,t),zt(e,He()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ci(e,Ft,Kn),zt(e,He()),null}function km(e,t){var n=he;he|=1;try{return e(t)}finally{he=n,he===0&&(bs=He()+500,kc&&ei())}}function ki(e){Pr!==null&&Pr.tag===0&&!(he&6)&&As();var t=he;he|=1;var n=cn.transition,r=pe;try{if(cn.transition=null,pe=1,e)return e()}finally{pe=r,cn.transition=n,he=t,!(he&6)&&ei()}}function Dm(){Wt=fs.current,Ae(fs)}function Si(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,KR(n)),Ge!==null)for(n=Ge.return;n!==null;){var r=n;switch(hm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ku();break;case 3:Ns(),Ae(Bt),Ae(Ct),wm();break;case 5:_m(r);break;case 4:Ns();break;case 13:Ae(De);break;case 19:Ae(De);break;case 10:mm(r.type._context);break;case 22:case 23:Dm()}n=n.return}if(ot=e,Ge=e=Nr(e.current,null),pt=Wt=t,tt=0,Sa=null,Rm=Lc=xi=0,Ft=Ko=null,mi!==null){for(t=0;t<mi.length;t++)if(n=mi[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}mi=null}return e}function jT(e,t){do{var n=Ge;try{if(pm(),ou.current=$u,Fu){for(var r=Me.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Fu=!1}if(Ri=0,st=Ze=Me=null,qo=!1,wa=0,Cm.current=null,n===null||n.return===null){tt=1,Sa=t,Ge=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=Ev(o);if(d!==null){d.flags&=-257,Sv(d,o,a,s,t),d.mode&1&&Tv(s,u,t),t=d,l=u;var g=t.updateQueue;if(g===null){var _=new Set;_.add(l),t.updateQueue=_}else g.add(l);break e}else{if(!(t&1)){Tv(s,u,t),Vm();break e}l=Error(D(426))}}else if(xe&&a.mode&1){var w=Ev(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Sv(w,o,a,s,t),fm(Os(l,a));break e}}s=l=Os(l,a),tt!==4&&(tt=2),Ko===null?Ko=[s]:Ko.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=ST(s,l,t);pv(s,p);break e;case 1:a=l;var m=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Mr===null||!Mr.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var y=IT(s,a,t);pv(s,y);break e}}s=s.return}while(s!==null)}zT(n)}catch(S){t=S,Ge===n&&n!==null&&(Ge=n=n.return);continue}break}while(1)}function BT(){var e=ju.current;return ju.current=$u,e===null?$u:e}function Vm(){(tt===0||tt===3||tt===2)&&(tt=4),ot===null||!(xi&268435455)&&!(Lc&268435455)||Ir(ot,pt)}function zu(e,t){var n=he;he|=2;var r=BT();(ot!==e||pt!==t)&&(Kn=null,Si(e,t));do try{vx();break}catch(i){jT(e,i)}while(1);if(pm(),he=n,ju.current=r,Ge!==null)throw Error(D(261));return ot=null,pt=0,tt}function vx(){for(;Ge!==null;)UT(Ge)}function _x(){for(;Ge!==null&&!HC();)UT(Ge)}function UT(e){var t=qT(e.alternate,e,Wt);e.memoizedProps=e.pendingProps,t===null?zT(e):Ge=t,Cm.current=null}function zT(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=fx(n,t),n!==null){n.flags&=32767,Ge=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{tt=6,Ge=null;return}}else if(n=hx(n,t,Wt),n!==null){Ge=n;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);tt===0&&(tt=5)}function ci(e,t,n){var r=pe,i=cn.transition;try{cn.transition=null,pe=1,wx(e,t,n,r)}finally{cn.transition=i,pe=r}return null}function wx(e,t,n,r){do As();while(Pr!==null);if(he&6)throw Error(D(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(eR(e,s),e===ot&&(Ge=ot=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$l||($l=!0,WT(Iu,function(){return As(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=cn.transition,cn.transition=null;var o=pe;pe=1;var a=he;he|=4,Cm.current=null,px(e,n),bT(n,e),jR(_d),Pu=!!vd,_d=vd=null,e.current=n,mx(n),qC(),he=a,pe=o,cn.transition=s}else e.current=n;if($l&&($l=!1,Pr=e,Uu=i),s=e.pendingLanes,s===0&&(Mr=null),GC(n.stateNode),zt(e,He()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bu)throw Bu=!1,e=$d,$d=null,e;return Uu&1&&e.tag!==0&&As(),s=e.pendingLanes,s&1?e===jd?Go++:(Go=0,jd=e):Go=0,ei(),null}function As(){if(Pr!==null){var e=E1(Uu),t=cn.transition,n=pe;try{if(cn.transition=null,pe=16>e?16:e,Pr===null)var r=!1;else{if(e=Pr,Pr=null,Uu=0,he&6)throw Error(D(331));var i=he;for(he|=4,O=e.current;O!==null;){var s=O,o=s.child;if(O.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(O=u;O!==null;){var c=O;switch(c.tag){case 0:case 11:case 15:Wo(8,c,s)}var h=c.child;if(h!==null)h.return=c,O=h;else for(;O!==null;){c=O;var f=c.sibling,d=c.return;if(LT(c),c===u){O=null;break}if(f!==null){f.return=d,O=f;break}O=d}}}var g=s.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}O=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,O=o;else e:for(;O!==null;){if(s=O,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Wo(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,O=p;break e}O=s.return}}var m=e.current;for(O=m;O!==null;){o=O;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,O=v;else e:for(o=m;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Mc(9,a)}}catch(S){Oe(a,a.return,S)}if(a===o){O=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,O=y;break e}O=a.return}}if(he=i,ei(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Ac,e)}catch{}r=!0}return r}finally{pe=n,cn.transition=t}}return!1}function Ov(e,t,n){t=Os(n,t),t=ST(e,t,1),e=Vr(e,t,1),t=Lt(),e!==null&&(Ka(e,1,t),zt(e,t))}function Oe(e,t,n){if(e.tag===3)Ov(e,e,n);else for(;t!==null;){if(t.tag===3){Ov(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mr===null||!Mr.has(r))){e=Os(n,e),e=IT(t,e,1),t=Vr(t,e,1),e=Lt(),t!==null&&(Ka(t,1,e),zt(t,e));break}}t=t.return}}function Tx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Lt(),e.pingedLanes|=e.suspendedLanes&n,ot===e&&(pt&n)===n&&(tt===4||tt===3&&(pt&130023424)===pt&&500>He()-xm?Si(e,0):Rm|=n),zt(e,t)}function HT(e,t){t===0&&(e.mode&1?(t=xl,xl<<=1,!(xl&130023424)&&(xl=4194304)):t=1);var n=Lt();e=sr(e,t),e!==null&&(Ka(e,t,n),zt(e,n))}function Ex(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),HT(e,n)}function Sx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),HT(e,n)}var qT;qT=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Bt.current)jt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return jt=!1,cx(e,t,n);jt=!!(e.flags&131072)}else jt=!1,xe&&t.flags&1048576&&G1(t,Mu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;lu(e,t),e=t.pendingProps;var i=Vs(t,Ct.current);Is(t,n),i=Em(null,t,r,e,i,n);var s=Sm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ut(r)?(s=!0,Du(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ym(t),i.updater=Dc,t.stateNode=i,i._reactInternals=t,Rd(t,r,e,n),t=Dd(null,t,r,!0,s,n)):(t.tag=0,xe&&s&&cm(t),Vt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(lu(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Ax(r),e=gn(r,e),i){case 0:t=kd(null,t,r,e,n);break e;case 1:t=Pv(null,t,r,e,n);break e;case 11:t=Iv(null,t,r,e,n);break e;case 14:t=Av(null,t,r,gn(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gn(r,i),kd(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gn(r,i),Pv(e,t,r,i,n);case 3:e:{if(RT(t),e===null)throw Error(D(387));r=t.pendingProps,s=t.memoizedState,i=s.element,J1(e,t),Ou(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Os(Error(D(423)),t),t=Cv(e,t,r,n,i);break e}else if(r!==i){i=Os(Error(D(424)),t),t=Cv(e,t,r,n,i);break e}else for(Kt=Dr(t.stateNode.containerInfo.firstChild),Qt=t,xe=!0,_n=null,n=nT(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ms(),r===i){t=or(e,t,n);break e}Vt(e,t,r,n)}t=t.child}return t;case 5:return rT(t),e===null&&Ad(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,wd(r,i)?o=null:s!==null&&wd(r,s)&&(t.flags|=32),CT(e,t),Vt(e,t,o,n),t.child;case 6:return e===null&&Ad(t),null;case 13:return xT(e,t,n);case 4:return vm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ls(t,null,r,n):Vt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gn(r,i),Iv(e,t,r,i,n);case 7:return Vt(e,t,t.pendingProps,n),t.child;case 8:return Vt(e,t,t.pendingProps.children,n),t.child;case 12:return Vt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,we(Lu,r._currentValue),r._currentValue=o,s!==null)if(Sn(s.value,o)){if(s.children===i.children&&!Bt.current){t=or(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Zn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Pd(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Pd(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Vt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Is(t,n),i=hn(i),r=r(i),t.flags|=1,Vt(e,t,r,n),t.child;case 14:return r=t.type,i=gn(r,t.pendingProps),i=gn(r.type,i),Av(e,t,r,i,n);case 15:return AT(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gn(r,i),lu(e,t),t.tag=1,Ut(r)?(e=!0,Du(t)):e=!1,Is(t,n),eT(t,r,i),Rd(t,r,i,n),Dd(null,t,r,!0,e,n);case 19:return kT(e,t,n);case 22:return PT(e,t,n)}throw Error(D(156,t.tag))};function WT(e,t){return v1(e,t)}function Ix(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,t,n,r){return new Ix(e,t,n,r)}function Mm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ax(e){if(typeof e=="function")return Mm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jp)return 11;if(e===Zp)return 14}return 2}function Nr(e,t){var n=e.alternate;return n===null?(n=un(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function hu(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Mm(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ns:return Ii(n.children,i,s,t);case Xp:o=8,i|=8;break;case Jf:return e=un(12,n,t,i|2),e.elementType=Jf,e.lanes=s,e;case Zf:return e=un(13,n,t,i),e.elementType=Zf,e.lanes=s,e;case ed:return e=un(19,n,t,i),e.elementType=ed,e.lanes=s,e;case t1:return Nc(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zw:o=10;break e;case e1:o=9;break e;case Jp:o=11;break e;case Zp:o=14;break e;case wr:o=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=un(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Ii(e,t,n,r){return e=un(7,e,r,t),e.lanes=n,e}function Nc(e,t,n,r){return e=un(22,e,r,t),e.elementType=t1,e.lanes=n,e.stateNode={isHidden:!1},e}function of(e,t,n){return e=un(6,e,null,t),e.lanes=n,e}function af(e,t,n){return t=un(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Px(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jh(0),this.expirationTimes=jh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lm(e,t,n,r,i,s,o,a,l){return e=new Px(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=un(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ym(s),e}function Cx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ts,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function KT(e){if(!e)return qr;e=e._reactInternals;e:{if(Bi(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(Ut(n))return W1(e,n,t)}return t}function GT(e,t,n,r,i,s,o,a,l){return e=Lm(n,r,!0,e,i,s,o,a,l),e.context=KT(null),n=e.current,r=Lt(),i=Lr(n),s=Zn(r,i),s.callback=t??null,Vr(n,s,i),e.current.lanes=i,Ka(e,i,r),zt(e,r),e}function Oc(e,t,n,r){var i=t.current,s=Lt(),o=Lr(i);return n=KT(n),t.context===null?t.context=n:t.pendingContext=n,t=Zn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Vr(i,t,o),e!==null&&(Tn(e,i,o,s),su(e,i,o)),o}function Hu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Nm(e,t){bv(e,t),(e=e.alternate)&&bv(e,t)}function Rx(){return null}var QT=typeof reportError=="function"?reportError:function(e){console.error(e)};function Om(e){this._internalRoot=e}bc.prototype.render=Om.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));Oc(e,t,null,null)};bc.prototype.unmount=Om.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ki(function(){Oc(null,e,null,null)}),t[ir]=null}};function bc(e){this._internalRoot=e}bc.prototype.unstable_scheduleHydration=function(e){if(e){var t=A1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Sr.length&&t!==0&&t<Sr[n].priority;n++);Sr.splice(n,0,e),n===0&&C1(e)}};function bm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fv(){}function xx(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Hu(o);s.call(u)}}var o=GT(t,r,e,0,null,!1,!1,"",Fv);return e._reactRootContainer=o,e[ir]=o.current,ma(e.nodeType===8?e.parentNode:e),ki(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Hu(l);a.call(u)}}var l=Lm(e,0,!1,null,null,!1,!1,"",Fv);return e._reactRootContainer=l,e[ir]=l.current,ma(e.nodeType===8?e.parentNode:e),ki(function(){Oc(t,l,n,r)}),l}function $c(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Hu(o);a.call(l)}}Oc(t,o,e,i)}else o=xx(n,t,e,i,r);return Hu(o)}S1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Do(t.pendingLanes);n!==0&&(nm(t,n|1),zt(t,He()),!(he&6)&&(bs=He()+500,ei()))}break;case 13:ki(function(){var r=sr(e,1);if(r!==null){var i=Lt();Tn(r,e,1,i)}}),Nm(e,1)}};rm=function(e){if(e.tag===13){var t=sr(e,134217728);if(t!==null){var n=Lt();Tn(t,e,134217728,n)}Nm(e,134217728)}};I1=function(e){if(e.tag===13){var t=Lr(e),n=sr(e,t);if(n!==null){var r=Lt();Tn(n,e,t,r)}Nm(e,t)}};A1=function(){return pe};P1=function(e,t){var n=pe;try{return pe=e,t()}finally{pe=n}};cd=function(e,t,n){switch(t){case"input":if(rd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xc(r);if(!i)throw Error(D(90));r1(r),rd(r,i)}}}break;case"textarea":s1(e,n);break;case"select":t=n.value,t!=null&&ws(e,!!n.multiple,t,!1)}};f1=km;d1=ki;var kx={usingClientEntryPoint:!1,Events:[Qa,os,xc,c1,h1,km]},yo={findFiberByHostInstance:pi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Dx={bundleType:yo.bundleType,version:yo.version,rendererPackageName:yo.rendererPackageName,rendererConfig:yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=g1(e),e===null?null:e.stateNode},findFiberByHostInstance:yo.findFiberByHostInstance||Rx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jl.isDisabled&&jl.supportsFiber)try{Ac=jl.inject(Dx),bn=jl}catch{}}en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kx;en.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bm(t))throw Error(D(200));return Cx(e,t,null,n)};en.createRoot=function(e,t){if(!bm(e))throw Error(D(299));var n=!1,r="",i=QT;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Lm(e,1,!1,null,null,n,!1,r,i),e[ir]=t.current,ma(e.nodeType===8?e.parentNode:e),new Om(t)};en.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=g1(t),e=e===null?null:e.stateNode,e};en.flushSync=function(e){return ki(e)};en.hydrate=function(e,t,n){if(!Fc(t))throw Error(D(200));return $c(null,e,t,!0,n)};en.hydrateRoot=function(e,t,n){if(!bm(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=QT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=GT(t,null,e,1,n??null,i,!1,s,o),e[ir]=t.current,ma(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new bc(t)};en.render=function(e,t,n){if(!Fc(t))throw Error(D(200));return $c(null,e,t,!1,n)};en.unmountComponentAtNode=function(e){if(!Fc(e))throw Error(D(40));return e._reactRootContainer?(ki(function(){$c(null,null,e,!1,function(){e._reactRootContainer=null,e[ir]=null})}),!0):!1};en.unstable_batchedUpdates=km;en.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Fc(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return $c(e,t,n,!1,r)};en.version="18.2.0-next-9e3b772b8-20220608";function YT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YT)}catch(e){console.error(e)}}YT(),Gw.exports=en;var Vx=Gw.exports,$v=Vx;Yf.createRoot=$v.createRoot,Yf.hydrateRoot=$v.hydrateRoot;/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},be.apply(this,arguments)}var Ue;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ue||(Ue={}));const jv="popstate";function Mx(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Ia("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Vi(i)}return Nx(t,n,null,e)}function re(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Di(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Lx(){return Math.random().toString(36).substr(2,8)}function Bv(e,t){return{usr:e.state,key:e.key,idx:t}}function Ia(e,t,n,r){return n===void 0&&(n=null),be({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?dr(t):t,{state:n,key:t&&t.key||r||Lx()})}function Vi(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function dr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Nx(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ue.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(be({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=Ue.Pop;let w=c(),p=w==null?null:w-u;u=w,l&&l({action:a,location:_.location,delta:p})}function f(w,p){a=Ue.Push;let m=Ia(_.location,w,p);n&&n(m,w),u=c()+1;let v=Bv(m,u),y=_.createHref(m);try{o.pushState(v,"",y)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(y)}s&&l&&l({action:a,location:_.location,delta:1})}function d(w,p){a=Ue.Replace;let m=Ia(_.location,w,p);n&&n(m,w),u=c();let v=Bv(m,u),y=_.createHref(m);o.replaceState(v,"",y),s&&l&&l({action:a,location:_.location,delta:0})}function g(w){let p=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof w=="string"?w:Vi(w);return re(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let _={get action(){return a},get location(){return e(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(jv,h),l=w,()=>{i.removeEventListener(jv,h),l=null}},createHref(w){return t(i,w)},createURL:g,encodeLocation(w){let p=g(w);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:d,go(w){return o.go(w)}};return _}var ze;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ze||(ze={}));const Ox=new Set(["lazy","caseSensitive","path","id","index","children"]);function bx(e){return e.index===!0}function zd(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(re(i.index!==!0||!i.children,"Cannot specify children on an index route"),re(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),bx(i)){let l=be({},i,t(i),{id:a});return r[a]=l,l}else{let l=be({},i,t(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=zd(i.children,t,o,r)),l}})}function ds(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?dr(t):t,i=Xs(r.pathname||"/",n);if(i==null)return null;let s=XT(e);$x(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=Gx(s[a],Xx(i));return o}function Fx(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function XT(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(re(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=er([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(re(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),XT(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:Wx(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of JT(s.path))i(s,o,l)}),t}function JT(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=JT(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function $x(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Kx(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const jx=/^:\w+$/,Bx=3,Ux=2,zx=1,Hx=10,qx=-2,Uv=e=>e==="*";function Wx(e,t){let n=e.split("/"),r=n.length;return n.some(Uv)&&(r+=qx),t&&(r+=Ux),n.filter(i=>!Uv(i)).reduce((i,s)=>i+(jx.test(s)?Bx:s===""?zx:Hx),r)}function Kx(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Gx(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=Qx({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:er([i,c.pathname]),pathnameBase:tk(er([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=er([i,c.pathnameBase]))}return s}function Qx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Yx(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:f,isOptional:d}=c;if(f==="*"){let _=a[h]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const g=a[h];return d&&!g?u[f]=void 0:u[f]=Jx(g||"",f),u},{}),pathname:s,pathnameBase:o,pattern:e}}function Yx(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Di(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Xx(e){try{return decodeURI(e)}catch(t){return Di(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Jx(e,t){try{return decodeURIComponent(e)}catch(n){return Di(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Xs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Zx(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?dr(e):e;return{pathname:n?n.startsWith("/")?n:ek(n,t):t,search:nk(r),hash:rk(i)}}function ek(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function lf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jc(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Fm(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=dr(e):(i=be({},e),re(!i.pathname||!i.pathname.includes("?"),lf("?","pathname","search",i)),re(!i.pathname||!i.pathname.includes("#"),lf("#","pathname","hash",i)),re(!i.search||!i.search.includes("#"),lf("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let h=t.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=Zx(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const er=e=>e.join("/").replace(/\/\/+/g,"/"),tk=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nk=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class $m{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function ZT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const eE=["post","put","patch","delete"],ik=new Set(eE),sk=["get",...eE],ok=new Set(sk),ak=new Set([301,302,303,307,308]),lk=new Set([307,308]),uf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},uk={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},tE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ck=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),nE="remix-router-transitions";function hk(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;re(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let T=e.detectErrorBoundary;i=I=>({hasErrorBoundary:T(I)})}else i=ck;let s={},o=zd(e.routes,i,void 0,s),a,l=e.basename||"/",u=be({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),c=null,h=new Set,f=null,d=null,g=null,_=e.hydrationData!=null,w=ds(o,e.history.location,l),p=null;if(w==null){let T=sn(404,{pathname:e.history.location.pathname}),{matches:I,route:R}=Yv(o);w=I,p={[R.id]:T}}let m=!w.some(T=>T.route.lazy)&&(!w.some(T=>T.route.loader)||e.hydrationData!=null),v,y={historyAction:e.history.action,location:e.history.location,matches:w,initialized:m,navigation:uf,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||p,fetchers:new Map,blockers:new Map},S=Ue.Pop,x=!1,A,P=!1,N=new Map,$=null,ue=!1,Ce=!1,Xe=[],_e=[],ee=new Map,ut=0,vt=-1,M=new Map,B=new Set,Y=new Map,q=new Map,fe=new Set,xt=new Map,nt=new Map,Pn=!1;function kt(){if(c=e.history.listen(T=>{let{action:I,location:R,delta:L}=T;if(Pn){Pn=!1;return}Di(nt.size===0||L!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let H=Cy({currentLocation:y.location,nextLocation:R,historyAction:I});if(H&&L!=null){Pn=!0,e.history.go(L*-1),El(H,{state:"blocked",location:R,proceed(){El(H,{state:"proceeding",proceed:void 0,reset:void 0,location:R}),e.history.go(L)},reset(){let K=new Map(y.blockers);K.set(H,vo),Re({blockers:K})}});return}return xn(I,R)}),n){Ek(t,N);let T=()=>Sk(t,N);t.addEventListener("pagehide",T),$=()=>t.removeEventListener("pagehide",T)}return y.initialized||xn(Ue.Pop,y.location),v}function qn(){c&&c(),$&&$(),h.clear(),A&&A.abort(),y.fetchers.forEach((T,I)=>Tl(I)),y.blockers.forEach((T,I)=>Py(I))}function Rh(T){return h.add(T),()=>h.delete(T)}function Re(T,I){y=be({},y,T);let R=[],L=[];u.v7_fetcherPersist&&y.fetchers.forEach((H,K)=>{H.state==="idle"&&(fe.has(K)?L.push(K):R.push(K))}),h.forEach(H=>H(y,{deletedFetchers:L,unstable_viewTransitionOpts:I})),u.v7_fetcherPersist&&(R.forEach(H=>y.fetchers.delete(H)),L.forEach(H=>Tl(H)))}function Cn(T,I){var R,L;let H=y.actionData!=null&&y.navigation.formMethod!=null&&vn(y.navigation.formMethod)&&y.navigation.state==="loading"&&((R=T.state)==null?void 0:R._isRedirect)!==!0,K;I.actionData?Object.keys(I.actionData).length>0?K=I.actionData:K=null:H?K=y.actionData:K=null;let te=I.loaderData?Qv(y.loaderData,I.loaderData,I.matches||[],I.errors):y.loaderData,G=y.blockers;G.size>0&&(G=new Map(G),G.forEach((ke,ae)=>G.set(ae,vo)));let z=x===!0||y.navigation.formMethod!=null&&vn(y.navigation.formMethod)&&((L=T.state)==null?void 0:L._isRedirect)!==!0;a&&(o=a,a=void 0),ue||S===Ue.Pop||(S===Ue.Push?e.history.push(T,T.state):S===Ue.Replace&&e.history.replace(T,T.state));let ye;if(S===Ue.Pop){let ke=N.get(y.location.pathname);ke&&ke.has(T.pathname)?ye={currentLocation:y.location,nextLocation:T}:N.has(T.pathname)&&(ye={currentLocation:T,nextLocation:y.location})}else if(P){let ke=N.get(y.location.pathname);ke?ke.add(T.pathname):(ke=new Set([T.pathname]),N.set(y.location.pathname,ke)),ye={currentLocation:y.location,nextLocation:T}}Re(be({},I,{actionData:K,loaderData:te,historyAction:S,location:T,initialized:!0,navigation:uf,revalidation:"idle",restoreScrollPosition:xy(T,I.matches||y.matches),preventScrollReset:z,blockers:G}),ye),S=Ue.Pop,x=!1,P=!1,ue=!1,Ce=!1,Xe=[],_e=[]}async function Rn(T,I){if(typeof T=="number"){e.history.go(T);return}let R=Hd(y.location,y.matches,l,u.v7_prependBasename,T,I==null?void 0:I.fromRouteId,I==null?void 0:I.relative),{path:L,submission:H,error:K}=zv(u.v7_normalizeFormMethod,!1,R,I),te=y.location,G=Ia(y.location,L,I&&I.state);G=be({},G,e.history.encodeLocation(G));let z=I&&I.replace!=null?I.replace:void 0,ye=Ue.Push;z===!0?ye=Ue.Replace:z===!1||H!=null&&vn(H.formMethod)&&H.formAction===y.location.pathname+y.location.search&&(ye=Ue.Replace);let ke=I&&"preventScrollReset"in I?I.preventScrollReset===!0:void 0,ae=Cy({currentLocation:te,nextLocation:G,historyAction:ye});if(ae){El(ae,{state:"blocked",location:G,proceed(){El(ae,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),Rn(T,I)},reset(){let ve=new Map(y.blockers);ve.set(ae,vo),Re({blockers:ve})}});return}return await xn(ye,G,{submission:H,pendingError:K,preventScrollReset:ke,replace:I&&I.replace,enableViewTransition:I&&I.unstable_viewTransition})}function wl(){if(xh(),Re({revalidation:"loading"}),y.navigation.state!=="submitting"){if(y.navigation.state==="idle"){xn(y.historyAction,y.location,{startUninterruptedRevalidation:!0});return}xn(S||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation})}}async function xn(T,I,R){A&&A.abort(),A=null,S=T,ue=(R&&R.startUninterruptedRevalidation)===!0,rC(y.location,y.matches),x=(R&&R.preventScrollReset)===!0,P=(R&&R.enableViewTransition)===!0;let L=a||o,H=R&&R.overrideNavigation,K=ds(L,I,l);if(!K){let ve=sn(404,{pathname:I.pathname}),{matches:Je,route:oi}=Yv(L);kh(),Cn(I,{matches:Je,loaderData:{},errors:{[oi.id]:ve}});return}if(y.initialized&&!Ce&&gk(y.location,I)&&!(R&&R.submission&&vn(R.submission.formMethod))){Cn(I,{matches:K});return}A=new AbortController;let te=wo(e.history,I,A.signal,R&&R.submission),G,z;if(R&&R.pendingError)z={[Qo(K).route.id]:R.pendingError};else if(R&&R.submission&&vn(R.submission.formMethod)){let ve=await QP(te,I,R.submission,K,{replace:R.replace});if(ve.shortCircuited)return;G=ve.pendingActionData,z=ve.pendingActionError,H=cf(I,R.submission),te=new Request(te.url,{signal:te.signal})}let{shortCircuited:ye,loaderData:ke,errors:ae}=await YP(te,I,K,H,R&&R.submission,R&&R.fetcherSubmission,R&&R.replace,G,z);ye||(A=null,Cn(I,be({matches:K},G?{actionData:G}:{},{loaderData:ke,errors:ae})))}async function QP(T,I,R,L,H){H===void 0&&(H={}),xh();let K=wk(I,R);Re({navigation:K});let te,G=Wd(L,I);if(!G.route.action&&!G.route.lazy)te={type:ze.error,error:sn(405,{method:T.method,pathname:I.pathname,routeId:G.route.id})};else if(te=await _o("action",T,G,L,s,i,l),T.signal.aborted)return{shortCircuited:!0};if(Ps(te)){let z;return H&&H.replace!=null?z=H.replace:z=te.location===y.location.pathname+y.location.search,await so(y,te,{submission:R,replace:z}),{shortCircuited:!0}}if(Yo(te)){let z=Qo(L,G.route.id);return(H&&H.replace)!==!0&&(S=Ue.Push),{pendingActionData:{},pendingActionError:{[z.route.id]:te.error}}}if(yi(te))throw sn(400,{type:"defer-action"});return{pendingActionData:{[G.route.id]:te.data}}}async function YP(T,I,R,L,H,K,te,G,z){let ye=L||cf(I,H),ke=H||K||Zv(ye),ae=a||o,[ve,Je]=Hv(e.history,y,R,ke,I,Ce,Xe,_e,Y,B,ae,l,G,z);if(kh(ge=>!(R&&R.some(pn=>pn.route.id===ge))||ve&&ve.some(pn=>pn.route.id===ge)),vt=++ut,ve.length===0&&Je.length===0){let ge=Iy();return Cn(I,be({matches:R,loaderData:{},errors:z||null},G?{actionData:G}:{},ge?{fetchers:new Map(y.fetchers)}:{})),{shortCircuited:!0}}if(!ue){Je.forEach(pn=>{let gr=y.fetchers.get(pn.key),je=To(void 0,gr?gr.data:void 0);y.fetchers.set(pn.key,je)});let ge=G||y.actionData;Re(be({navigation:ye},ge?Object.keys(ge).length===0?{actionData:null}:{actionData:ge}:{},Je.length>0?{fetchers:new Map(y.fetchers)}:{}))}Je.forEach(ge=>{ee.has(ge.key)&&pr(ge.key),ge.controller&&ee.set(ge.key,ge.controller)});let oi=()=>Je.forEach(ge=>pr(ge.key));A&&A.signal.addEventListener("abort",oi);let{results:ai,loaderResults:ao,fetcherResults:Dh}=await Ey(y.matches,R,ve,Je,T);if(T.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",oi),Je.forEach(ge=>ee.delete(ge.key));let Wn=Xv(ai);if(Wn){if(Wn.idx>=ve.length){let ge=Je[Wn.idx-ve.length].key;B.add(ge)}return await so(y,Wn.result,{replace:te}),{shortCircuited:!0}}let{loaderData:mr,errors:Sl}=Gv(y,R,ve,ao,z,Je,Dh,xt);xt.forEach((ge,pn)=>{ge.subscribe(gr=>{(gr||ge.done)&&xt.delete(pn)})});let Vh=Iy(),Mh=Ay(vt),Lh=Vh||Mh||Je.length>0;return be({loaderData:mr,errors:Sl},Lh?{fetchers:new Map(y.fetchers)}:{})}function Ty(T){return u.v7_fetcherPersist&&(q.set(T,(q.get(T)||0)+1),fe.has(T)&&fe.delete(T)),y.fetchers.get(T)||uk}function XP(T,I,R,L){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ee.has(T)&&pr(T);let H=a||o,K=Hd(y.location,y.matches,l,u.v7_prependBasename,R,I,L==null?void 0:L.relative),te=ds(H,K,l);if(!te){oo(T,I,sn(404,{pathname:K}));return}let{path:G,submission:z,error:ye}=zv(u.v7_normalizeFormMethod,!0,K,L);if(ye){oo(T,I,ye);return}let ke=Wd(te,G);if(x=(L&&L.preventScrollReset)===!0,z&&vn(z.formMethod)){JP(T,I,G,ke,te,z);return}Y.set(T,{routeId:I,path:G}),ZP(T,I,G,ke,te,z)}async function JP(T,I,R,L,H,K){if(xh(),Y.delete(T),!L.route.action&&!L.route.lazy){let je=sn(405,{method:K.formMethod,pathname:R,routeId:I});oo(T,I,je);return}let te=y.fetchers.get(T),G=Tk(K,te);y.fetchers.set(T,G),Re({fetchers:new Map(y.fetchers)});let z=new AbortController,ye=wo(e.history,R,z.signal,K);ee.set(T,z);let ke=ut,ae=await _o("action",ye,L,H,s,i,l);if(ye.signal.aborted){ee.get(T)===z&&ee.delete(T);return}if(fe.has(T)){y.fetchers.set(T,vr(void 0)),Re({fetchers:new Map(y.fetchers)});return}if(Ps(ae))if(ee.delete(T),vt>ke){let je=vr(void 0);y.fetchers.set(T,je),Re({fetchers:new Map(y.fetchers)});return}else{B.add(T);let je=To(K);return y.fetchers.set(T,je),Re({fetchers:new Map(y.fetchers)}),so(y,ae,{fetcherSubmission:K})}if(Yo(ae)){oo(T,I,ae.error);return}if(yi(ae))throw sn(400,{type:"defer-action"});let ve=y.navigation.location||y.location,Je=wo(e.history,ve,z.signal),oi=a||o,ai=y.navigation.state!=="idle"?ds(oi,y.navigation.location,l):y.matches;re(ai,"Didn't find any matches after fetcher action");let ao=++ut;M.set(T,ao);let Dh=To(K,ae.data);y.fetchers.set(T,Dh);let[Wn,mr]=Hv(e.history,y,ai,K,ve,Ce,Xe,_e,Y,B,oi,l,{[L.route.id]:ae.data},void 0);mr.filter(je=>je.key!==T).forEach(je=>{let lo=je.key,ky=y.fetchers.get(lo),sC=To(void 0,ky?ky.data:void 0);y.fetchers.set(lo,sC),ee.has(lo)&&pr(lo),je.controller&&ee.set(lo,je.controller)}),Re({fetchers:new Map(y.fetchers)});let Sl=()=>mr.forEach(je=>pr(je.key));z.signal.addEventListener("abort",Sl);let{results:Vh,loaderResults:Mh,fetcherResults:Lh}=await Ey(y.matches,ai,Wn,mr,Je);if(z.signal.aborted)return;z.signal.removeEventListener("abort",Sl),M.delete(T),ee.delete(T),mr.forEach(je=>ee.delete(je.key));let ge=Xv(Vh);if(ge){if(ge.idx>=Wn.length){let je=mr[ge.idx-Wn.length].key;B.add(je)}return so(y,ge.result)}let{loaderData:pn,errors:gr}=Gv(y,y.matches,Wn,Mh,void 0,mr,Lh,xt);if(y.fetchers.has(T)){let je=vr(ae.data);y.fetchers.set(T,je)}Ay(ao),y.navigation.state==="loading"&&ao>vt?(re(S,"Expected pending action"),A&&A.abort(),Cn(y.navigation.location,{matches:ai,loaderData:pn,errors:gr,fetchers:new Map(y.fetchers)})):(Re({errors:gr,loaderData:Qv(y.loaderData,pn,ai,gr),fetchers:new Map(y.fetchers)}),Ce=!1)}async function ZP(T,I,R,L,H,K){let te=y.fetchers.get(T),G=To(K,te?te.data:void 0);y.fetchers.set(T,G),Re({fetchers:new Map(y.fetchers)});let z=new AbortController,ye=wo(e.history,R,z.signal);ee.set(T,z);let ke=ut,ae=await _o("loader",ye,L,H,s,i,l);if(yi(ae)&&(ae=await sE(ae,ye.signal,!0)||ae),ee.get(T)===z&&ee.delete(T),ye.signal.aborted)return;if(fe.has(T)){y.fetchers.set(T,vr(void 0)),Re({fetchers:new Map(y.fetchers)});return}if(Ps(ae))if(vt>ke){let Je=vr(void 0);y.fetchers.set(T,Je),Re({fetchers:new Map(y.fetchers)});return}else{B.add(T),await so(y,ae);return}if(Yo(ae)){oo(T,I,ae.error);return}re(!yi(ae),"Unhandled fetcher deferred data");let ve=vr(ae.data);y.fetchers.set(T,ve),Re({fetchers:new Map(y.fetchers)})}async function so(T,I,R){let{submission:L,fetcherSubmission:H,replace:K}=R===void 0?{}:R;I.revalidate&&(Ce=!0);let te=Ia(T.location,I.location,{_isRedirect:!0});if(re(te,"Expected a location on the redirect navigation"),n){let ve=!1;if(I.reloadDocument)ve=!0;else if(tE.test(I.location)){const Je=e.history.createURL(I.location);ve=Je.origin!==t.location.origin||Xs(Je.pathname,l)==null}if(ve){K?t.location.replace(I.location):t.location.assign(I.location);return}}A=null;let G=K===!0?Ue.Replace:Ue.Push,{formMethod:z,formAction:ye,formEncType:ke}=T.navigation;!L&&!H&&z&&ye&&ke&&(L=Zv(T.navigation));let ae=L||H;if(lk.has(I.status)&&ae&&vn(ae.formMethod))await xn(G,te,{submission:be({},ae,{formAction:I.location}),preventScrollReset:x});else{let ve=cf(te,L);await xn(G,te,{overrideNavigation:ve,fetcherSubmission:H,preventScrollReset:x})}}async function Ey(T,I,R,L,H){let K=await Promise.all([...R.map(z=>_o("loader",H,z,I,s,i,l)),...L.map(z=>z.matches&&z.match&&z.controller?_o("loader",wo(e.history,z.path,z.controller.signal),z.match,z.matches,s,i,l):{type:ze.error,error:sn(404,{pathname:z.path})})]),te=K.slice(0,R.length),G=K.slice(R.length);return await Promise.all([Jv(T,R,te,te.map(()=>H.signal),!1,y.loaderData),Jv(T,L.map(z=>z.match),G,L.map(z=>z.controller?z.controller.signal:null),!0)]),{results:K,loaderResults:te,fetcherResults:G}}function xh(){Ce=!0,Xe.push(...kh()),Y.forEach((T,I)=>{ee.has(I)&&(_e.push(I),pr(I))})}function oo(T,I,R){let L=Qo(y.matches,I);Tl(T),Re({errors:{[L.route.id]:R},fetchers:new Map(y.fetchers)})}function Tl(T){let I=y.fetchers.get(T);ee.has(T)&&!(I&&I.state==="loading"&&M.has(T))&&pr(T),Y.delete(T),M.delete(T),B.delete(T),fe.delete(T),y.fetchers.delete(T)}function eC(T){if(u.v7_fetcherPersist){let I=(q.get(T)||0)-1;I<=0?(q.delete(T),fe.add(T)):q.set(T,I)}else Tl(T);Re({fetchers:new Map(y.fetchers)})}function pr(T){let I=ee.get(T);re(I,"Expected fetch controller: "+T),I.abort(),ee.delete(T)}function Sy(T){for(let I of T){let R=Ty(I),L=vr(R.data);y.fetchers.set(I,L)}}function Iy(){let T=[],I=!1;for(let R of B){let L=y.fetchers.get(R);re(L,"Expected fetcher: "+R),L.state==="loading"&&(B.delete(R),T.push(R),I=!0)}return Sy(T),I}function Ay(T){let I=[];for(let[R,L]of M)if(L<T){let H=y.fetchers.get(R);re(H,"Expected fetcher: "+R),H.state==="loading"&&(pr(R),M.delete(R),I.push(R))}return Sy(I),I.length>0}function tC(T,I){let R=y.blockers.get(T)||vo;return nt.get(T)!==I&&nt.set(T,I),R}function Py(T){y.blockers.delete(T),nt.delete(T)}function El(T,I){let R=y.blockers.get(T)||vo;re(R.state==="unblocked"&&I.state==="blocked"||R.state==="blocked"&&I.state==="blocked"||R.state==="blocked"&&I.state==="proceeding"||R.state==="blocked"&&I.state==="unblocked"||R.state==="proceeding"&&I.state==="unblocked","Invalid blocker state transition: "+R.state+" -> "+I.state);let L=new Map(y.blockers);L.set(T,I),Re({blockers:L})}function Cy(T){let{currentLocation:I,nextLocation:R,historyAction:L}=T;if(nt.size===0)return;nt.size>1&&Di(!1,"A router only supports one blocker at a time");let H=Array.from(nt.entries()),[K,te]=H[H.length-1],G=y.blockers.get(K);if(!(G&&G.state==="proceeding")&&te({currentLocation:I,nextLocation:R,historyAction:L}))return K}function kh(T){let I=[];return xt.forEach((R,L)=>{(!T||T(L))&&(R.cancel(),I.push(L),xt.delete(L))}),I}function nC(T,I,R){if(f=T,g=I,d=R||null,!_&&y.navigation===uf){_=!0;let L=xy(y.location,y.matches);L!=null&&Re({restoreScrollPosition:L})}return()=>{f=null,g=null,d=null}}function Ry(T,I){return d&&d(T,I.map(L=>Fx(L,y.loaderData)))||T.key}function rC(T,I){if(f&&g){let R=Ry(T,I);f[R]=g()}}function xy(T,I){if(f){let R=Ry(T,I),L=f[R];if(typeof L=="number")return L}return null}function iC(T){s={},a=zd(T,i,void 0,s)}return v={get basename(){return l},get state(){return y},get routes(){return o},get window(){return t},initialize:kt,subscribe:Rh,enableScrollRestoration:nC,navigate:Rn,fetch:XP,revalidate:wl,createHref:T=>e.history.createHref(T),encodeLocation:T=>e.history.encodeLocation(T),getFetcher:Ty,deleteFetcher:eC,dispose:qn,getBlocker:tC,deleteBlocker:Py,_internalFetchControllers:ee,_internalActiveDeferreds:xt,_internalSetRoutes:iC},v}function fk(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Hd(e,t,n,r,i,s,o){let a,l;if(s!=null&&o!=="path"){a=[];for(let c of t)if(a.push(c),c.route.id===s){l=c;break}}else a=t,l=t[t.length-1];let u=Fm(i||".",jc(a).map(c=>c.pathnameBase),Xs(e.pathname,n)||e.pathname,o==="path");return i==null&&(u.search=e.search,u.hash=e.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!jm(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:er([n,u.pathname])),Vi(u)}function zv(e,t,n,r){if(!r||!fk(r))return{path:n};if(r.formMethod&&!_k(r.formMethod))return{path:n,error:sn(405,{method:r.formMethod})};let i=()=>({path:n,error:sn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=e?s.toUpperCase():s.toLowerCase(),a=iE(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!vn(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((d,g)=>{let[_,w]=g;return""+d+_+"="+w+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!vn(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}re(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=qd(r.formData),u=r.formData;else if(r.body instanceof FormData)l=qd(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=Kv(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=Kv(l)}catch{return i()}let c={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(vn(c.formMethod))return{path:n,submission:c};let h=dr(n);return t&&h.search&&jm(h.search)&&l.append("index",""),h.search="?"+l,{path:Vi(h),submission:c}}function dk(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function Hv(e,t,n,r,i,s,o,a,l,u,c,h,f,d){let g=d?Object.values(d)[0]:f?Object.values(f)[0]:void 0,_=e.createURL(t.location),w=e.createURL(i),p=d?Object.keys(d)[0]:void 0,v=dk(n,p).filter((S,x)=>{if(S.route.lazy)return!0;if(S.route.loader==null)return!1;if(pk(t.loaderData,t.matches[x],S)||o.some(N=>N===S.route.id))return!0;let A=t.matches[x],P=S;return qv(S,be({currentUrl:_,currentParams:A.params,nextUrl:w,nextParams:P.params},r,{actionResult:g,defaultShouldRevalidate:s||_.pathname+_.search===w.pathname+w.search||_.search!==w.search||rE(A,P)}))}),y=[];return l.forEach((S,x)=>{if(!n.some(ue=>ue.route.id===S.routeId))return;let A=ds(c,S.path,h);if(!A){y.push({key:x,routeId:S.routeId,path:S.path,matches:null,match:null,controller:null});return}let P=t.fetchers.get(x),N=Wd(A,S.path),$=!1;u.has(x)?$=!1:a.includes(x)?$=!0:P&&P.state!=="idle"&&P.data===void 0?$=s:$=qv(N,be({currentUrl:_,currentParams:t.matches[t.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:g,defaultShouldRevalidate:s})),$&&y.push({key:x,routeId:S.routeId,path:S.path,matches:A,match:N,controller:new AbortController})}),[v,y]}function pk(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function rE(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function qv(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function Wv(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];re(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Di(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!Ox.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,be({},t(i),{lazy:void 0}))}async function _o(e,t,n,r,i,s,o,a){a===void 0&&(a={});let l,u,c,h=g=>{let _,w=new Promise((p,m)=>_=m);return c=()=>_(),t.signal.addEventListener("abort",c),Promise.race([g({request:t,params:n.params,context:a.requestContext}),w])};try{let g=n.route[e];if(n.route.lazy)if(g){let _,w=await Promise.all([h(g).catch(p=>{_=p}),Wv(n.route,s,i)]);if(_)throw _;u=w[0]}else if(await Wv(n.route,s,i),g=n.route[e],g)u=await h(g);else if(e==="action"){let _=new URL(t.url),w=_.pathname+_.search;throw sn(405,{method:t.method,pathname:w,routeId:n.route.id})}else return{type:ze.data,data:void 0};else if(g)u=await h(g);else{let _=new URL(t.url),w=_.pathname+_.search;throw sn(404,{pathname:w})}re(u!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(g){l=ze.error,u=g}finally{c&&t.signal.removeEventListener("abort",c)}if(vk(u)){let g=u.status;if(ak.has(g)){let p=u.headers.get("Location");if(re(p,"Redirects returned/thrown from loaders/actions must have a Location header"),!tE.test(p))p=Hd(new URL(t.url),r.slice(0,r.indexOf(n)+1),o,!0,p);else if(!a.isStaticRequest){let m=new URL(t.url),v=p.startsWith("//")?new URL(m.protocol+p):new URL(p),y=Xs(v.pathname,o)!=null;v.origin===m.origin&&y&&(p=v.pathname+v.search+v.hash)}if(a.isStaticRequest)throw u.headers.set("Location",p),u;return{type:ze.redirect,status:g,location:p,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(a.isRouteRequest)throw{type:l===ze.error?ze.error:ze.data,response:u};let _,w=u.headers.get("Content-Type");return w&&/\bapplication\/json\b/.test(w)?_=await u.json():_=await u.text(),l===ze.error?{type:l,error:new $m(g,u.statusText,_),headers:u.headers}:{type:ze.data,data:_,statusCode:u.status,headers:u.headers}}if(l===ze.error)return{type:l,error:u};if(yk(u)){var f,d;return{type:ze.deferred,deferredData:u,statusCode:(f=u.init)==null?void 0:f.status,headers:((d=u.init)==null?void 0:d.headers)&&new Headers(u.init.headers)}}return{type:ze.data,data:u}}function wo(e,t,n,r){let i=e.createURL(iE(t)).toString(),s={signal:n};if(r&&vn(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=qd(r.formData):s.body=r.formData}return new Request(i,s)}function qd(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Kv(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function mk(e,t,n,r,i){let s={},o=null,a,l=!1,u={};return n.forEach((c,h)=>{let f=t[h].route.id;if(re(!Ps(c),"Cannot handle redirect results in processLoaderData"),Yo(c)){let d=Qo(e,f),g=c.error;r&&(g=Object.values(r)[0],r=void 0),o=o||{},o[d.route.id]==null&&(o[d.route.id]=g),s[f]=void 0,l||(l=!0,a=ZT(c.error)?c.error.status:500),c.headers&&(u[f]=c.headers)}else yi(c)?(i.set(f,c.deferredData),s[f]=c.deferredData.data):s[f]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[f]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function Gv(e,t,n,r,i,s,o,a){let{loaderData:l,errors:u}=mk(t,n,r,i,a);for(let c=0;c<s.length;c++){let{key:h,match:f,controller:d}=s[c];re(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let g=o[c];if(!(d&&d.signal.aborted))if(Yo(g)){let _=Qo(e.matches,f==null?void 0:f.route.id);u&&u[_.route.id]||(u=be({},u,{[_.route.id]:g.error})),e.fetchers.delete(h)}else if(Ps(g))re(!1,"Unhandled fetcher revalidation redirect");else if(yi(g))re(!1,"Unhandled fetcher deferred data");else{let _=vr(g.data);e.fetchers.set(h,_)}}return{loaderData:l,errors:u}}function Qv(e,t,n,r){let i=be({},t);for(let s of n){let o=s.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(i[o]=t[o]):e[o]!==void 0&&s.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function Qo(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Yv(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function sn(e,t){let{pathname:n,routeId:r,method:i,type:s}=t===void 0?{}:t,o="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):e===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):e===404?(o="Not Found",a='No route matches URL "'+n+'"'):e===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new $m(e||500,o,new Error(a),!0)}function Xv(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Ps(n))return{result:n,idx:t}}}function iE(e){let t=typeof e=="string"?dr(e):e;return Vi(be({},t,{hash:""}))}function gk(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function yi(e){return e.type===ze.deferred}function Yo(e){return e.type===ze.error}function Ps(e){return(e&&e.type)===ze.redirect}function yk(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function vk(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function _k(e){return ok.has(e.toLowerCase())}function vn(e){return ik.has(e.toLowerCase())}async function Jv(e,t,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=t[o];if(!l)continue;let u=e.find(h=>h.route.id===l.route.id),c=u!=null&&!rE(u,l)&&(s&&s[l.route.id])!==void 0;if(yi(a)&&(i||c)){let h=r[o];re(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await sE(a,h,i).then(f=>{f&&(n[o]=f||n[o])})}}}async function sE(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:ze.data,data:e.deferredData.unwrappedData}}catch(i){return{type:ze.error,error:i}}return{type:ze.data,data:e.deferredData.data}}}function jm(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Wd(e,t){let n=typeof t=="string"?dr(t).search:t.search;if(e[e.length-1].route.index&&jm(n||""))return e[e.length-1];let r=jc(e);return r[r.length-1]}function Zv(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function cf(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function wk(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function To(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Tk(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function vr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Ek(e,t){try{let n=e.sessionStorage.getItem(nE);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function Sk(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(nE,JSON.stringify(n))}catch(r){Di(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qu(){return qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qu.apply(this,arguments)}const Bc=E.createContext(null),oE=E.createContext(null),Js=E.createContext(null),Uc=E.createContext(null),Ui=E.createContext({outlet:null,matches:[],isDataRoute:!1}),aE=E.createContext(null);function Ik(e,t){let{relative:n}=t===void 0?{}:t;Xa()||re(!1);let{basename:r,navigator:i}=E.useContext(Js),{hash:s,pathname:o,search:a}=uE(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:er([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Xa(){return E.useContext(Uc)!=null}function Ja(){return Xa()||re(!1),E.useContext(Uc).location}function lE(e){E.useContext(Js).static||E.useLayoutEffect(e)}function Ak(){let{isDataRoute:e}=E.useContext(Ui);return e?bk():Pk()}function Pk(){Xa()||re(!1);let e=E.useContext(Bc),{basename:t,navigator:n}=E.useContext(Js),{matches:r}=E.useContext(Ui),{pathname:i}=Ja(),s=JSON.stringify(jc(r).map(l=>l.pathnameBase)),o=E.useRef(!1);return lE(()=>{o.current=!0}),E.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=Fm(l,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:er([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,s,i,e])}function uE(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=E.useContext(Ui),{pathname:i}=Ja(),s=JSON.stringify(jc(r).map(o=>o.pathnameBase));return E.useMemo(()=>Fm(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function Ck(e,t,n){Xa()||re(!1);let{navigator:r}=E.useContext(Js),{matches:i}=E.useContext(Ui),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Ja(),u;if(t){var c;let _=typeof t=="string"?dr(t):t;a==="/"||(c=_.pathname)!=null&&c.startsWith(a)||re(!1),u=_}else u=l;let h=u.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",d=ds(e,{pathname:f}),g=Vk(d&&d.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:er([a,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?a:er([a,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n);return t&&g?E.createElement(Uc.Provider,{value:{location:qu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ue.Pop}},g):g}function Rk(){let e=Ok(),t=ZT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:i},n):null,s)}const xk=E.createElement(Rk,null);class kk extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?E.createElement(Ui.Provider,{value:this.props.routeContext},E.createElement(aE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Dk(e){let{routeContext:t,match:n,children:r}=e,i=E.useContext(Bc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Ui.Provider,{value:t},r)}function Vk(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let s=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||re(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||xk);let f=t.concat(s.slice(0,u+1)),d=()=>{let g;return c?g=h:l.route.Component?g=E.createElement(l.route.Component,null):l.route.element?g=l.route.element:g=a,E.createElement(Dk,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:g})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?E.createElement(kk,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:d(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):d()},null)}var cE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(cE||{}),Wu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Wu||{});function Mk(e){let t=E.useContext(Bc);return t||re(!1),t}function Lk(e){let t=E.useContext(oE);return t||re(!1),t}function Nk(e){let t=E.useContext(Ui);return t||re(!1),t}function hE(e){let t=Nk(),n=t.matches[t.matches.length-1];return n.route.id||re(!1),n.route.id}function Ok(){var e;let t=E.useContext(aE),n=Lk(Wu.UseRouteError),r=hE(Wu.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function bk(){let{router:e}=Mk(cE.UseNavigateStable),t=hE(Wu.UseNavigateStable),n=E.useRef(!1);return lE(()=>{n.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,qu({fromRouteId:t},s)))},[e,t])}function Fk(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ue.Pop,navigator:s,static:o=!1}=e;Xa()&&re(!1);let a=t.replace(/^\/*/,"/"),l=E.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=dr(r));let{pathname:u="/",search:c="",hash:h="",state:f=null,key:d="default"}=r,g=E.useMemo(()=>{let _=Xs(u,a);return _==null?null:{location:{pathname:_,search:c,hash:h,state:f,key:d},navigationType:i}},[a,u,c,h,f,d,i]);return g==null?null:E.createElement(Js.Provider,{value:l},E.createElement(Uc.Provider,{children:n,value:g}))}new Promise(()=>{});function $k(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:E.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:E.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Aa(){return Aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Aa.apply(this,arguments)}function jk(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Bk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Uk(e,t){return e.button===0&&(!t||t==="_self")&&!Bk(e)}const zk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];function Hk(e,t){return hk({basename:t==null?void 0:t.basename,future:Aa({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:Mx({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||qk(),routes:e,mapRouteProperties:$k,window:t==null?void 0:t.window}).initialize()}function qk(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Aa({},t,{errors:Wk(t.errors)})),t}function Wk(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new $m(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const Kk=E.createContext({isTransitioning:!1}),Gk=E.createContext(new Map),Qk="startTransition",e0=EC[Qk];function Yk(e){e0?e0(e):e()}let Xk=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function Jk(e){let{fallbackElement:t,router:n,future:r}=e,[i,s]=E.useState(n.state),[o,a]=E.useState(),[l,u]=E.useState({isTransitioning:!1}),[c,h]=E.useState(),[f,d]=E.useState(),[g,_]=E.useState(),w=E.useRef(new Map),{v7_startTransition:p}=r||{},m=E.useCallback(A=>{p?Yk(A):A()},[p]),v=E.useCallback((A,P)=>{let{deletedFetchers:N,unstable_viewTransitionOpts:$}=P;N.forEach(ue=>w.current.delete(ue)),A.fetchers.forEach((ue,Ce)=>{ue.data!==void 0&&w.current.set(Ce,ue.data)}),!$||n.window==null||typeof n.window.document.startViewTransition!="function"?m(()=>s(A)):f&&c?(c.resolve(),f.skipTransition(),_({state:A,currentLocation:$.currentLocation,nextLocation:$.nextLocation})):(a(A),u({isTransitioning:!0,currentLocation:$.currentLocation,nextLocation:$.nextLocation}))},[n.window,f,c,w,m]);E.useLayoutEffect(()=>n.subscribe(v),[n,v]),E.useEffect(()=>{l.isTransitioning&&h(new Xk)},[l.isTransitioning]),E.useEffect(()=>{if(c&&o&&n.window){let A=o,P=c.promise,N=n.window.document.startViewTransition(async()=>{m(()=>s(A)),await P});N.finished.finally(()=>{h(void 0),d(void 0),a(void 0),u({isTransitioning:!1})}),d(N)}},[m,o,c,n.window]),E.useEffect(()=>{c&&o&&i.location.key===o.location.key&&c.resolve()},[c,f,i.location,o]),E.useEffect(()=>{!l.isTransitioning&&g&&(a(g.state),u({isTransitioning:!0,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),_(void 0))},[l.isTransitioning,g]);let y=E.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:A=>n.navigate(A),push:(A,P,N)=>n.navigate(A,{state:P,preventScrollReset:N==null?void 0:N.preventScrollReset}),replace:(A,P,N)=>n.navigate(A,{replace:!0,state:P,preventScrollReset:N==null?void 0:N.preventScrollReset})}),[n]),S=n.basename||"/",x=E.useMemo(()=>({router:n,navigator:y,static:!1,basename:S}),[n,y,S]);return E.createElement(E.Fragment,null,E.createElement(Bc.Provider,{value:x},E.createElement(oE.Provider,{value:i},E.createElement(Gk.Provider,{value:w.current},E.createElement(Kk.Provider,{value:l},E.createElement(Fk,{basename:S,location:i.location,navigationType:i.historyAction,navigator:y},i.initialized?E.createElement(Zk,{routes:n.routes,state:i}):t))))),null)}function Zk(e){let{routes:t,state:n}=e;return Ck(t,void 0,n)}const eD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,t0=E.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:h}=t,f=jk(t,zk),{basename:d}=E.useContext(Js),g,_=!1;if(typeof u=="string"&&tD.test(u)&&(g=u,eD))try{let v=new URL(window.location.href),y=u.startsWith("//")?new URL(v.protocol+u):new URL(u),S=Xs(y.pathname,d);y.origin===v.origin&&S!=null?u=S+y.search+y.hash:_=!0}catch{}let w=Ik(u,{relative:i}),p=nD(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:h});function m(v){r&&r(v),v.defaultPrevented||p(v)}return E.createElement("a",Aa({},f,{href:g||w,onClick:_||s?r:m,ref:n,target:l}))});var n0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(n0||(n0={}));var r0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(r0||(r0={}));function nD(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=t===void 0?{}:t,l=Ak(),u=Ja(),c=uE(e,{relative:o});return E.useCallback(h=>{if(Uk(h,n)){h.preventDefault();let f=r!==void 0?r:Vi(u)===Vi(c);l(e,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,e,s,o,a])}var fE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i0=et.createContext&&et.createContext(fE),Or=globalThis&&globalThis.__assign||function(){return Or=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Or.apply(this,arguments)},rD=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function dE(e){return e&&e.map(function(t,n){return et.createElement(t.tag,Or({key:n},t.attr),dE(t.child))})}function pE(e){return function(t){return et.createElement(iD,Or({attr:Or({},e.attr)},t),dE(e.child))}}function iD(e){var t=function(n){var r=e.attr,i=e.size,s=e.title,o=rD(e,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),et.createElement("svg",Or({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Or(Or({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&et.createElement("title",null,s),e.children)};return i0!==void 0?et.createElement(i0.Consumer,null,function(n){return t(n)}):t(fE)}function sD(e){return pE({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}function oD(e){return pE({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function aD(){const e=E.useRef(),t=({children:r,to:i})=>{const{pathname:s}=Ja(),o=`link ${s===i?"active":""}`;return b.jsx(t0,{className:o,to:i,children:r})},n=()=>{e.current.classList.toggle("responsive-nav")};return b.jsxs("header",{children:[b.jsxs("div",{className:"container-nav",children:[b.jsx("div",{style:{display:"flex",alignItems:"center",gap:10},children:b.jsx(t0,{to:"/",className:"link",style:{textTransform:"uppercase"},children:"Registro Peliculas"})}),b.jsxs("nav",{ref:e,children:[b.jsxs("div",{className:"container-links",children:[b.jsx(t,{to:"/",children:"Inicio"}),b.jsx(t,{to:"/films",children:"Peliculas"})]}),b.jsx("button",{className:"nav-btn nav-close-btn","aria-label":"Close",onClick:n,children:b.jsx(oD,{})})]})]}),b.jsx("button",{className:"nav-btn","aria-label":"Open",onClick:n,children:b.jsx(sD,{})})]})}var mE={exports:{}},lD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",uD=lD,cD=uD;function gE(){}function yE(){}yE.resetWarningCache=gE;var hD=function(){function e(r,i,s,o,a,l){if(l!==cD){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:yE,resetWarningCache:gE};return n.PropTypes=n,n};mE.exports=hD();var fD=mE.exports;const oe=qa(fD);var dD=typeof Element<"u",pD=typeof Map=="function",mD=typeof Set=="function",gD=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function fu(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!fu(e[r],t[r]))return!1;return!0}var s;if(pD&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;for(s=e.entries();!(r=s.next()).done;)if(!fu(r.value[1],t.get(r.value[0])))return!1;return!0}if(mD&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(gD&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(dD&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!fu(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var yD=function(t,n){try{return fu(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const vD=qa(yD);var _D=function(e,t,n,r,i,s,o,a){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,s,o,a],c=0;l=new Error(t.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},wD=_D;const s0=qa(wD);var TD=function(t,n,r,i){var s=r?r.call(i,t,n):void 0;if(s!==void 0)return!!s;if(t===n)return!0;if(typeof t!="object"||!t||typeof n!="object"||!n)return!1;var o=Object.keys(t),a=Object.keys(n);if(o.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),u=0;u<o.length;u++){var c=o[u];if(!l(c))return!1;var h=t[c],f=n[c];if(s=r?r.call(i,h,f,c):void 0,s===!1||s===void 0&&h!==f)return!1}return!0};const ED=qa(TD);function Be(){return Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Be.apply(this,arguments)}function Bm(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Kd(e,t)}function Kd(e,t){return Kd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Kd(e,t)}function o0(e,t){if(e==null)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||(i[n]=e[n]);return i}var W={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},SD={rel:["amphtml","canonical","alternate"]},ID={type:["application/ld+json"]},AD={charset:"",name:["robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},a0=Object.keys(W).map(function(e){return W[e]}),Ku={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},PD=Object.keys(Ku).reduce(function(e,t){return e[Ku[t]]=t,e},{}),Cs=function(e,t){for(var n=e.length-1;n>=0;n-=1){var r=e[n];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},CD=function(e){var t=Cs(e,W.TITLE),n=Cs(e,"titleTemplate");if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,function(){return t});var r=Cs(e,"defaultTitle");return t||r||void 0},RD=function(e){return Cs(e,"onChangeClientState")||function(){}},hf=function(e,t){return t.filter(function(n){return n[e]!==void 0}).map(function(n){return n[e]}).reduce(function(n,r){return Be({},n,r)},{})},xD=function(e,t){return t.filter(function(n){return n[W.BASE]!==void 0}).map(function(n){return n[W.BASE]}).reverse().reduce(function(n,r){if(!n.length)for(var i=Object.keys(r),s=0;s<i.length;s+=1){var o=i[s].toLowerCase();if(e.indexOf(o)!==-1&&r[o])return n.concat(r)}return n},[])},Eo=function(e,t,n){var r={};return n.filter(function(i){return!!Array.isArray(i[e])||(i[e]!==void 0&&console&&typeof console.warn=="function"&&console.warn("Helmet: "+e+' should be of type "Array". Instead found type "'+typeof i[e]+'"'),!1)}).map(function(i){return i[e]}).reverse().reduce(function(i,s){var o={};s.filter(function(h){for(var f,d=Object.keys(h),g=0;g<d.length;g+=1){var _=d[g],w=_.toLowerCase();t.indexOf(w)===-1||f==="rel"&&h[f].toLowerCase()==="canonical"||w==="rel"&&h[w].toLowerCase()==="stylesheet"||(f=w),t.indexOf(_)===-1||_!=="innerHTML"&&_!=="cssText"&&_!=="itemprop"||(f=_)}if(!f||!h[f])return!1;var p=h[f].toLowerCase();return r[f]||(r[f]={}),o[f]||(o[f]={}),!r[f][p]&&(o[f][p]=!0,!0)}).reverse().forEach(function(h){return i.push(h)});for(var a=Object.keys(o),l=0;l<a.length;l+=1){var u=a[l],c=Be({},r[u],o[u]);r[u]=c}return i},[]).reverse()},kD=function(e,t){if(Array.isArray(e)&&e.length){for(var n=0;n<e.length;n+=1)if(e[n][t])return!0}return!1},vE=function(e){return Array.isArray(e)?e.join(""):e},ff=function(e,t){return Array.isArray(e)?e.reduce(function(n,r){return function(i,s){for(var o=Object.keys(i),a=0;a<o.length;a+=1)if(s[o[a]]&&s[o[a]].includes(i[o[a]]))return!0;return!1}(r,t)?n.priority.push(r):n.default.push(r),n},{priority:[],default:[]}):{default:e}},l0=function(e,t){var n;return Be({},e,((n={})[t]=void 0,n))},DD=[W.NOSCRIPT,W.SCRIPT,W.STYLE],df=function(e,t){return t===void 0&&(t=!0),t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},u0=function(e){return Object.keys(e).reduce(function(t,n){var r=e[n]!==void 0?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r},"")},c0=function(e,t){return t===void 0&&(t={}),Object.keys(e).reduce(function(n,r){return n[Ku[r]||r]=e[r],n},t)},du=function(e,t){return t.map(function(n,r){var i,s=((i={key:r})["data-rh"]=!0,i);return Object.keys(n).forEach(function(o){var a=Ku[o]||o;a==="innerHTML"||a==="cssText"?s.dangerouslySetInnerHTML={__html:n.innerHTML||n.cssText}:s[a]=n[o]}),et.createElement(e,s)})},nn=function(e,t,n){switch(e){case W.TITLE:return{toComponent:function(){return i=t.titleAttributes,(s={key:r=t.title})["data-rh"]=!0,o=c0(i,s),[et.createElement(W.TITLE,o,r)];var r,i,s,o},toString:function(){return function(r,i,s,o){var a=u0(s),l=vE(i);return a?"<"+r+' data-rh="true" '+a+">"+df(l,o)+"</"+r+">":"<"+r+' data-rh="true">'+df(l,o)+"</"+r+">"}(e,t.title,t.titleAttributes,n)}};case"bodyAttributes":case"htmlAttributes":return{toComponent:function(){return c0(t)},toString:function(){return u0(t)}};default:return{toComponent:function(){return du(e,t)},toString:function(){return function(r,i,s){return i.reduce(function(o,a){var l=Object.keys(a).filter(function(h){return!(h==="innerHTML"||h==="cssText")}).reduce(function(h,f){var d=a[f]===void 0?f:f+'="'+df(a[f],s)+'"';return h?h+" "+d:d},""),u=a.innerHTML||a.cssText||"",c=DD.indexOf(r)===-1;return o+"<"+r+' data-rh="true" '+l+(c?"/>":">"+u+"</"+r+">")},"")}(e,t,n)}}}},Gd=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,s=e.noscriptTags,o=e.styleTags,a=e.title,l=a===void 0?"":a,u=e.titleAttributes,c=e.linkTags,h=e.metaTags,f=e.scriptTags,d={toComponent:function(){},toString:function(){return""}};if(e.prioritizeSeoTags){var g=function(_){var w=_.linkTags,p=_.scriptTags,m=_.encode,v=ff(_.metaTags,AD),y=ff(w,SD),S=ff(p,ID);return{priorityMethods:{toComponent:function(){return[].concat(du(W.META,v.priority),du(W.LINK,y.priority),du(W.SCRIPT,S.priority))},toString:function(){return nn(W.META,v.priority,m)+" "+nn(W.LINK,y.priority,m)+" "+nn(W.SCRIPT,S.priority,m)}},metaTags:v.default,linkTags:y.default,scriptTags:S.default}}(e);d=g.priorityMethods,c=g.linkTags,h=g.metaTags,f=g.scriptTags}return{priority:d,base:nn(W.BASE,t,r),bodyAttributes:nn("bodyAttributes",n,r),htmlAttributes:nn("htmlAttributes",i,r),link:nn(W.LINK,c,r),meta:nn(W.META,h,r),noscript:nn(W.NOSCRIPT,s,r),script:nn(W.SCRIPT,f,r),style:nn(W.STYLE,o,r),title:nn(W.TITLE,{title:l,titleAttributes:u},r)}},Bl=[],Qd=function(e,t){var n=this;t===void 0&&(t=typeof document<"u"),this.instances=[],this.value={setHelmet:function(r){n.context.helmet=r},helmetInstances:{get:function(){return n.canUseDOM?Bl:n.instances},add:function(r){(n.canUseDOM?Bl:n.instances).push(r)},remove:function(r){var i=(n.canUseDOM?Bl:n.instances).indexOf(r);(n.canUseDOM?Bl:n.instances).splice(i,1)}}},this.context=e,this.canUseDOM=t,t||(e.helmet=Gd({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))},_E=et.createContext({}),VD=oe.shape({setHelmet:oe.func,helmetInstances:oe.shape({get:oe.func,add:oe.func,remove:oe.func})}),MD=typeof document<"u",ps=function(e){function t(n){var r;return(r=e.call(this,n)||this).helmetData=new Qd(r.props.context,t.canUseDOM),r}return Bm(t,e),t.prototype.render=function(){return et.createElement(_E.Provider,{value:this.helmetData.value},this.props.children)},t}(E.Component);ps.canUseDOM=MD,ps.propTypes={context:oe.shape({helmet:oe.shape()}),children:oe.node.isRequired},ps.defaultProps={context:{}},ps.displayName="HelmetProvider";var Yi=function(e,t){var n,r=document.head||document.querySelector(W.HEAD),i=r.querySelectorAll(e+"[data-rh]"),s=[].slice.call(i),o=[];return t&&t.length&&t.forEach(function(a){var l=document.createElement(e);for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(u==="innerHTML"?l.innerHTML=a.innerHTML:u==="cssText"?l.styleSheet?l.styleSheet.cssText=a.cssText:l.appendChild(document.createTextNode(a.cssText)):l.setAttribute(u,a[u]===void 0?"":a[u]));l.setAttribute("data-rh","true"),s.some(function(c,h){return n=h,l.isEqualNode(c)})?s.splice(n,1):o.push(l)}),s.forEach(function(a){return a.parentNode.removeChild(a)}),o.forEach(function(a){return r.appendChild(a)}),{oldTags:s,newTags:o}},pf=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute("data-rh"),i=r?r.split(","):[],s=[].concat(i),o=Object.keys(t),a=0;a<o.length;a+=1){var l=o[a],u=t[l]||"";n.getAttribute(l)!==u&&n.setAttribute(l,u),i.indexOf(l)===-1&&i.push(l);var c=s.indexOf(l);c!==-1&&s.splice(c,1)}for(var h=s.length-1;h>=0;h-=1)n.removeAttribute(s[h]);i.length===s.length?n.removeAttribute("data-rh"):n.getAttribute("data-rh")!==o.join(",")&&n.setAttribute("data-rh",o.join(","))}},h0=function(e,t){var n=e.baseTag,r=e.htmlAttributes,i=e.linkTags,s=e.metaTags,o=e.noscriptTags,a=e.onChangeClientState,l=e.scriptTags,u=e.styleTags,c=e.title,h=e.titleAttributes;pf(W.BODY,e.bodyAttributes),pf(W.HTML,r),function(_,w){_!==void 0&&document.title!==_&&(document.title=vE(_)),pf(W.TITLE,w)}(c,h);var f={baseTag:Yi(W.BASE,n),linkTags:Yi(W.LINK,i),metaTags:Yi(W.META,s),noscriptTags:Yi(W.NOSCRIPT,o),scriptTags:Yi(W.SCRIPT,l),styleTags:Yi(W.STYLE,u)},d={},g={};Object.keys(f).forEach(function(_){var w=f[_],p=w.newTags,m=w.oldTags;p.length&&(d[_]=p),m.length&&(g[_]=f[_].oldTags)}),t&&t(),a(e,d,g)},So=null,Gu=function(e){function t(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(r=e.call.apply(e,[this].concat(s))||this).rendered=!1,r}Bm(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(r){return!ED(r,this.props)},n.componentDidUpdate=function(){this.emitChange()},n.componentWillUnmount=function(){this.props.context.helmetInstances.remove(this),this.emitChange()},n.emitChange=function(){var r,i,s=this.props.context,o=s.setHelmet,a=null,l=(r=s.helmetInstances.get().map(function(u){var c=Be({},u.props);return delete c.context,c}),{baseTag:xD(["href"],r),bodyAttributes:hf("bodyAttributes",r),defer:Cs(r,"defer"),encode:Cs(r,"encodeSpecialCharacters"),htmlAttributes:hf("htmlAttributes",r),linkTags:Eo(W.LINK,["rel","href"],r),metaTags:Eo(W.META,["name","charset","http-equiv","property","itemprop"],r),noscriptTags:Eo(W.NOSCRIPT,["innerHTML"],r),onChangeClientState:RD(r),scriptTags:Eo(W.SCRIPT,["src","innerHTML"],r),styleTags:Eo(W.STYLE,["cssText"],r),title:CD(r),titleAttributes:hf("titleAttributes",r),prioritizeSeoTags:kD(r,"prioritizeSeoTags")});ps.canUseDOM?(i=l,So&&cancelAnimationFrame(So),i.defer?So=requestAnimationFrame(function(){h0(i,function(){So=null})}):(h0(i),So=null)):Gd&&(a=Gd(l)),o(a)},n.init=function(){this.rendered||(this.rendered=!0,this.props.context.helmetInstances.add(this),this.emitChange())},n.render=function(){return this.init(),null},t}(E.Component);Gu.propTypes={context:VD.isRequired},Gu.displayName="HelmetDispatcher";var LD=["children"],ND=["children"],pu=function(e){function t(){return e.apply(this,arguments)||this}Bm(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(r){return!vD(l0(this.props,"helmetData"),l0(r,"helmetData"))},n.mapNestedChildrenToProps=function(r,i){if(!i)return null;switch(r.type){case W.SCRIPT:case W.NOSCRIPT:return{innerHTML:i};case W.STYLE:return{cssText:i};default:throw new Error("<"+r.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")}},n.flattenArrayTypeChildren=function(r){var i,s=r.child,o=r.arrayTypeChildren;return Be({},o,((i={})[s.type]=[].concat(o[s.type]||[],[Be({},r.newChildProps,this.mapNestedChildrenToProps(s,r.nestedChildren))]),i))},n.mapObjectTypeChildren=function(r){var i,s,o=r.child,a=r.newProps,l=r.newChildProps,u=r.nestedChildren;switch(o.type){case W.TITLE:return Be({},a,((i={})[o.type]=u,i.titleAttributes=Be({},l),i));case W.BODY:return Be({},a,{bodyAttributes:Be({},l)});case W.HTML:return Be({},a,{htmlAttributes:Be({},l)});default:return Be({},a,((s={})[o.type]=Be({},l),s))}},n.mapArrayTypeChildrenToProps=function(r,i){var s=Be({},i);return Object.keys(r).forEach(function(o){var a;s=Be({},s,((a={})[o]=r[o],a))}),s},n.warnOnInvalidChildren=function(r,i){return s0(a0.some(function(s){return r.type===s}),typeof r.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types "+a0.join(", ")+" are allowed. Helmet does not support rendering <"+r.type+"> elements. Refer to our API for more information."),s0(!i||typeof i=="string"||Array.isArray(i)&&!i.some(function(s){return typeof s!="string"}),"Helmet expects a string as a child of <"+r.type+">. Did you forget to wrap your children in braces? ( <"+r.type+">{``}</"+r.type+"> ) Refer to our API for more information."),!0},n.mapChildrenToProps=function(r,i){var s=this,o={};return et.Children.forEach(r,function(a){if(a&&a.props){var l=a.props,u=l.children,c=o0(l,LD),h=Object.keys(c).reduce(function(d,g){return d[PD[g]||g]=c[g],d},{}),f=a.type;switch(typeof f=="symbol"?f=f.toString():s.warnOnInvalidChildren(a,u),f){case W.FRAGMENT:i=s.mapChildrenToProps(u,i);break;case W.LINK:case W.META:case W.NOSCRIPT:case W.SCRIPT:case W.STYLE:o=s.flattenArrayTypeChildren({child:a,arrayTypeChildren:o,newChildProps:h,nestedChildren:u});break;default:i=s.mapObjectTypeChildren({child:a,newProps:i,newChildProps:h,nestedChildren:u})}}}),this.mapArrayTypeChildrenToProps(o,i)},n.render=function(){var r=this.props,i=r.children,s=o0(r,ND),o=Be({},s),a=s.helmetData;return i&&(o=this.mapChildrenToProps(i,o)),!a||a instanceof Qd||(a=new Qd(a.context,a.instances)),a?et.createElement(Gu,Be({},o,{context:a.value,helmetData:void 0})):et.createElement(_E.Consumer,null,function(l){return et.createElement(Gu,Be({},o,{context:l}))})},t}(E.Component);pu.propTypes={base:oe.object,bodyAttributes:oe.object,children:oe.oneOfType([oe.arrayOf(oe.node),oe.node]),defaultTitle:oe.string,defer:oe.bool,encodeSpecialCharacters:oe.bool,htmlAttributes:oe.object,link:oe.arrayOf(oe.object),meta:oe.arrayOf(oe.object),noscript:oe.arrayOf(oe.object),onChangeClientState:oe.func,script:oe.arrayOf(oe.object),style:oe.arrayOf(oe.object),title:oe.string,titleAttributes:oe.object,titleTemplate:oe.string,prioritizeSeoTags:oe.bool,helmetData:oe.object},pu.defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1},pu.displayName="Helmet";const wE=({children:e,title:t,pageDescription:n})=>b.jsxs(b.Fragment,{children:[b.jsx(ps,{children:b.jsxs(pu,{children:[b.jsx("title",{children:t}),b.jsx("meta",{name:"og:title",content:t}),b.jsx("meta",{name:"og:description",content:n})]})}),b.jsx(aD,{}),b.jsx("section",{className:"section",children:e})]}),OD=()=>b.jsx(b.Fragment,{children:b.jsx(wE,{title:"Inicio",children:"Home"})});function bD(){return b.jsx(b.Fragment,{children:b.jsx(OD,{})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},FD=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},EE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,d=u&63;l||(d=64,o||(f=64)),r.push(n[c],n[h],n[f],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(TE(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):FD(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new $D;const f=s<<2|a>>4;if(r.push(f),u!==64){const d=a<<4&240|u>>2;if(r.push(d),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class $D extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jD=function(e){const t=TE(e);return EE.encodeByteArray(t,!0)},Qu=function(e){return jD(e).replace(/\./g,"")},BD=function(e){try{return EE.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=()=>UD().__FIREBASE_DEFAULTS__,HD=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},qD=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&BD(e[1]);return t&&JSON.parse(t)},SE=()=>{try{return zD()||HD()||qD()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},WD=e=>{var t,n;return(n=(t=SE())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},KD=e=>{const t=WD(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},IE=()=>{var e;return(e=SE())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Qu(JSON.stringify(n)),Qu(JSON.stringify(o)),a].join(".")}function YD(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function AE(){try{return typeof indexedDB=="object"}catch{return!1}}function PE(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}function XD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="FirebaseError";class ti extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=JD,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zc.prototype.create)}}class zc{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?ZD(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ti(i,a,r)}}function ZD(e,t){return e.replace(eV,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const eV=/\{\$([^}]+)}/g;function Yu(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(f0(s)&&f0(o)){if(!Yu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function f0(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=1e3,nV=2,rV=4*60*60*1e3,iV=.5;function d0(e,t=tV,n=nV){const r=t*Math.pow(n,e),i=Math.round(iV*r*(Math.random()-.5)*2);return Math.min(rV,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(e){return e&&e._delegate?e._delegate:e}class ar{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new GD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(aV(t))try{this.getOrInitializeService({instanceIdentifier:hi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=hi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=hi){return this.instances.has(t)}getOptions(t=hi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oV(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=hi){return this.component?this.component.multipleInstances?t:hi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oV(e){return e===hi?void 0:e}function aV(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new sV(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ce||(ce={}));const uV={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},cV=ce.INFO,hV={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},fV=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=hV[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Um{constructor(t){this.name=t,this._logLevel=cV,this._logHandler=fV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ce))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?uV[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...t),this._logHandler(this,ce.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...t),this._logHandler(this,ce.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...t),this._logHandler(this,ce.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...t),this._logHandler(this,ce.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...t),this._logHandler(this,ce.ERROR,...t)}}const dV=(e,t)=>t.some(n=>e instanceof n);let p0,m0;function pV(){return p0||(p0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mV(){return m0||(m0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CE=new WeakMap,Yd=new WeakMap,RE=new WeakMap,mf=new WeakMap,zm=new WeakMap;function gV(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(br(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&CE.set(n,e)}).catch(()=>{}),zm.set(t,e),t}function yV(e){if(Yd.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Yd.set(e,t)}let Xd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Yd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||RE.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return br(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function vV(e){Xd=e(Xd)}function _V(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(gf(this),t,...n);return RE.set(r,t.sort?t.sort():[t]),br(r)}:mV().includes(e)?function(...t){return e.apply(gf(this),t),br(CE.get(this))}:function(...t){return br(e.apply(gf(this),t))}}function wV(e){return typeof e=="function"?_V(e):(e instanceof IDBTransaction&&yV(e),dV(e,pV())?new Proxy(e,Xd):e)}function br(e){if(e instanceof IDBRequest)return gV(e);if(mf.has(e))return mf.get(e);const t=wV(e);return t!==e&&(mf.set(e,t),zm.set(t,e)),t}const gf=e=>zm.get(e);function TV(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=br(o);return r&&o.addEventListener("upgradeneeded",l=>{r(br(o.result),l.oldVersion,l.newVersion,br(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const EV=["get","getKey","getAll","getAllKeys","count"],SV=["put","add","delete","clear"],yf=new Map;function g0(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(yf.get(t))return yf.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=SV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||EV.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return yf.set(t,s),s}vV(e=>({...e,get:(t,n,r)=>g0(t,n)||e.get(t,n,r),has:(t,n)=>!!g0(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function AV(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Jd="@firebase/app",y0="0.9.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new Um("@firebase/app"),PV="@firebase/app-compat",CV="@firebase/analytics-compat",RV="@firebase/analytics",xV="@firebase/app-check-compat",kV="@firebase/app-check",DV="@firebase/auth",VV="@firebase/auth-compat",MV="@firebase/database",LV="@firebase/database-compat",NV="@firebase/functions",OV="@firebase/functions-compat",bV="@firebase/installations",FV="@firebase/installations-compat",$V="@firebase/messaging",jV="@firebase/messaging-compat",BV="@firebase/performance",UV="@firebase/performance-compat",zV="@firebase/remote-config",HV="@firebase/remote-config-compat",qV="@firebase/storage",WV="@firebase/storage-compat",KV="@firebase/firestore",GV="@firebase/firestore-compat",QV="firebase",YV="10.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="[DEFAULT]",XV={[Jd]:"fire-core",[PV]:"fire-core-compat",[RV]:"fire-analytics",[CV]:"fire-analytics-compat",[kV]:"fire-app-check",[xV]:"fire-app-check-compat",[DV]:"fire-auth",[VV]:"fire-auth-compat",[MV]:"fire-rtdb",[LV]:"fire-rtdb-compat",[NV]:"fire-fn",[OV]:"fire-fn-compat",[bV]:"fire-iid",[FV]:"fire-iid-compat",[$V]:"fire-fcm",[jV]:"fire-fcm-compat",[BV]:"fire-perf",[UV]:"fire-perf-compat",[zV]:"fire-rc",[HV]:"fire-rc-compat",[qV]:"fire-gcs",[WV]:"fire-gcs-compat",[KV]:"fire-fst",[GV]:"fire-fst-compat","fire-js":"fire-js",[QV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=new Map,ep=new Map;function JV(e,t){try{e.container.addComponent(t)}catch(n){Mi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Wr(e){const t=e.name;if(ep.has(t))return Mi.debug(`There were multiple attempts to register component ${t}.`),!1;ep.set(t,e);for(const n of Xu.values())JV(n,e);return!0}function Za(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Fr=new zc("app","Firebase",ZV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ar("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=YV;function xE(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Zd,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Fr.create("bad-app-name",{appName:String(i)});if(n||(n=IE()),!n)throw Fr.create("no-options");const s=Xu.get(i);if(s){if(Yu(n,s.options)&&Yu(r,s.config))return s;throw Fr.create("duplicate-app",{appName:i})}const o=new lV(i);for(const l of ep.values())o.addComponent(l);const a=new e2(n,r,o);return Xu.set(i,a),a}function kE(e=Zd){const t=Xu.get(e);if(!t&&e===Zd&&IE())return xE();if(!t)throw Fr.create("no-app",{appName:e});return t}function $n(e,t,n){var r;let i=(r=XV[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Mi.warn(a.join(" "));return}Wr(new ar(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="firebase-heartbeat-database",r2=1,Pa="firebase-heartbeat-store";let vf=null;function DE(){return vf||(vf=TV(n2,r2,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Pa)}}}).catch(e=>{throw Fr.create("idb-open",{originalErrorMessage:e.message})})),vf}async function i2(e){try{return await(await DE()).transaction(Pa).objectStore(Pa).get(VE(e))}catch(t){if(t instanceof ti)Mi.warn(t.message);else{const n=Fr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Mi.warn(n.message)}}}async function v0(e,t){try{const r=(await DE()).transaction(Pa,"readwrite");await r.objectStore(Pa).put(t,VE(e)),await r.done}catch(n){if(n instanceof ti)Mi.warn(n.message);else{const r=Fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mi.warn(r.message)}}}function VE(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=1024,o2=30*24*60*60*1e3;class a2{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new u2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_0();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=o2}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=_0(),{heartbeatsToSend:n,unsentEntries:r}=l2(this._heartbeatsCache.heartbeats),i=Qu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function _0(){return new Date().toISOString().substring(0,10)}function l2(e,t=s2){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),w0(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),w0(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class u2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AE()?PE().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await i2(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return v0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return v0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function w0(e){return Qu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(e){Wr(new ar("platform-logger",t=>new IV(t),"PRIVATE")),Wr(new ar("heartbeat",t=>new a2(t),"PRIVATE")),$n(Jd,y0,e),$n(Jd,y0,"esm2017"),$n("fire-js","")}c2("");var h2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V,Hm=Hm||{},J=h2||self;function Hc(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function el(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function f2(e){return Object.prototype.hasOwnProperty.call(e,_f)&&e[_f]||(e[_f]=++d2)}var _f="closure_uid_"+(1e9*Math.random()>>>0),d2=0;function p2(e,t,n){return e.call.apply(e.bind,arguments)}function m2(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function At(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?At=p2:At=m2,At.apply(null,arguments)}function Ul(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function lt(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function ni(){this.s=this.s,this.o=this.o}var g2=0;ni.prototype.s=!1;ni.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),g2!=0)&&f2(this)};ni.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ME=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function qm(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function T0(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Hc(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function Pt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Pt.prototype.h=function(){this.defaultPrevented=!0};var y2=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{J.addEventListener("test",()=>{},t),J.removeEventListener("test",()=>{},t)}catch{}return e}();function Ca(e){return/^[\s\xa0]*$/.test(e)}function qc(){var e=J.navigator;return e&&(e=e.userAgent)?e:""}function Ln(e){return qc().indexOf(e)!=-1}function Wm(e){return Wm[" "](e),e}Wm[" "]=function(){};function v2(e,t){var n=cM;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var _2=Ln("Opera"),Fs=Ln("Trident")||Ln("MSIE"),LE=Ln("Edge"),tp=LE||Fs,NE=Ln("Gecko")&&!(qc().toLowerCase().indexOf("webkit")!=-1&&!Ln("Edge"))&&!(Ln("Trident")||Ln("MSIE"))&&!Ln("Edge"),w2=qc().toLowerCase().indexOf("webkit")!=-1&&!Ln("Edge");function OE(){var e=J.document;return e?e.documentMode:void 0}var np;e:{var wf="",Tf=function(){var e=qc();if(NE)return/rv:([^\);]+)(\)|;)/.exec(e);if(LE)return/Edge\/([\d\.]+)/.exec(e);if(Fs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(w2)return/WebKit\/(\S+)/.exec(e);if(_2)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Tf&&(wf=Tf?Tf[1]:""),Fs){var Ef=OE();if(Ef!=null&&Ef>parseFloat(wf)){np=String(Ef);break e}}np=wf}var rp;if(J.document&&Fs){var E0=OE();rp=E0||parseInt(np,10)||void 0}else rp=void 0;var T2=rp;function Ra(e,t){if(Pt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(NE){e:{try{Wm(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:E2[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ra.$.h.call(this)}}lt(Ra,Pt);var E2={2:"touch",3:"pen",4:"mouse"};Ra.prototype.h=function(){Ra.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var tl="closure_listenable_"+(1e6*Math.random()|0),S2=0;function I2(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++S2,this.fa=this.ia=!1}function Wc(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Km(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function A2(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function bE(e){const t={};for(const n in e)t[n]=e[n];return t}const S0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function FE(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<S0.length;s++)n=S0[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Kc(e){this.src=e,this.g={},this.h=0}Kc.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=sp(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new I2(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function ip(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=ME(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Wc(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function sp(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var Gm="closure_lm_"+(1e6*Math.random()|0),Sf={};function $E(e,t,n,r,i){if(r&&r.once)return BE(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)$E(e,t[s],n,r,i);return null}return n=Xm(n),e&&e[tl]?e.O(t,n,el(r)?!!r.capture:!!r,i):jE(e,t,n,!1,r,i)}function jE(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=el(i)?!!i.capture:!!i,a=Ym(e);if(a||(e[Gm]=a=new Kc(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=P2(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)y2||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(zE(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function P2(){function e(n){return t.call(e.src,e.listener,n)}const t=C2;return e}function BE(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)BE(e,t[s],n,r,i);return null}return n=Xm(n),e&&e[tl]?e.P(t,n,el(r)?!!r.capture:!!r,i):jE(e,t,n,!0,r,i)}function UE(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)UE(e,t[s],n,r,i);else r=el(r)?!!r.capture:!!r,n=Xm(n),e&&e[tl]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=sp(s,n,r,i),-1<n&&(Wc(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Ym(e))&&(t=e.g[t.toString()],e=-1,t&&(e=sp(t,n,r,i)),(n=-1<e?t[e]:null)&&Qm(n))}function Qm(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[tl])ip(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(zE(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ym(t))?(ip(n,e),n.h==0&&(n.src=null,t[Gm]=null)):Wc(e)}}}function zE(e){return e in Sf?Sf[e]:Sf[e]="on"+e}function C2(e,t){if(e.fa)e=!0;else{t=new Ra(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Qm(e),e=n.call(r,t)}return e}function Ym(e){return e=e[Gm],e instanceof Kc?e:null}var If="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xm(e){return typeof e=="function"?e:(e[If]||(e[If]=function(t){return e.handleEvent(t)}),e[If])}function at(){ni.call(this),this.i=new Kc(this),this.S=this,this.J=null}lt(at,ni);at.prototype[tl]=!0;at.prototype.removeEventListener=function(e,t,n,r){UE(this,e,t,n,r)};function mt(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new Pt(t,e);else if(t instanceof Pt)t.target=t.target||e;else{var i=t;t=new Pt(r,e),FE(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=zl(o,r,!0,t)&&i}if(o=t.g=e,i=zl(o,r,!0,t)&&i,i=zl(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=zl(o,r,!1,t)&&i}at.prototype.N=function(){if(at.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Wc(n[r]);delete e.g[t],e.h--}}this.J=null};at.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};at.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function zl(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&ip(e.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Jm=J.JSON.stringify;class R2{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function x2(){var e=Zm;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class k2{constructor(){this.h=this.g=null}add(t,n){const r=HE.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var HE=new R2(()=>new D2,e=>e.reset());class D2{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function V2(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function M2(e){J.setTimeout(()=>{throw e},0)}let xa,ka=!1,Zm=new k2,qE=()=>{const e=J.Promise.resolve(void 0);xa=()=>{e.then(L2)}};var L2=()=>{for(var e;e=x2();){try{e.h.call(e.g)}catch(n){M2(n)}var t=HE;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ka=!1};function Gc(e,t){at.call(this),this.h=e||1,this.g=t||J,this.j=At(this.qb,this),this.l=Date.now()}lt(Gc,at);V=Gc.prototype;V.ga=!1;V.T=null;V.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),mt(this,"tick"),this.ga&&(eg(this),this.start()))}};V.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function eg(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}V.N=function(){Gc.$.N.call(this),eg(this),delete this.g};function tg(e,t,n){if(typeof e=="function")n&&(e=At(e,n));else if(e&&typeof e.handleEvent=="function")e=At(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:J.setTimeout(e,t||0)}function WE(e){e.g=tg(()=>{e.g=null,e.i&&(e.i=!1,WE(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class N2 extends ni{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:WE(this)}N(){super.N(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Da(e){ni.call(this),this.h=e,this.g={}}lt(Da,ni);var I0=[];function KE(e,t,n,r){Array.isArray(n)||(n&&(I0[0]=n.toString()),n=I0);for(var i=0;i<n.length;i++){var s=$E(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function GE(e){Km(e.g,function(t,n){this.g.hasOwnProperty(n)&&Qm(t)},e),e.g={}}Da.prototype.N=function(){Da.$.N.call(this),GE(this)};Da.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Qc(){this.g=!0}Qc.prototype.Ea=function(){this.g=!1};function O2(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function b2(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function ms(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+$2(e,n)+(r?" "+r:"")})}function F2(e,t){e.info(function(){return"TIMEOUT: "+t})}Qc.prototype.info=function(){};function $2(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Jm(n)}catch{return t}}var zi={},A0=null;function Yc(){return A0=A0||new at}zi.Ta="serverreachability";function QE(e){Pt.call(this,zi.Ta,e)}lt(QE,Pt);function Va(e){const t=Yc();mt(t,new QE(t))}zi.STAT_EVENT="statevent";function YE(e,t){Pt.call(this,zi.STAT_EVENT,e),this.stat=t}lt(YE,Pt);function Mt(e){const t=Yc();mt(t,new YE(t,e))}zi.Ua="timingevent";function XE(e,t){Pt.call(this,zi.Ua,e),this.size=t}lt(XE,Pt);function nl(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){e()},t)}var Xc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},JE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ng(){}ng.prototype.h=null;function P0(e){return e.h||(e.h=e.i())}function ZE(){}var rl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function rg(){Pt.call(this,"d")}lt(rg,Pt);function ig(){Pt.call(this,"c")}lt(ig,Pt);var op;function Jc(){}lt(Jc,ng);Jc.prototype.g=function(){return new XMLHttpRequest};Jc.prototype.i=function(){return{}};op=new Jc;function il(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Da(this),this.P=j2,e=tp?125:void 0,this.V=new Gc(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new eS}function eS(){this.i=null,this.g="",this.h=!1}var j2=45e3,ap={},Ju={};V=il.prototype;V.setTimeout=function(e){this.P=e};function lp(e,t,n){e.L=1,e.v=eh(lr(t)),e.s=n,e.S=!0,tS(e,null)}function tS(e,t){e.G=Date.now(),sl(e),e.A=lr(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),uS(n.i,"t",r),e.C=0,n=e.l.J,e.h=new eS,e.g=kS(e.l,n?t:null,!e.s),0<e.O&&(e.M=new N2(At(e.Pa,e,e.g),e.O)),KE(e.U,e.g,"readystatechange",e.nb),t=e.I?bE(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Va(),O2(e.j,e.u,e.A,e.m,e.W,e.s)}V.nb=function(e){e=e.target;const t=this.M;t&&Nn(e)==3?t.l():this.Pa(e)};V.Pa=function(e){try{if(e==this.g)e:{const c=Nn(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||tp||this.g&&(this.h.h||this.g.ja()||k0(this.g)))){this.J||c!=4||t==7||(t==8||0>=h?Va(3):Va(2)),Zc(this);var n=this.g.da();this.ca=n;t:if(nS(this)){var r=k0(this.g);e="";var i=r.length,s=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vi(this),Xo(this);var o="";break t}this.h.i=new J.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,b2(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ca(a)){var u=a;break t}}u=null}if(n=u)ms(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,up(this,n);else{this.i=!1,this.o=3,Mt(12),vi(this),Xo(this);break e}}this.S?(rS(this,c,o),tp&&this.i&&c==3&&(KE(this.U,this.V,"tick",this.mb),this.V.start())):(ms(this.j,this.m,o,null),up(this,o)),c==4&&vi(this),this.i&&!this.J&&(c==4?PS(this.l,this):(this.i=!1,sl(this)))}else aM(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Mt(12)):(this.o=0,Mt(13)),vi(this),Xo(this)}}}catch{}finally{}};function nS(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function rS(e,t,n){let r=!0,i;for(;!e.J&&e.C<n.length;)if(i=B2(e,n),i==Ju){t==4&&(e.o=4,Mt(14),r=!1),ms(e.j,e.m,null,"[Incomplete Response]");break}else if(i==ap){e.o=4,Mt(15),ms(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else ms(e.j,e.m,i,null),up(e,i);nS(e)&&i!=Ju&&i!=ap&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Mt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),cg(t),t.M=!0,Mt(11))):(ms(e.j,e.m,n,"[Invalid Chunked Response]"),vi(e),Xo(e))}V.mb=function(){if(this.g){var e=Nn(this.g),t=this.g.ja();this.C<t.length&&(Zc(this),rS(this,e,t),this.i&&e!=4&&sl(this))}};function B2(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Ju:(n=Number(t.substring(n,r)),isNaN(n)?ap:(r+=1,r+n>t.length?Ju:(t=t.slice(r,r+n),e.C=r+n,t)))}V.cancel=function(){this.J=!0,vi(this)};function sl(e){e.Y=Date.now()+e.P,iS(e,e.P)}function iS(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=nl(At(e.lb,e),t)}function Zc(e){e.B&&(J.clearTimeout(e.B),e.B=null)}V.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(F2(this.j,this.A),this.L!=2&&(Va(),Mt(17)),vi(this),this.o=2,Xo(this)):iS(this,this.Y-e)};function Xo(e){e.l.H==0||e.J||PS(e.l,e)}function vi(e){Zc(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,eg(e.V),GE(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function up(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||cp(n.i,e))){if(!e.K&&cp(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)tc(n),rh(n);else break e;ug(n),Mt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=nl(At(n.ib,n),6e3));if(1>=fS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else _i(n,11)}else if((e.K||n.g==e)&&tc(n),!Ca(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const g=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(sg(s,s.h),s.h=null))}if(r.F){const _=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,Se(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=xS(r,r.J?r.pa:null,r.Y),o.K){dS(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Zc(a),sl(a)),r.g=o}else IS(r);0<n.j.length&&ih(n)}else u[0]!="stop"&&u[0]!="close"||_i(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?_i(n,7):lg(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Va(4)}catch{}}function U2(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Hc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function z2(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Hc(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function sS(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Hc(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=z2(e),r=U2(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var oS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function H2(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ai(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ai){this.h=e.h,Zu(this,e.j),this.s=e.s,this.g=e.g,ec(this,e.m),this.l=e.l;var t=e.i,n=new Ma;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),C0(this,n),this.o=e.o}else e&&(t=String(e).match(oS))?(this.h=!1,Zu(this,t[1]||"",!0),this.s=Mo(t[2]||""),this.g=Mo(t[3]||"",!0),ec(this,t[4]),this.l=Mo(t[5]||"",!0),C0(this,t[6]||"",!0),this.o=Mo(t[7]||"")):(this.h=!1,this.i=new Ma(null,this.h))}Ai.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Lo(t,R0,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Lo(t,R0,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Lo(n,n.charAt(0)=="/"?K2:W2,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Lo(n,Q2)),e.join("")};function lr(e){return new Ai(e)}function Zu(e,t,n){e.j=n?Mo(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ec(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function C0(e,t,n){t instanceof Ma?(e.i=t,Y2(e.i,e.h)):(n||(t=Lo(t,G2)),e.i=new Ma(t,e.h))}function Se(e,t,n){e.i.set(t,n)}function eh(e){return Se(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Mo(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Lo(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,q2),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function q2(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var R0=/[#\/\?@]/g,W2=/[#\?:]/g,K2=/[#\?]/g,G2=/[#\?@]/g,Q2=/#/g;function Ma(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ri(e){e.g||(e.g=new Map,e.h=0,e.i&&H2(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}V=Ma.prototype;V.add=function(e,t){ri(this),this.i=null,e=Zs(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function aS(e,t){ri(e),t=Zs(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function lS(e,t){return ri(e),t=Zs(e,t),e.g.has(t)}V.forEach=function(e,t){ri(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};V.ta=function(){ri(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};V.Z=function(e){ri(this);let t=[];if(typeof e=="string")lS(this,e)&&(t=t.concat(this.g.get(Zs(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};V.set=function(e,t){return ri(this),this.i=null,e=Zs(this,e),lS(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};V.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function uS(e,t,n){aS(e,t),0<n.length&&(e.i=null,e.g.set(Zs(e,t),qm(n)),e.h+=n.length)}V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function Zs(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Y2(e,t){t&&!e.j&&(ri(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(aS(this,r),uS(this,i,n))},e)),e.j=t}var X2=class{constructor(e,t){this.g=e,this.map=t}};function cS(e){this.l=e||J2,J.PerformanceNavigationTiming?(e=J.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(J.g&&J.g.Ka&&J.g.Ka()&&J.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var J2=10;function hS(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function fS(e){return e.h?1:e.g?e.g.size:0}function cp(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function sg(e,t){e.g?e.g.add(t):e.h=t}function dS(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}cS.prototype.cancel=function(){if(this.i=pS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function pS(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return qm(e.i)}var Z2=class{stringify(e){return J.JSON.stringify(e,void 0)}parse(e){return J.JSON.parse(e,void 0)}};function eM(){this.g=new Z2}function tM(e,t,n){const r=n||"";try{sS(e,function(i,s){let o=i;el(i)&&(o=Jm(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function nM(e,t){const n=new Qc;if(J.Image){const r=new Image;r.onload=Ul(Hl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ul(Hl,n,r,"TestLoadImage: error",!1,t),r.onabort=Ul(Hl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ul(Hl,n,r,"TestLoadImage: timeout",!1,t),J.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Hl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function ol(e){this.l=e.ec||null,this.j=e.ob||!1}lt(ol,ng);ol.prototype.g=function(){return new th(this.l,this.j)};ol.prototype.i=function(e){return function(){return e}}({});function th(e,t){at.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=og,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lt(th,at);var og=0;V=th.prototype;V.open=function(e,t){if(this.readyState!=og)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,La(this)};V.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||J).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,al(this)),this.readyState=og};V.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,La(this)),this.g&&(this.readyState=3,La(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof J.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mS(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function mS(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}V.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?al(this):La(this),this.readyState==3&&mS(this)}};V.Za=function(e){this.g&&(this.response=this.responseText=e,al(this))};V.Ya=function(e){this.g&&(this.response=e,al(this))};V.ka=function(){this.g&&al(this)};function al(e){e.readyState=4,e.l=null,e.j=null,e.A=null,La(e)}V.setRequestHeader=function(e,t){this.v.append(e,t)};V.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};V.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function La(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(th.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var rM=J.JSON.parse;function $e(e){at.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=gS,this.L=this.M=!1}lt($e,at);var gS="",iM=/^https?$/i,sM=["POST","PUT"];V=$e.prototype;V.Oa=function(e){this.M=e};V.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():op.g(),this.C=this.u?P0(this.u):P0(op),this.g.onreadystatechange=At(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){x0(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=J.FormData&&e instanceof J.FormData,!(0<=ME(sM,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_S(this),0<this.B&&((this.L=oM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=At(this.ua,this)):this.A=tg(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){x0(this,s)}};function oM(e){return Fs&&typeof e.timeout=="number"&&e.ontimeout!==void 0}V.ua=function(){typeof Hm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mt(this,"timeout"),this.abort(8))};function x0(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,yS(e),nh(e)}function yS(e){e.F||(e.F=!0,mt(e,"complete"),mt(e,"error"))}V.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,mt(this,"complete"),mt(this,"abort"),nh(this))};V.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nh(this,!0)),$e.$.N.call(this)};V.La=function(){this.s||(this.G||this.v||this.l?vS(this):this.kb())};V.kb=function(){vS(this)};function vS(e){if(e.h&&typeof Hm<"u"&&(!e.C[1]||Nn(e)!=4||e.da()!=2)){if(e.v&&Nn(e)==4)tg(e.La,0,e);else if(mt(e,"readystatechange"),Nn(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(oS)[1]||null;!i&&J.self&&J.self.location&&(i=J.self.location.protocol.slice(0,-1)),r=!iM.test(i?i.toLowerCase():"")}n=r}if(n)mt(e,"complete"),mt(e,"success");else{e.m=6;try{var s=2<Nn(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",yS(e)}}finally{nh(e)}}}}function nh(e,t){if(e.g){_S(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||mt(e,"ready");try{n.onreadystatechange=r}catch{}}}function _S(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(J.clearTimeout(e.A),e.A=null)}V.isActive=function(){return!!this.g};function Nn(e){return e.g?e.g.readyState:0}V.da=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}};V.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};V.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),rM(t)}};function k0(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case gS:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function aM(e){const t={};e=(e.g&&2<=Nn(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(Ca(e[r]))continue;var n=V2(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}A2(t,function(r){return r.join(", ")})}V.Ia=function(){return this.m};V.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function wS(e){let t="";return Km(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function ag(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=wS(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Se(e,t,n))}function Io(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function TS(e){this.Ga=0,this.j=[],this.l=new Qc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Io("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Io("baseRetryDelayMs",5e3,e),this.hb=Io("retryDelaySeedMs",1e4,e),this.eb=Io("forwardChannelMaxRetries",2,e),this.xa=Io("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new cS(e&&e.concurrentRequestLimit),this.Ja=new eM,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}V=TS.prototype;V.ra=8;V.H=1;function lg(e){if(ES(e),e.H==3){var t=e.W++,n=lr(e.I);if(Se(n,"SID",e.K),Se(n,"RID",t),Se(n,"TYPE","terminate"),ll(e,n),t=new il(e,e.l,t),t.L=2,t.v=eh(lr(n)),n=!1,J.navigator&&J.navigator.sendBeacon)try{n=J.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&J.Image&&(new Image().src=t.v,n=!0),n||(t.g=kS(t.l,null),t.g.ha(t.v)),t.G=Date.now(),sl(t)}RS(e)}function rh(e){e.g&&(cg(e),e.g.cancel(),e.g=null)}function ES(e){rh(e),e.u&&(J.clearTimeout(e.u),e.u=null),tc(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&J.clearTimeout(e.m),e.m=null)}function ih(e){if(!hS(e.i)&&!e.m){e.m=!0;var t=e.Na;xa||qE(),ka||(xa(),ka=!0),Zm.add(t,e),e.C=0}}function lM(e,t){return fS(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=nl(At(e.Na,e,t),CS(e,e.C)),e.C++,!0)}V.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new il(this,this.l,e);let s=this.s;if(this.U&&(s?(s=bE(s),FE(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=SS(this,i,t),n=lr(this.I),Se(n,"RID",e),Se(n,"CVER",22),this.F&&Se(n,"X-HTTP-Session-Id",this.F),ll(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(wS(s)))+"&"+t:this.o&&ag(n,this.o,s)),sg(this.i,i),this.bb&&Se(n,"TYPE","init"),this.P?(Se(n,"$req",t),Se(n,"SID","null"),i.aa=!0,lp(i,n,null)):lp(i,n,t),this.H=2}}else this.H==3&&(e?D0(this,e):this.j.length==0||hS(this.i)||D0(this))};function D0(e,t){var n;t?n=t.m:n=e.W++;const r=lr(e.I);Se(r,"SID",e.K),Se(r,"RID",n),Se(r,"AID",e.V),ll(e,r),e.o&&e.s&&ag(r,e.o,e.s),n=new il(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=SS(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),sg(e.i,n),lp(n,r,t)}function ll(e,t){e.na&&Km(e.na,function(n,r){Se(t,r,n)}),e.h&&sS({},function(n,r){Se(t,r,n)})}function SS(e,t,n){n=Math.min(e.j.length,n);var r=e.h?At(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{tM(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function IS(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;xa||qE(),ka||(xa(),ka=!0),Zm.add(t,e),e.A=0}}function ug(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=nl(At(e.Ma,e),CS(e,e.A)),e.A++,!0)}V.Ma=function(){if(this.u=null,AS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=nl(At(this.jb,this),e)}};V.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Mt(10),rh(this),AS(this))};function cg(e){e.B!=null&&(J.clearTimeout(e.B),e.B=null)}function AS(e){e.g=new il(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=lr(e.wa);Se(t,"RID","rpc"),Se(t,"SID",e.K),Se(t,"AID",e.V),Se(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Se(t,"TO",e.qa),Se(t,"TYPE","xmlhttp"),ll(e,t),e.o&&e.s&&ag(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=eh(lr(t)),n.s=null,n.S=!0,tS(n,e)}V.ib=function(){this.v!=null&&(this.v=null,rh(this),ug(this),Mt(19))};function tc(e){e.v!=null&&(J.clearTimeout(e.v),e.v=null)}function PS(e,t){var n=null;if(e.g==t){tc(e),cg(e),e.g=null;var r=2}else if(cp(e.i,t))n=t.F,dS(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;r=Yc(),mt(r,new XE(r,n)),ih(e)}else IS(e);else if(i=t.o,i==3||i==0&&0<t.ca||!(r==1&&lM(e,t)||r==2&&ug(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:_i(e,5);break;case 4:_i(e,10);break;case 3:_i(e,6);break;default:_i(e,2)}}}function CS(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function _i(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=At(e.pb,e);n||(n=new Ai("//www.google.com/images/cleardot.gif"),J.location&&J.location.protocol=="http"||Zu(n,"https"),eh(n)),nM(n.toString(),r)}else Mt(2);e.H=0,e.h&&e.h.za(t),RS(e),ES(e)}V.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Mt(2)):(this.l.info("Failed to ping google.com"),Mt(1))};function RS(e){if(e.H=0,e.ma=[],e.h){const t=pS(e.i);(t.length!=0||e.j.length!=0)&&(T0(e.ma,t),T0(e.ma,e.j),e.i.i.length=0,qm(e.j),e.j.length=0),e.h.ya()}}function xS(e,t,n){var r=n instanceof Ai?lr(n):new Ai(n);if(r.g!="")t&&(r.g=t+"."+r.g),ec(r,r.m);else{var i=J.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Ai(null);r&&Zu(s,r),t&&(s.g=t),i&&ec(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Se(r,n,t),Se(r,"VER",e.ra),ll(e,r),r}function kS(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new $e(new ol({ob:!0})):new $e(e.va),t.Oa(e.J),t}V.isActive=function(){return!!this.h&&this.h.isActive(this)};function DS(){}V=DS.prototype;V.Ba=function(){};V.Aa=function(){};V.za=function(){};V.ya=function(){};V.isActive=function(){return!0};V.Va=function(){};function nc(){if(Fs&&!(10<=Number(T2)))throw Error("Environmental error: no available transport.")}nc.prototype.g=function(e,t){return new Jt(e,t)};function Jt(e,t){at.call(this),this.g=new TS(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ca(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ca(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new eo(this)}lt(Jt,at);Jt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Mt(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=xS(e,null,e.Y),ih(e)};Jt.prototype.close=function(){lg(this.g)};Jt.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Jm(e),e=n);t.j.push(new X2(t.fb++,e)),t.H==3&&ih(t)};Jt.prototype.N=function(){this.g.h=null,delete this.j,lg(this.g),delete this.g,Jt.$.N.call(this)};function VS(e){rg.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}lt(VS,rg);function MS(){ig.call(this),this.status=1}lt(MS,ig);function eo(e){this.g=e}lt(eo,DS);eo.prototype.Ba=function(){mt(this.g,"a")};eo.prototype.Aa=function(e){mt(this.g,new VS(e))};eo.prototype.za=function(e){mt(this.g,new MS)};eo.prototype.ya=function(){mt(this.g,"b")};function uM(){this.blockSize=-1}function In(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}lt(In,uM);In.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Af(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}In.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)Af(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Af(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Af(this,r),i=0;break}}this.h=i,this.i+=t};In.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function me(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var cM={};function hg(e){return-128<=e&&128>e?v2(e,function(t){return new me([t|0],0>t?-1:0)}):new me([e|0],0>e?-1:0)}function On(e){if(isNaN(e)||!isFinite(e))return Rs;if(0>e)return ft(On(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=hp;return new me(t,0)}function LS(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return ft(LS(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=On(Math.pow(t,8)),r=Rs,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=On(Math.pow(t,s)),r=r.R(s).add(On(o))):(r=r.R(n),r=r.add(On(o)))}return r}var hp=4294967296,Rs=hg(0),fp=hg(1),V0=hg(16777216);V=me.prototype;V.ea=function(){if(ln(this))return-ft(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:hp+r)*t,t*=hp}return e};V.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Xn(this))return"0";if(ln(this))return"-"+ft(this).toString(e);for(var t=On(Math.pow(e,6)),n=this,r="";;){var i=ic(n,t).g;n=rc(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,Xn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};V.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Xn(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function ln(e){return e.h==-1}V.X=function(e){return e=rc(this,e),ln(e)?-1:Xn(e)?0:1};function ft(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new me(n,~e.h).add(fp)}V.abs=function(){return ln(this)?ft(this):this};V.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new me(n,n[n.length-1]&-2147483648?-1:0)};function rc(e,t){return e.add(ft(t))}V.R=function(e){if(Xn(this)||Xn(e))return Rs;if(ln(this))return ln(e)?ft(this).R(ft(e)):ft(ft(this).R(e));if(ln(e))return ft(this.R(ft(e)));if(0>this.X(V0)&&0>e.X(V0))return On(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,l=e.D(i)&65535;n[2*r+2*i]+=o*l,ql(n,2*r+2*i),n[2*r+2*i+1]+=s*l,ql(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,ql(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,ql(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new me(n,0)};function ql(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Ao(e,t){this.g=e,this.h=t}function ic(e,t){if(Xn(t))throw Error("division by zero");if(Xn(e))return new Ao(Rs,Rs);if(ln(e))return t=ic(ft(e),t),new Ao(ft(t.g),ft(t.h));if(ln(t))return t=ic(e,ft(t)),new Ao(ft(t.g),t.h);if(30<e.g.length){if(ln(e)||ln(t))throw Error("slowDivide_ only works with positive integers.");for(var n=fp,r=t;0>=r.X(e);)n=M0(n),r=M0(r);var i=Xi(n,1),s=Xi(r,1);for(r=Xi(r,2),n=Xi(n,2);!Xn(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Xi(r,1),n=Xi(n,1)}return t=rc(e,i.R(t)),new Ao(i,t)}for(i=Rs;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=On(n),o=s.R(t);ln(o)||0<o.X(e);)n-=r,s=On(n),o=s.R(t);Xn(s)&&(s=fp),i=i.add(s),e=rc(e,o)}return new Ao(i,e)}V.gb=function(e){return ic(this,e).h};V.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new me(n,this.h&e.h)};V.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new me(n,this.h|e.h)};V.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new me(n,this.h^e.h)};function M0(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new me(n,e.h)}function Xi(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new me(i,e.h)}nc.prototype.createWebChannel=nc.prototype.g;Jt.prototype.send=Jt.prototype.u;Jt.prototype.open=Jt.prototype.m;Jt.prototype.close=Jt.prototype.close;Xc.NO_ERROR=0;Xc.TIMEOUT=8;Xc.HTTP_ERROR=6;JE.COMPLETE="complete";ZE.EventType=rl;rl.OPEN="a";rl.CLOSE="b";rl.ERROR="c";rl.MESSAGE="d";at.prototype.listen=at.prototype.O;$e.prototype.listenOnce=$e.prototype.P;$e.prototype.getLastError=$e.prototype.Sa;$e.prototype.getLastErrorCode=$e.prototype.Ia;$e.prototype.getStatus=$e.prototype.da;$e.prototype.getResponseJson=$e.prototype.Wa;$e.prototype.getResponseText=$e.prototype.ja;$e.prototype.send=$e.prototype.ha;$e.prototype.setWithCredentials=$e.prototype.Oa;In.prototype.digest=In.prototype.l;In.prototype.reset=In.prototype.reset;In.prototype.update=In.prototype.j;me.prototype.add=me.prototype.add;me.prototype.multiply=me.prototype.R;me.prototype.modulo=me.prototype.gb;me.prototype.compare=me.prototype.X;me.prototype.toNumber=me.prototype.ea;me.prototype.toString=me.prototype.toString;me.prototype.getBits=me.prototype.D;me.fromNumber=On;me.fromString=LS;var hM=function(){return new nc},fM=function(){return Yc()},Pf=Xc,dM=JE,pM=zi,L0={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},mM=ol,Wl=ZE,gM=$e,yM=In,xs=me;const N0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new Um("@firebase/firestore");function Po(){return Li.logLevel}function j(e,...t){if(Li.logLevel<=ce.DEBUG){const n=t.map(fg);Li.debug(`Firestore (${to}): ${e}`,...n)}}function ur(e,...t){if(Li.logLevel<=ce.ERROR){const n=t.map(fg);Li.error(`Firestore (${to}): ${e}`,...n)}}function $s(e,...t){if(Li.logLevel<=ce.WARN){const n=t.map(fg);Li.warn(`Firestore (${to}): ${e}`,...n)}}function fg(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(e="Unexpected state"){const t=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: `+e;throw ur(t),new Error(t)}function Pe(e,t){e||X()}function ne(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends ti{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class vM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}}class _M{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class wM{constructor(t){this.t=t,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new $r,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new $r)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string"),new NS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Pe(t===null||typeof t=="string"),new Et(t)}}class TM{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class EM{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new TM(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class SM{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IM{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,j("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Pe(typeof n.token=="string"),this.R=n.token,new SM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=AM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function de(e,t){return e<t?-1:e>t?1:0}function js(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new F(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new F(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new F(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ye.fromMillis(Date.now())}static fromDate(t){return Ye.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Ye(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?de(this.nanoseconds,t.nanoseconds):de(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Z(t)}static min(){return new Z(new Ye(0,0))}static max(){return new Z(new Ye(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(t,n,r){n===void 0?n=0:n>t.length&&X(),r===void 0?r=t.length-n:r>t.length-n&&X(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Na.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Na?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Ie extends Na{construct(t,n,r){return new Ie(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new F(C.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ie(n)}static emptyPath(){return new Ie([])}}const PM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dt extends Na{construct(t,n,r){return new dt(t,n,r)}static isValidIdentifier(t){return PM.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new dt(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new F(C.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new F(C.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new F(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new F(C.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new dt(n)}static emptyPath(){return new dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(t){this.path=t}static fromPath(t){return new U(Ie.fromString(t))}static fromName(t){return new U(Ie.fromString(t).popFirst(5))}static empty(){return new U(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ie.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new U(new Ie(t.slice()))}}function CM(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new Kr(i,U.empty(),t)}function RM(e){return new Kr(e.readTime,e.key,-1)}class Kr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Kr(Z.min(),U.empty(),-1)}static max(){return new Kr(Z.max(),U.empty(),-1)}}function xM(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=U.comparator(e.documentKey,t.documentKey),n!==0?n:de(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(e){if(e.code!==C.FAILED_PRECONDITION||e.message!==kM)throw e;j("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new k((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof k?n:k.resolve(n)}catch(n){return k.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):k.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):k.reject(n)}static resolve(t){return new k((n,r)=>{n(t)})}static reject(t){return new k((n,r)=>{r(t)})}static waitFor(t){return new k((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=k.resolve(!1);for(const r of t)n=n.next(i=>i?k.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new k((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new k((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function cl(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}dg._e=-1;function sh(e){return e==null}function sc(e){return e===0&&1/e==-1/0}function VM(e){return typeof e=="number"&&Number.isInteger(e)&&!sc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Hi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function bS(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t,n){this.comparator=t,this.root=n||ht.EMPTY}insert(t,n){return new Ne(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(t){return new Ne(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ht.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Kl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Kl(this.root,t,this.comparator,!1)}getReverseIterator(){return new Kl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Kl(this.root,t,this.comparator,!0)}}class Kl{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ht{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??ht.RED,this.left=i??ht.EMPTY,this.right=s??ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new ht(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();const t=this.left.check();if(t!==this.right.check())throw X();return t+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(t,n,r,i,s){return this}insert(t,n,r){return new ht(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.comparator=t,this.data=new Ne(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new b0(this.data.getIterator())}getIteratorFrom(t){return new b0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof gt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new gt(this.comparator);return n.data=t,n}}class b0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t){this.fields=t,t.sort(dt.comparator)}static empty(){return new Gt([])}unionWith(t){let n=new gt(dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Gt(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return js(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new FS("Invalid base64 string: "+s):s}}(t);return new Rt(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new Rt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return de(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const MM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(e){if(Pe(!!e),typeof e=="string"){let t=0;const n=MM.exec(e);if(Pe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ke(e.seconds),nanos:Ke(e.nanos)}}function Ke(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ni(e){return typeof e=="string"?Rt.fromBase64String(e):Rt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function mg(e){const t=e.mapValue.fields.__previous_value__;return pg(t)?mg(t):t}function Oa(e){const t=Gr(e.mapValue.fields.__local_write_time__.timestampValue);return new Ye(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(t,n,r,i,s,o,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class ba{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new ba("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof ba&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Oi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?pg(e)?4:NM(e)?9007199254740991:10:X()}function Hn(e,t){if(e===t)return!0;const n=Oi(e);if(n!==Oi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Oa(e).isEqual(Oa(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Gr(i.timestampValue),a=Gr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return Ni(i.bytesValue).isEqual(Ni(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return Ke(i.geoPointValue.latitude)===Ke(s.geoPointValue.latitude)&&Ke(i.geoPointValue.longitude)===Ke(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ke(i.integerValue)===Ke(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ke(i.doubleValue),a=Ke(s.doubleValue);return o===a?sc(o)===sc(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return js(e.arrayValue.values||[],t.arrayValue.values||[],Hn);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(O0(o)!==O0(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Hn(o[l],a[l])))return!1;return!0}(e,t);default:return X()}}function Fa(e,t){return(e.values||[]).find(n=>Hn(n,t))!==void 0}function Bs(e,t){if(e===t)return 0;const n=Oi(e),r=Oi(t);if(n!==r)return de(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Ke(s.integerValue||s.doubleValue),l=Ke(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return F0(e.timestampValue,t.timestampValue);case 4:return F0(Oa(e),Oa(t));case 5:return de(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Ni(s),l=Ni(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=de(a[u],l[u]);if(c!==0)return c}return de(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=de(Ke(s.latitude),Ke(o.latitude));return a!==0?a:de(Ke(s.longitude),Ke(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Bs(a[u],l[u]);if(c)return c}return de(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===Gl.mapValue&&o===Gl.mapValue)return 0;if(s===Gl.mapValue)return 1;if(o===Gl.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const f=de(l[h],c[h]);if(f!==0)return f;const d=Bs(a[l[h]],u[c[h]]);if(d!==0)return d}return de(l.length,c.length)}(e.mapValue,t.mapValue);default:throw X()}}function F0(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return de(e,t);const n=Gr(e),r=Gr(t),i=de(n.seconds,r.seconds);return i!==0?i:de(n.nanos,r.nanos)}function Us(e){return dp(e)}function dp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Gr(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Ni(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return U.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=dp(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${dp(n.fields[o])}`;return i+"}"}(e.mapValue):X()}function $0(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function pp(e){return!!e&&"integerValue"in e}function gg(e){return!!e&&"arrayValue"in e}function j0(e){return!!e&&"nullValue"in e}function B0(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function mu(e){return!!e&&"mapValue"in e}function Jo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Hi(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Jo(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Jo(e.arrayValue.values[n]);return t}return Object.assign({},e)}function NM(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t){this.value=t}static empty(){return new $t({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!mu(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Jo(n)}setAll(t){let n=dt.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Jo(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());mu(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Hn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];mu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Hi(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new $t(Jo(this.value))}}function $S(e){const t=[];return Hi(e.fields,(n,r)=>{const i=new dt([n]);if(mu(r)){const s=$S(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Gt(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new It(t,0,Z.min(),Z.min(),Z.min(),$t.empty(),0)}static newFoundDocument(t,n,r,i){return new It(t,1,n,Z.min(),r,i,0)}static newNoDocument(t,n){return new It(t,2,n,Z.min(),Z.min(),$t.empty(),0)}static newUnknownDocument(t,n){return new It(t,3,n,Z.min(),Z.min(),$t.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof It&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(t,n){this.position=t,this.inclusive=n}}function U0(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=U.comparator(U.fromName(o.referenceValue),n.key):r=Bs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function z0(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Hn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t,n="asc"){this.field=t,this.dir=n}}function OM(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{}class Qe extends jS{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new FM(t,n,r):n==="array-contains"?new BM(t,r):n==="in"?new UM(t,r):n==="not-in"?new zM(t,r):n==="array-contains-any"?new HM(t,r):new Qe(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new $M(t,r):new jM(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Bs(n,this.value)):n!==null&&Oi(this.value)===Oi(n)&&this.matchesComparison(Bs(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class An extends jS{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new An(t,n)}matches(t){return BS(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function BS(e){return e.op==="and"}function US(e){return bM(e)&&BS(e)}function bM(e){for(const t of e.filters)if(t instanceof An)return!1;return!0}function mp(e){if(e instanceof Qe)return e.field.canonicalString()+e.op.toString()+Us(e.value);if(US(e))return e.filters.map(t=>mp(t)).join(",");{const t=e.filters.map(n=>mp(n)).join(",");return`${e.op}(${t})`}}function zS(e,t){return e instanceof Qe?function(r,i){return i instanceof Qe&&r.op===i.op&&r.field.isEqual(i.field)&&Hn(r.value,i.value)}(e,t):e instanceof An?function(r,i){return i instanceof An&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&zS(o,i.filters[a]),!0):!1}(e,t):void X()}function HS(e){return e instanceof Qe?function(n){return`${n.field.canonicalString()} ${n.op} ${Us(n.value)}`}(e):e instanceof An?function(n){return n.op.toString()+" {"+n.getFilters().map(HS).join(" ,")+"}"}(e):"Filter"}class FM extends Qe{constructor(t,n,r){super(t,n,r),this.key=U.fromName(r.referenceValue)}matches(t){const n=U.comparator(t.key,this.key);return this.matchesComparison(n)}}class $M extends Qe{constructor(t,n){super(t,"in",n),this.keys=qS("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class jM extends Qe{constructor(t,n){super(t,"not-in",n),this.keys=qS("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function qS(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>U.fromName(r.referenceValue))}class BM extends Qe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return gg(n)&&Fa(n.arrayValue,this.value)}}class UM extends Qe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Fa(this.value.arrayValue,n)}}class zM extends Qe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Fa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Fa(this.value.arrayValue,n)}}class HM extends Qe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!gg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function H0(e,t=null,n=[],r=[],i=null,s=null,o=null){return new qM(e,t,n,r,i,s,o)}function yg(e){const t=ne(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>mp(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),sh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Us(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Us(r)).join(",")),t.ce=n}return t.ce}function vg(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!OM(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!zS(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!z0(e.startAt,t.startAt)&&z0(e.endAt,t.endAt)}function gp(e){return U.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function WM(e,t,n,r,i,s,o,a){return new no(e,t,n,r,i,s,o,a)}function oh(e){return new no(e)}function q0(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function WS(e){return e.collectionGroup!==null}function Zo(e){const t=ne(e);if(t.le===null){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new gt(dt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new $a(s,r))}),n.has(dt.keyField().canonicalString())||t.le.push(new $a(dt.keyField(),r))}return t.le}function jn(e){const t=ne(e);return t.he||(t.he=KM(t,Zo(e))),t.he}function KM(e,t){if(e.limitType==="F")return H0(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new $a(i.field,s)});const n=e.endAt?new oc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new oc(e.startAt.position,e.startAt.inclusive):null;return H0(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function yp(e,t){const n=e.filters.concat([t]);return new no(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function vp(e,t,n){return new no(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ah(e,t){return vg(jn(e),jn(t))&&e.limitType===t.limitType}function KS(e){return`${yg(jn(e))}|lt:${e.limitType}`}function Ji(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>HS(i)).join(", ")}]`),sh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Us(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Us(i)).join(",")),`Target(${r})`}(jn(e))}; limitType=${e.limitType})`}function lh(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):U.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of Zo(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=U0(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Zo(r),i)||r.endAt&&!function(o,a,l){const u=U0(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Zo(r),i))}(e,t)}function GM(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function GS(e){return(t,n)=>{let r=!1;for(const i of Zo(e)){const s=QM(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function QM(e,t,n){const r=e.field.isKeyField()?U.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Bs(l,u):X()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Hi(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return bS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=new Ne(U.comparator);function cr(){return YM}const QS=new Ne(U.comparator);function No(...e){let t=QS;for(const n of e)t=t.insert(n.key,n);return t}function YS(e){let t=QS;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function wi(){return ea()}function XS(){return ea()}function ea(){return new ro(e=>e.toString(),(e,t)=>e.isEqual(t))}const XM=new Ne(U.comparator),JM=new gt(U.comparator);function ie(...e){let t=JM;for(const n of e)t=t.add(n);return t}const ZM=new gt(de);function eL(){return ZM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sc(t)?"-0":t}}function ZS(e){return{integerValue:""+e}}function tL(e,t){return VM(t)?ZS(t):JS(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(){this._=void 0}}function nL(e,t,n){return e instanceof ac?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&pg(s)&&(s=mg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof ja?tI(e,t):e instanceof Ba?nI(e,t):function(i,s){const o=eI(i,s),a=W0(o)+W0(i.Ie);return pp(o)&&pp(i.Ie)?ZS(a):JS(i.serializer,a)}(e,t)}function rL(e,t,n){return e instanceof ja?tI(e,t):e instanceof Ba?nI(e,t):n}function eI(e,t){return e instanceof lc?function(r){return pp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class ac extends uh{}class ja extends uh{constructor(t){super(),this.elements=t}}function tI(e,t){const n=rI(t);for(const r of e.elements)n.some(i=>Hn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ba extends uh{constructor(t){super(),this.elements=t}}function nI(e,t){let n=rI(t);for(const r of e.elements)n=n.filter(i=>!Hn(i,r));return{arrayValue:{values:n}}}class lc extends uh{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function W0(e){return Ke(e.integerValue||e.doubleValue)}function rI(e){return gg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function iL(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof ja&&i instanceof ja||r instanceof Ba&&i instanceof Ba?js(r.elements,i.elements,Hn):r instanceof lc&&i instanceof lc?Hn(r.Ie,i.Ie):r instanceof ac&&i instanceof ac}(e.transform,t.transform)}class sL{constructor(t,n){this.version=t,this.transformResults=n}}class En{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new En}static exists(t){return new En(void 0,t)}static updateTime(t){return new En(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function gu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class ch{}function iI(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new _g(e.key,En.none()):new hl(e.key,e.data,En.none());{const n=e.data,r=$t.empty();let i=new gt(dt.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ii(e.key,r,new Gt(i.toArray()),En.none())}}function oL(e,t,n){e instanceof hl?function(i,s,o){const a=i.value.clone(),l=G0(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof ii?function(i,s,o){if(!gu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=G0(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(sI(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function ta(e,t,n,r){return e instanceof hl?function(s,o,a,l){if(!gu(s.precondition,o))return a;const u=s.value.clone(),c=Q0(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof ii?function(s,o,a,l){if(!gu(s.precondition,o))return a;const u=Q0(s.fieldTransforms,l,o),c=o.data;return c.setAll(sI(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(e,t,n,r):function(s,o,a){return gu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function aL(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=eI(r.transform,i||null);s!=null&&(n===null&&(n=$t.empty()),n.set(r.field,s))}return n||null}function K0(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&js(r,i,(s,o)=>iL(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class hl extends ch{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ii extends ch{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function sI(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function G0(e,t,n){const r=new Map;Pe(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,rL(o,a,n[i]))}return r}function Q0(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,nL(s,o,t))}return r}class _g extends ch{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lL extends ch{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&oL(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=ta(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=ta(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=XS();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=iI(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ie())}isEqual(t){return this.batchId===t.batchId&&js(this.mutations,t.mutations,(n,r)=>K0(n,r))&&js(this.baseMutations,t.baseMutations,(n,r)=>K0(n,r))}}class wg{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Pe(t.mutations.length===r.length);let i=function(){return XM}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new wg(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe,le;function fL(e){switch(e){default:return X();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0}}function oI(e){if(e===void 0)return ur("GRPC error has no .code"),C.UNKNOWN;switch(e){case qe.OK:return C.OK;case qe.CANCELLED:return C.CANCELLED;case qe.UNKNOWN:return C.UNKNOWN;case qe.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case qe.INTERNAL:return C.INTERNAL;case qe.UNAVAILABLE:return C.UNAVAILABLE;case qe.UNAUTHENTICATED:return C.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case qe.NOT_FOUND:return C.NOT_FOUND;case qe.ALREADY_EXISTS:return C.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return C.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case qe.ABORTED:return C.ABORTED;case qe.OUT_OF_RANGE:return C.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return C.UNIMPLEMENTED;case qe.DATA_LOSS:return C.DATA_LOSS;default:return X()}}(le=qe||(qe={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=new xs([4294967295,4294967295],0);function Y0(e){const t=dL().encode(e),n=new yM;return n.update(t),new Uint8Array(n.digest())}function X0(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new xs([n,r],0),new xs([i,s],0)]}class Tg{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Oo(`Invalid padding: ${n}`);if(r<0)throw new Oo(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Oo(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Oo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=xs.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(xs.fromNumber(r)));return i.compare(pL)===1&&(i=new xs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=Y0(t),[r,i]=X0(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new Tg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=Y0(t),[r,i]=X0(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Oo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,fl.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new hh(Z.min(),i,new Ne(de),cr(),ie())}}class fl{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new fl(r,n,ie(),ie(),ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(t,n,r,i){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i}}class aI{constructor(t,n){this.targetId=t,this.fe=n}}class lI{constructor(t,n,r=Rt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class J0{constructor(){this.ge=0,this.pe=e_(),this.ye=Rt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=ie(),n=ie(),r=ie();return this.pe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:X()}}),new fl(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=e_()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class mL{constructor(t){this.Le=t,this.ke=new Map,this.qe=cr(),this.Qe=Z0(),this.Ke=new Ne(de)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:X()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.fe.count,i=this.Ye(n);if(i){const s=i.target;if(gp(s))if(r===0){const o=new U(s.path);this.We(n,o,It.newNoDocument(o,Z.min()))}else Pe(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),l=a?this.et(a,t,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ni(r).toUint8Array()}catch(l){if(l instanceof FS)return $s("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Tg(o,i,s)}catch(l){return $s(l instanceof Oo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(n,s,null),i++)}),i}it(t){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&gp(a.target)){const l=new U(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,It.newNoDocument(l,t))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ie();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const i=new hh(t,n,this.Ke,this.qe,r);return this.qe=cr(),this.Qe=Z0(),this.Ke=new Ne(de),i}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.st(t,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new J0,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new gt(de),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||j("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new J0),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function Z0(){return new Ne(U.comparator)}function e_(){return new Ne(U.comparator)}const gL=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),yL=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),vL=(()=>({and:"AND",or:"OR"}))();class _L{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function _p(e,t){return e.useProto3Json||sh(t)?t:{value:t}}function uc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function uI(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function wL(e,t){return uc(e,t.toTimestamp())}function Bn(e){return Pe(!!e),Z.fromTimestamp(function(n){const r=Gr(n);return new Ye(r.seconds,r.nanos)}(e))}function Eg(e,t){return function(r){return new Ie(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function cI(e){const t=Ie.fromString(e);return Pe(pI(t)),t}function wp(e,t){return Eg(e.databaseId,t.path)}function Cf(e,t){const n=cI(t);if(n.get(1)!==e.databaseId.projectId)throw new F(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new F(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new U(hI(n))}function Tp(e,t){return Eg(e.databaseId,t)}function TL(e){const t=cI(e);return t.length===4?Ie.emptyPath():hI(t)}function Ep(e){return new Ie(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function hI(e){return Pe(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function t_(e,t,n){return{name:wp(e,t),fields:n.value.mapValue.fields}}function EL(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:X()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Pe(c===void 0||typeof c=="string"),Rt.fromBase64String(c||"")):(Pe(c===void 0||c instanceof Uint8Array),Rt.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(u){const c=u.code===void 0?C.UNKNOWN:oI(u.code);return new F(c,u.message||"")}(o);n=new lI(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Cf(e,r.document.name),s=Bn(r.document.updateTime),o=r.document.createTime?Bn(r.document.createTime):Z.min(),a=new $t({mapValue:{fields:r.document.fields}}),l=It.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new yu(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Cf(e,r.document),s=r.readTime?Bn(r.readTime):Z.min(),o=It.newNoDocument(i,s),a=r.removedTargetIds||[];n=new yu([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Cf(e,r.document),s=r.removedTargetIds||[];n=new yu([],s,i,null)}else{if(!("filter"in t))return X();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new hL(i,s),a=r.targetId;n=new aI(a,o)}}return n}function SL(e,t){let n;if(t instanceof hl)n={update:t_(e,t.key,t.value)};else if(t instanceof _g)n={delete:wp(e,t.key)};else if(t instanceof ii)n={update:t_(e,t.key,t.data),updateMask:VL(t.fieldMask)};else{if(!(t instanceof lL))return X();n={verify:wp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ac)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ja)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ba)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof lc)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw X()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:wL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:X()}(e,t.precondition)),n}function IL(e,t){return e&&e.length>0?(Pe(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?Bn(i.updateTime):Bn(s);return o.isEqual(Z.min())&&(o=Bn(s)),new sL(o,i.transformResults||[])}(n,t))):[]}function AL(e,t){return{documents:[Tp(e,t.path)]}}function PL(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Tp(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Tp(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return dI(An.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:Zi(h.field),direction:xL(h.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=_p(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function CL(e){let t=TL(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Pe(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(h){const f=fI(h);return f instanceof An&&US(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(g){return new $a(es(g.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,sh(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,d=h.values||[];return new oc(d,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,d=h.values||[];return new oc(d,f)}(n.endAt)),WM(t,i,o,s,a,"F",l,u)}function RL(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function fI(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=es(n.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=es(n.unaryFilter.field);return Qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=es(n.unaryFilter.field);return Qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=es(n.unaryFilter.field);return Qe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(e):e.fieldFilter!==void 0?function(n){return Qe.create(es(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return An.create(n.compositeFilter.filters.map(r=>fI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X()}}(n.compositeFilter.op))}(e):X()}function xL(e){return gL[e]}function kL(e){return yL[e]}function DL(e){return vL[e]}function Zi(e){return{fieldPath:e.canonicalString()}}function es(e){return dt.fromServerFormat(e.fieldPath)}function dI(e){return e instanceof Qe?function(n){if(n.op==="=="){if(B0(n.value))return{unaryFilter:{field:Zi(n.field),op:"IS_NAN"}};if(j0(n.value))return{unaryFilter:{field:Zi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(B0(n.value))return{unaryFilter:{field:Zi(n.field),op:"IS_NOT_NAN"}};if(j0(n.value))return{unaryFilter:{field:Zi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zi(n.field),op:kL(n.op),value:n.value}}}(e):e instanceof An?function(n){const r=n.getFilters().map(i=>dI(i));return r.length===1?r[0]:{compositeFilter:{op:DL(n.op),filters:r}}}(e):X()}function VL(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function pI(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(t,n,r,i,s=Z.min(),o=Z.min(),a=Rt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Cr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(t){this.ut=t}}function LL(e){const t=CL({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?vp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(){this.on=new OL}addToCollectionParentIndex(t,n){return this.on.add(n),k.resolve()}getCollectionParents(t,n){return k.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return k.resolve()}deleteFieldIndex(t,n){return k.resolve()}deleteAllFieldIndexes(t){return k.resolve()}createTargetIndexes(t,n){return k.resolve()}getDocumentsMatchingTarget(t,n){return k.resolve(null)}getIndexType(t,n){return k.resolve(0)}getFieldIndexes(t,n){return k.resolve([])}getNextCollectionGroupToUpdate(t){return k.resolve(null)}getMinOffset(t,n){return k.resolve(Kr.min())}getMinOffsetFromCollectionGroup(t,n){return k.resolve(Kr.min())}updateCollectionGroup(t,n,r){return k.resolve()}updateIndexEntries(t,n){return k.resolve()}}class OL{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new gt(Ie.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new gt(Ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new zs(0)}static Nn(){return new zs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(){this.changes=new ro(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,It.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?k.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&ta(r.mutation,i,Gt.empty(),Ye.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,ie()).next(()=>r))}getLocalViewOfDocuments(t,n,r=ie()){const i=wi();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=No();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=wi();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,ie()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=cr();const o=ea(),a=function(){return ea()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ii)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),ta(c.mutation,u,c.mutation.getFieldMask(),Ye.now())):o.set(u.key,Gt.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new FL(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const r=ea();let i=new Ne((o,a)=>o-a),s=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Gt.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||ie()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=XS();c.forEach(f=>{if(!s.has(f)){const d=iI(n.get(f),r.get(f));d!==null&&h.set(f,d),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,h))}return k.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return U.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):WS(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):k.resolve(wi());let a=-1,l=s;return o.next(u=>k.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?k.resolve():this.remoteDocumentCache.getEntry(t,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,ie())).next(c=>({batchId:a,changes:YS(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new U(n)).next(r=>{let i=No();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=No();return this.indexManager.getCollectionParents(t,s).next(a=>k.forEach(a,l=>{const u=function(h,f){return new no(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,It.newInvalidDocument(c)))});let a=No();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&ta(c.mutation,u,Gt.empty(),Ye.now()),lh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return k.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Bn(i.createTime)}}(n)),k.resolve()}getNamedQuery(t,n){return k.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(i){return{name:i.name,query:LL(i.bundledQuery),readTime:Bn(i.readTime)}}(n)),k.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(){this.overlays=new Ne(U.comparator),this.lr=new Map}getOverlay(t,n){return k.resolve(this.overlays.get(n))}getOverlays(t,n){const r=wi();return k.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.lt(t,n,s)}),k.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),k.resolve()}getOverlaysForCollection(t,n,r){const i=wi(),s=n.length+1,o=new U(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return k.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new Ne((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=wi(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=wi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return k.resolve(a)}lt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cL(n,r));let s=this.lr.get(n);s===void 0&&(s=ie(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(){this.hr=new gt(it.Pr),this.Ir=new gt(it.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const r=new it(t,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.dr(new it(t,n))}Ar(t,n){t.forEach(r=>this.removeReference(r,n))}Rr(t){const n=new U(new Ie([])),r=new it(n,t),i=new it(n,t+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new U(new Ie([])),r=new it(n,t),i=new it(n,t+1);let s=ie();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new it(t,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class it{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return U.comparator(t.key,n.key)||de(t.gr,n.gr)}static Tr(t,n){return de(t.gr,n.gr)||U.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new gt(it.Pr)}checkEmpty(t){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new uL(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new it(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return k.resolve(o)}lookupMutationBatch(t,n){return k.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return k.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new it(n,0),i=new it(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),k.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new gt(de);return n.forEach(i=>{const s=new it(i,0),o=new it(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),k.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;U.isDocumentKey(s)||(s=s.child(""));const o=new it(new U(s),0);let a=new gt(de);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),k.resolve(this.br(a))}br(t){const n=[];return t.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Pe(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return k.forEach(n.mutations,i=>{const s=new it(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.yr=r})}Fn(t){}containsKey(t,n){const r=new it(n,0),i=this.yr.firstAfterOrEqual(r);return k.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,k.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(t){this.Cr=t,this.docs=function(){return new Ne(U.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return k.resolve(r?r.document.mutableCopy():It.newInvalidDocument(n))}getEntries(t,n){let r=cr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():It.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=cr();const o=n.path,a=new U(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||xM(RM(c),r)<=0||(i.has(c.key)||lh(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return k.resolve(s)}getAllFromCollectionGroup(t,n,r,i){X()}vr(t,n){return k.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new HL(this)}getSize(t){return k.resolve(this.size)}}class HL extends bL{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(t,i)):this._r.removeEntry(r)}),k.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(t){this.persistence=t,this.Fr=new ro(n=>yg(n),vg),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Sg,this.targetCount=0,this.Nr=zs.On()}forEachTarget(t,n){return this.Fr.forEach((r,i)=>n(i)),k.resolve()}getLastRemoteSnapshotVersion(t){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return k.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),k.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new zs(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,k.resolve()}updateTargetData(t,n){return this.kn(n),k.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),k.waitFor(s).next(()=>i)}getTargetCount(t){return k.resolve(this.targetCount)}getTargetData(t,n){const r=this.Fr.get(n)||null;return k.resolve(r)}addMatchingKeys(t,n,r){return this.Or.Er(n,r),k.resolve()}removeMatchingKeys(t,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),k.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),k.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Or.mr(n);return k.resolve(r)}containsKey(t,n){return k.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(t,n){this.Br={},this.overlays={},this.Lr=new dg(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new qL(this),this.indexManager=new NL,this.remoteDocumentCache=function(i){return new zL(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new ML(n),this.Kr=new jL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new BL,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new UL(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,r){j("MemoryPersistence","Starting transaction:",t);const i=new KL(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(t,n){return k.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class KL extends DM{constructor(t){super(),this.currentSequenceNumber=t}}class Ig{constructor(t){this.persistence=t,this.Gr=new Sg,this.zr=null}static jr(t){return new Ig(t)}get Hr(){if(this.zr)return this.zr;throw X()}addReference(t,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),k.resolve()}removeReference(t,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),k.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),k.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Hr,r=>{const i=U.fromPath(r);return this.Jr(t,i).next(s=>{s||n.removeEntry(i,Z.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return k.or([()=>k.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}static Qi(t,n){let r=ie(),i=ie();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ag(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.zi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new GL;return this.Hi(t,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(t,n,o,a.size)})}).next(()=>s.result)}Ji(t,n,r,i){return r.documentReadCount<this.Ui?(Po()<=ce.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",Ji(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),k.resolve()):(Po()<=ce.DEBUG&&j("QueryEngine","Query:",Ji(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Po()<=ce.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",Ji(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,jn(n))):k.resolve())}zi(t,n){if(q0(n))return k.resolve(null);let r=jn(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=vp(n,null,"F"),r=jn(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=ie(...s);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(t,vp(n,null,"F")):this.Xi(t,u,n,l)}))})))}ji(t,n,r,i){return q0(n)||i.isEqual(Z.min())?k.resolve(null):this.Gi.getDocuments(t,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?k.resolve(null):(Po()<=ce.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ji(n)),this.Xi(t,o,n,CM(i,-1)).next(a=>a))})}Yi(t,n){let r=new gt(GS(t));return n.forEach((i,s)=>{lh(t,s)&&(r=r.add(s))}),r}Zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(t,n,r){return Po()<=ce.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",Ji(n)),this.Gi.getDocumentsMatchingQuery(t,n,Kr.min(),r)}Xi(t,n,r,i){return this.Gi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(t,n,r,i){this.persistence=t,this.es=n,this.serializer=i,this.ts=new Ne(de),this.ns=new ro(s=>yg(s),vg),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new $L(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function XL(e,t,n,r){return new YL(e,t,n,r)}async function mI(e,t){const n=ne(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ie();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}function JL(e,t){const n=ne(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,f=h.keys();let d=k.resolve();return f.forEach(g=>{d=d.next(()=>c.getEntry(l,g)).next(_=>{const w=u.docVersions.get(g);Pe(w!==null),_.version.compareTo(w)<0&&(h.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),d.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ie();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function gI(e){const t=ne(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function ZL(e,t){const n=ne(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];t.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,h)));let d=f.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(h)!==null?d=d.withResumeToken(Rt.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,r)),i=i.insert(h,d),function(_,w,p){return _.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:p.addedDocuments.size+p.modifiedDocuments.size+p.removedDocuments.size>0}(f,d,c)&&a.push(n.qr.updateTargetData(s,d))});let l=cr(),u=ie();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(eN(s,o,t.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(Z.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(h=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return k.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ts=i,s))}function eN(e,t,n){let r=ie(),i=ie();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=cr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Z.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}function tN(e,t){const n=ne(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function nN(e,t){const n=ne(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,t).next(s=>s?(i=s,k.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Cr(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(t,r.targetId)),r})}async function Sp(e,t,n){const r=ne(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!cl(o))throw o;j("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function n_(e,t,n){const r=ne(e);let i=Z.min(),s=ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=ne(l),f=h.ns.get(c);return f!==void 0?k.resolve(h.ts.get(f)):h.qr.getTargetData(u,c)}(r,o,jn(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,t,n?i:Z.min(),n?s:ie())).next(a=>(rN(r,GM(t),a),{documents:a,ls:s})))}function rN(e,t,n){let r=e.rs.get(t)||Z.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.rs.set(t,r)}class r_{constructor(){this.activeTargetIds=eL()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class iN{constructor(){this.eo=new r_,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,r){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new r_,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ql=null;function Rf(){return Ql===null?Ql=function(){return 268435456+Math.round(2147483648*Math.random())}():Ql++,"0x"+Ql.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt="WebChannelConnection";class lN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=Rf(),l=this.So(n,r);j("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,l,u,i).then(c=>(j("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw $s("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+to}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=oN[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,r,i){const s=Rf();return new Promise((o,a)=>{const l=new gM;l.setWithCredentials(!0),l.listenOnce(dM.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Pf.NO_ERROR:const c=l.getResponseJson();j(Tt,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case Pf.TIMEOUT:j(Tt,`RPC '${t}' ${s} timed out`),a(new F(C.DEADLINE_EXCEEDED,"Request time out"));break;case Pf.HTTP_ERROR:const h=l.getStatus();if(j(Tt,`RPC '${t}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const d=f==null?void 0:f.error;if(d&&d.status&&d.message){const g=function(w){const p=w.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(p)>=0?p:C.UNKNOWN}(d.status);a(new F(g,d.message))}else a(new F(C.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new F(C.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{j(Tt,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);j(Tt,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}vo(t,n,r){const i=Rf(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=hM(),a=fM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new mM({})),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");j(Tt,`Creating RPC '${t}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let f=!1,d=!1;const g=new aN({co:w=>{d?j(Tt,`Not sending because RPC '${t}' stream ${i} is closed:`,w):(f||(j(Tt,`Opening RPC '${t}' stream ${i} transport.`),h.open(),f=!0),j(Tt,`RPC '${t}' stream ${i} sending:`,w),h.send(w))},lo:()=>h.close()}),_=(w,p,m)=>{w.listen(p,v=>{try{m(v)}catch(y){setTimeout(()=>{throw y},0)}})};return _(h,Wl.EventType.OPEN,()=>{d||j(Tt,`RPC '${t}' stream ${i} transport opened.`)}),_(h,Wl.EventType.CLOSE,()=>{d||(d=!0,j(Tt,`RPC '${t}' stream ${i} transport closed`),g.Ro())}),_(h,Wl.EventType.ERROR,w=>{d||(d=!0,$s(Tt,`RPC '${t}' stream ${i} transport errored:`,w),g.Ro(new F(C.UNAVAILABLE,"The operation could not be completed")))}),_(h,Wl.EventType.MESSAGE,w=>{var p;if(!d){const m=w.data[0];Pe(!!m);const v=m,y=v.error||((p=v[0])===null||p===void 0?void 0:p.error);if(y){j(Tt,`RPC '${t}' stream ${i} received error:`,y);const S=y.status;let x=function(N){const $=qe[N];if($!==void 0)return oI($)}(S),A=y.message;x===void 0&&(x=C.INTERNAL,A="Unknown error status: "+S+" with message "+y.message),d=!0,g.Ro(new F(x,A)),h.close()}else j(Tt,`RPC '${t}' stream ${i} received:`,m),g.Vo(m)}}),_(a,pM.STAT_EVENT,w=>{w.stat===L0.PROXY?j(Tt,`RPC '${t}' stream ${i} detected buffering proxy`):w.stat===L0.NOPROXY&&j(Tt,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ao()},0),g}}function xf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(e){return new _L(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(t,n,r=1e3,i=1.5,s=6e4){this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(t,n,r,i,s,o,a,l){this.si=t,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new yI(t,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(t,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,t!==4?this.zo.reset():n&&n.code===C.RESOURCE_EXHAUSTED?(ur(n.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===C.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Io(n)}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{t(()=>{const i=new F(C.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(t,n){const r=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(t){return j("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uN extends vI{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();const n=EL(this.serializer,t),r=function(s){if(!("targetChange"in s))return Z.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Z.min():o.readTime?Bn(o.readTime):Z.min()}(t);return this.listener.a_(n,r)}u_(t){const n={};n.database=Ep(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=gp(l)?{documents:AL(s,l)}:{query:PL(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=uI(s,o.resumeToken);const u=_p(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Z.min())>0){a.readTime=uc(s,o.snapshotVersion.toTimestamp());const u=_p(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=RL(this.serializer,t);r&&(n.labels=r),this.e_(n)}c_(t){const n={};n.database=Ep(this.serializer),n.removeTarget=t,this.e_(n)}}class cN extends vI{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,n){return this.connection.vo("Write",t,n)}onMessage(t){if(Pe(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const n=IL(t.writeResults,t.commitTime),r=Bn(t.commitTime);return this.listener.I_(r,n)}return Pe(!t.writeResults||t.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=Ep(this.serializer),this.e_(t)}P_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>SL(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new F(C.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new F(C.UNKNOWN,i.toString())})}Co(t,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(C.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class fN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,t==="Online"&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ur(n),this.f_=!1):j("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{qi(this)&&(j("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ne(l);u.C_.add(4),await dl(u),u.M_.set("Unknown"),u.C_.delete(4),await dh(u)}(this))})}),this.M_=new fN(r,i)}}async function dh(e){if(qi(e))for(const t of e.v_)await t(!0)}async function dl(e){for(const t of e.v_)await t(!1)}function _I(e,t){const n=ne(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),Rg(n)?Cg(n):io(n).Ho()&&Pg(n,t))}function wI(e,t){const n=ne(e),r=io(n);n.D_.delete(t),r.Ho()&&TI(n,t),n.D_.size===0&&(r.Ho()?r.Zo():qi(n)&&n.M_.set("Unknown"))}function Pg(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Z.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}io(e).u_(t)}function TI(e,t){e.x_.Oe(t),io(e).c_(t)}function Cg(e){e.x_=new mL({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),io(e).start(),e.M_.g_()}function Rg(e){return qi(e)&&!io(e).jo()&&e.D_.size>0}function qi(e){return ne(e).C_.size===0}function EI(e){e.x_=void 0}async function pN(e){e.D_.forEach((t,n)=>{Pg(e,t)})}async function mN(e,t){EI(e),Rg(e)?(e.M_.w_(t),Cg(e)):e.M_.set("Unknown")}async function gN(e,t,n){if(e.M_.set("Online"),t instanceof lI&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(e,t)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await cc(e,r)}else if(t instanceof yu?e.x_.$e(t):t instanceof aI?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(Z.min()))try{const r=await gI(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.D_.get(u);c&&s.D_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.D_.get(l);if(!c)return;s.D_.set(l,c.withResumeToken(Rt.EMPTY_BYTE_STRING,c.snapshotVersion)),TI(s,l);const h=new Cr(c.target,l,u,c.sequenceNumber);Pg(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){j("RemoteStore","Failed to raise snapshot:",r),await cc(e,r)}}async function cc(e,t,n){if(!cl(t))throw t;e.C_.add(1),await dl(e),e.M_.set("Offline"),n||(n=()=>gI(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{j("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await dh(e)})}function SI(e,t){return t().catch(n=>cc(e,n,t))}async function ph(e){const t=ne(e),n=Qr(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;yN(t);)try{const i=await tN(t.localStore,r);if(i===null){t.b_.length===0&&n.Zo();break}r=i.batchId,vN(t,i)}catch(i){await cc(t,i)}II(t)&&AI(t)}function yN(e){return qi(e)&&e.b_.length<10}function vN(e,t){e.b_.push(t);const n=Qr(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function II(e){return qi(e)&&!Qr(e).jo()&&e.b_.length>0}function AI(e){Qr(e).start()}async function _N(e){Qr(e).E_()}async function wN(e){const t=Qr(e);for(const n of e.b_)t.P_(n.mutations)}async function TN(e,t,n){const r=e.b_.shift(),i=wg.from(r,t,n);await SI(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await ph(e)}async function EN(e,t){t&&Qr(e).h_&&await async function(r,i){if(function(o){return fL(o)&&o!==C.ABORTED}(i.code)){const s=r.b_.shift();Qr(r).Yo(),await SI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ph(r)}}(e,t),II(e)&&AI(e)}async function s_(e,t){const n=ne(e);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");const r=qi(n);n.C_.add(3),await dl(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await dh(n)}async function SN(e,t){const n=ne(e);t?(n.C_.delete(2),await dh(n)):t||(n.C_.add(2),await dl(n),n.M_.set("Unknown"))}function io(e){return e.O_||(e.O_=function(n,r,i){const s=ne(n);return s.A_(),new uN(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:pN.bind(null,e),Io:mN.bind(null,e),a_:gN.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),Rg(e)?Cg(e):e.M_.set("Unknown")):(await e.O_.stop(),EI(e))})),e.O_}function Qr(e){return e.N_||(e.N_=function(n,r,i){const s=ne(n);return s.A_(),new cN(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:_N.bind(null,e),Io:EN.bind(null,e),T_:wN.bind(null,e),I_:TN.bind(null,e)}),e.v_.push(async t=>{t?(e.N_.Yo(),await ph(e)):(await e.N_.stop(),e.b_.length>0&&(j("RemoteStore",`Stopping write stream with ${e.b_.length} pending writes`),e.b_=[]))})),e.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new xg(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(C.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kg(e,t){if(ur("AsyncQueue",`${t}: ${e}`),cl(e))return new F(C.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t){this.comparator=t?(n,r)=>t(n,r)||U.comparator(n.key,r.key):(n,r)=>U.comparator(n.key,r.key),this.keyedMap=No(),this.sortedSet=new Ne(this.comparator)}static emptySet(t){return new ks(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ks)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new ks;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(){this.B_=new Ne(U.comparator)}track(t){const n=t.doc.key,r=this.B_.get(n);r?t.type!==0&&r.type===3?this.B_=this.B_.insert(n,t):t.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.B_=this.B_.remove(n):t.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):X():this.B_=this.B_.insert(n,t)}L_(){const t=[];return this.B_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Hs{constructor(t,n,r,i,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Hs(t,n,ks.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ah(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.k_=void 0,this.listeners=[]}}class AN{constructor(){this.queries=new ro(t=>KS(t),ah),this.onlineState="Unknown",this.q_=new Set}}async function PI(e,t){const n=ne(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new IN),i)try{s.k_=await n.onListen(r)}catch(o){const a=kg(o,`Initialization of query '${Ji(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&Dg(n)}async function CI(e,t){const n=ne(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function PN(e,t){const n=ne(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&Dg(n)}function CN(e,t,n){const r=ne(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Dg(e){e.q_.forEach(t=>{t.next()})}class RI{constructor(t,n,r){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Hs(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}z_(t){if(t.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(t){t=Hs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(t){this.key=t}}class kI{constructor(t){this.key=t}}class RN{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ie(),this.mutatedKeys=ie(),this._a=GS(t),this.aa=new ks(this._a)}get ua(){return this.ia}ca(t,n){const r=n?n.la:new o_,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,h)=>{const f=i.get(c),d=lh(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),_=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let w=!1;f&&d?f.data.isEqual(d.data)?g!==_&&(r.track({type:3,doc:d}),w=!0):this.ha(f,d)||(r.track({type:2,doc:d}),w=!0,(l&&this._a(d,l)>0||u&&this._a(d,u)<0)&&(a=!0)):!f&&d?(r.track({type:0,doc:d}),w=!0):f&&!d&&(r.track({type:1,doc:f}),w=!0,(l||u)&&(a=!0)),w&&(d?(o=o.add(d),s=_?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const s=t.la.L_();s.sort((u,c)=>function(f,d){const g=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return g(f)-g(d)}(u.type,c.type)||this._a(u.doc,c.doc)),this.Pa(r);const o=n?this.Ia():[],a=this.oa.size===0&&this.current?1:0,l=a!==this.sa;return this.sa=a,s.length!==0||l?{snapshot:new Hs(this.query,t.aa,i,s,t.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new o_,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=ie(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return t.forEach(r=>{this.oa.has(r)||n.push(new kI(r))}),this.oa.forEach(r=>{t.has(r)||n.push(new xI(r))}),n}da(t){this.ia=t.ls,this.oa=ie();const n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return Hs.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class xN{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class kN{constructor(t){this.key=t,this.Ra=!1}}class DN{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new ro(a=>KS(a),ah),this.fa=new Map,this.ga=new Set,this.pa=new Ne(U.comparator),this.ya=new Map,this.wa=new Sg,this.Sa={},this.ba=new Map,this.Da=zs.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function VN(e,t){const n=UN(e);let r,i;const s=n.ma.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await nN(n.localStore,jn(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await MN(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&_I(n.remoteStore,o)}return i}async function MN(e,t,n,r,i){e.va=(h,f,d)=>async function(_,w,p,m){let v=w.view.ca(p);v.Zi&&(v=await n_(_.localStore,w.query,!1).then(({documents:x})=>w.view.ca(x,v)));const y=m&&m.targetChanges.get(w.targetId),S=w.view.applyChanges(v,_.isPrimaryClient,y);return l_(_,w.targetId,S.Ta),S.snapshot}(e,h,f,d);const s=await n_(e.localStore,t,!0),o=new RN(t,s.ls),a=o.ca(s.documents),l=fl.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(a,e.isPrimaryClient,l);l_(e,n,u.Ta);const c=new xN(t,n,o);return e.ma.set(t,c),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),u.snapshot}async function LN(e,t){const n=ne(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!ah(s,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Sp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),wI(n.remoteStore,r.targetId),Ip(n,r.targetId)}).catch(ul)):(Ip(n,r.targetId),await Sp(n.localStore,r.targetId,!0))}async function NN(e,t,n){const r=zN(e);try{const i=await function(o,a){const l=ne(o),u=Ye.now(),c=a.reduce((d,g)=>d.add(g.key),ie());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let g=cr(),_=ie();return l.ss.getEntries(d,c).next(w=>{g=w,g.forEach((p,m)=>{m.isValidDocument()||(_=_.add(p))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,g)).next(w=>{h=w;const p=[];for(const m of a){const v=aL(m,h.get(m.key).overlayedDocument);v!=null&&p.push(new ii(m.key,v,$S(v.value.mapValue),En.exists(!0)))}return l.mutationQueue.addMutationBatch(d,u,p,a)}).next(w=>{f=w;const p=w.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(d,w.batchId,p)})}).then(()=>({batchId:f.batchId,changes:YS(h)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Sa[o.currentUser.toKey()];u||(u=new Ne(de)),u=u.insert(a,l),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,n),await pl(r,i.changes),await ph(r.remoteStore)}catch(i){const s=kg(i,"Failed to persist write");n.reject(s)}}async function DI(e,t){const n=ne(e);try{const r=await ZL(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(Pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Pe(o.Ra):i.removedDocuments.size>0&&(Pe(o.Ra),o.Ra=!1))}),await pl(n,r,t)}catch(r){await ul(r)}}function a_(e,t,n){const r=ne(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ne(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const f of h.listeners)f.Q_(a)&&(u=!0)}),u&&Dg(l)}(r.eventManager,t),i.length&&r.Va.a_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ON(e,t,n){const r=ne(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),s=i&&i.key;if(s){let o=new Ne(U.comparator);o=o.insert(s,It.newNoDocument(s,Z.min()));const a=ie().add(s),l=new hh(Z.min(),new Map,new Ne(de),o,a);await DI(r,l),r.pa=r.pa.remove(s),r.ya.delete(t),Vg(r)}else await Sp(r.localStore,t,!1).then(()=>Ip(r,t,n)).catch(ul)}async function bN(e,t){const n=ne(e),r=t.batch.batchId;try{const i=await JL(n.localStore,t);MI(n,r,null),VI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await pl(n,i)}catch(i){await ul(i)}}async function FN(e,t,n){const r=ne(e);try{const i=await function(o,a){const l=ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Pe(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);MI(r,t,n),VI(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await pl(r,i)}catch(i){await ul(i)}}function VI(e,t){(e.ba.get(t)||[]).forEach(n=>{n.resolve()}),e.ba.delete(t)}function MI(e,t,n){const r=ne(e);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function Ip(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(r=>{e.wa.containsKey(r)||LI(e,r)})}function LI(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);n!==null&&(wI(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),Vg(e))}function l_(e,t,n){for(const r of n)r instanceof xI?(e.wa.addReference(r.key,t),$N(e,r)):r instanceof kI?(j("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||LI(e,r.key)):X()}function $N(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(j("SyncEngine","New document in limbo: "+n),e.ga.add(r),Vg(e))}function Vg(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new U(Ie.fromString(t)),r=e.Da.next();e.ya.set(r,new kN(n)),e.pa=e.pa.insert(n,r),_I(e.remoteStore,new Cr(jn(oh(n.path)),r,"TargetPurposeLimboResolution",dg._e))}}async function pl(e,t,n){const r=ne(e),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Ag.Qi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,u){const c=ne(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>k.forEach(u,f=>k.forEach(f.ki,d=>c.persistence.referenceDelegate.addReference(h,f.targetId,d)).next(()=>k.forEach(f.qi,d=>c.persistence.referenceDelegate.removeReference(h,f.targetId,d)))))}catch(h){if(!cl(h))throw h;j("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const d=c.ts.get(f),g=d.snapshotVersion,_=d.withLastLimboFreeSnapshotVersion(g);c.ts=c.ts.insert(f,_)}}}(r.localStore,s))}async function jN(e,t){const n=ne(e);if(!n.currentUser.isEqual(t)){j("SyncEngine","User change. New user:",t.toKey());const r=await mI(n.localStore,t);n.currentUser=t,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new F(C.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await pl(n,r._s)}}function BN(e,t){const n=ne(e),r=n.ya.get(t);if(r&&r.Ra)return ie().add(r.key);{let i=ie();const s=n.fa.get(t);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function UN(e){const t=ne(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=DI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=BN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ON.bind(null,t),t.Va.a_=PN.bind(null,t.eventManager),t.Va.Fa=CN.bind(null,t.eventManager),t}function zN(e){const t=ne(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=FN.bind(null,t),t}class u_{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=fh(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return XL(this.persistence,new QL,t.initialUser,this.serializer)}createPersistence(t){return new WL(Ig.jr,this.serializer)}createSharedClientState(t){return new iN}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class HN{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>a_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jN.bind(null,this.syncEngine),await SN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new AN}()}createDatastore(t){const n=fh(t.databaseInfo.databaseId),r=function(s){return new lN(s)}(t.databaseInfo);return function(s,o,a,l){return new hN(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new dN(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>a_(this.syncEngine,n,0),function(){return i_.D()?new i_:new sN}())}createSyncEngine(t,n){return function(i,s,o,a,l,u,c){const h=new DN(i,s,o,a,l,u);return c&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ne(n);j("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await dl(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):ur("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Et.UNAUTHENTICATED,this.clientId=OS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{j("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(j("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new F(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=kg(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function kf(e,t){e.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await mI(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function c_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await KN(e);j("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>s_(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>s_(t.remoteStore,s)),e._onlineComponents=t}function WN(e){return e.name==="FirebaseError"?e.code===C.FAILED_PRECONDITION||e.code===C.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function KN(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{await kf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!WN(n))throw n;$s("Error using user provided cache. Falling back to memory cache: "+n),await kf(e,new u_)}}else j("FirestoreClient","Using default OfflineComponentProvider"),await kf(e,new u_);return e._offlineComponents}async function OI(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),await c_(e,e._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),await c_(e,new HN))),e._onlineComponents}function GN(e){return OI(e).then(t=>t.syncEngine)}async function Ap(e){const t=await OI(e),n=t.eventManager;return n.onListen=VN.bind(null,t.syncEngine),n.onUnlisten=LN.bind(null,t.syncEngine),n}function QN(e,t,n={}){const r=new $r;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new NI({next:f=>{o.enqueueAndForget(()=>CI(s,h));const d=f.docs.has(a);!d&&f.fromCache?u.reject(new F(C.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&f.fromCache&&l&&l.source==="server"?u.reject(new F(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new RI(oh(a.path),c,{includeMetadataChanges:!0,J_:!0});return PI(s,h)}(await Ap(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(e,t,n){if(!n)throw new F(C.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function YN(e,t,n,r){if(t===!0&&r===!0)throw new F(C.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function f_(e){if(!U.isDocumentKey(e))throw new F(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function d_(e){if(U.isDocumentKey(e))throw new F(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function mh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":X()}function Un(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new F(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mh(e);throw new F(C.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new F(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new F(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}YN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bI((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new F(C.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new F(C.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new F(C.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class gh{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new F(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new F(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p_(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new vM;switch(r.type){case"firstParty":return new EM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=h_.get(n);r&&(j("ComponentProvider","Removing Datastore"),h_.delete(n),r.terminate())}(this),Promise.resolve()}}function XN(e,t,n,r={}){var i;const s=(e=Un(e,gh))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&$s("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Et.MOCK_USER;else{a=QD(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new F(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Et(u)}e._authCredentials=new _M(new NS(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Wi(this.firestore,t,this._query)}}class Nt{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Nt(this.firestore,t,this._key)}}class jr extends Wi{constructor(t,n,r){super(t,n,oh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Nt(this.firestore,null,new U(t))}withConverter(t){return new jr(this.firestore,t,this._path)}}function m_(e,t,...n){if(e=dn(e),FI("collection","path",t),e instanceof gh){const r=Ie.fromString(t,...n);return d_(r),new jr(e,null,r)}{if(!(e instanceof Nt||e instanceof jr))throw new F(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ie.fromString(t,...n));return d_(r),new jr(e.firestore,null,r)}}function hc(e,t,...n){if(e=dn(e),arguments.length===1&&(t=OS.newId()),FI("doc","path",t),e instanceof gh){const r=Ie.fromString(t,...n);return f_(r),new Nt(e,null,new U(r))}{if(!(e instanceof Nt||e instanceof jr))throw new F(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ie.fromString(t,...n));return f_(r),new Nt(e.firestore,e instanceof jr?e.converter:null,new U(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new yI(this,"async_queue_retry"),this.iu=()=>{const n=xf();n&&j("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=xf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=xf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new $r;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!cl(t))throw t;j("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ur("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(t,n,r){this.su(),this.ru.indexOf(t)>-1&&(n=0);const i=xg.createAndSchedule(this,t,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&X()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}function g_(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(e,["next","error","complete"])}class bi extends gh{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new JN}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||$I(this),this._firestoreClient.terminate()}}function ZN(e,t){const n=typeof e=="object"?e:kE(),r=typeof e=="string"?e:t||"(default)",i=Za(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=KD("firestore");s&&XN(i,...s)}return i}function Mg(e){return e._firestoreClient||$I(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function $I(e){var t,n,r;const i=e._freezeSettings(),s=function(a,l,u,c){return new LM(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,bI(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new qN(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qs(Rt.fromBase64String(t))}catch(n){throw new F(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new qs(Rt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new F(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new F(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new F(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return de(this._lat,t._lat)||de(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=/^__.*__$/;class tO{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new ii(t,this.data,this.fieldMask,n,this.fieldTransforms):new hl(t,this.data,n,this.fieldTransforms)}}class jI{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new ii(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function BI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}class Og{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new Og(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Au(t),i}Ru(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return fc(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(t.length===0)throw this.mu("Document fields must not be empty");if(BI(this.Iu)&&eO.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class nO{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||fh(t)}pu(t,n,r,i=!1){return new Og({Iu:t,methodName:n,gu:r,path:dt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bg(e){const t=e._freezeSettings(),n=fh(e._databaseId);return new nO(e._databaseId,!!t.ignoreUndefinedProperties,n)}function rO(e,t,n,r,i,s={}){const o=e.pu(s.merge||s.mergeFields?2:0,t,n,i);Fg("Data must be an object, but it was:",o,r);const a=UI(r,o);let l,u;if(s.merge)l=new Gt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=Pp(t,h,n);if(!o.contains(f))throw new F(C.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);HI(c,f)||c.push(f)}l=new Gt(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new tO(new $t(a),l,u)}class vh extends Lg{_toFieldTransform(t){if(t.Iu!==2)throw t.Iu===1?t.mu(`${this._methodName}() can only appear at the top level of your update data`):t.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof vh}}function iO(e,t,n,r){const i=e.pu(1,t,n);Fg("Data must be an object, but it was:",i,r);const s=[],o=$t.empty();Hi(r,(l,u)=>{const c=$g(t,l,n);u=dn(u);const h=i.Ru(c);if(u instanceof vh)s.push(c);else{const f=ml(u,h);f!=null&&(s.push(c),o.set(c,f))}});const a=new Gt(s);return new jI(o,a,i.fieldTransforms)}function sO(e,t,n,r,i,s){const o=e.pu(1,t,n),a=[Pp(t,r,n)],l=[i];if(s.length%2!=0)throw new F(C.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Pp(t,s[f])),l.push(s[f+1]);const u=[],c=$t.empty();for(let f=a.length-1;f>=0;--f)if(!HI(u,a[f])){const d=a[f];let g=l[f];g=dn(g);const _=o.Ru(d);if(g instanceof vh)u.push(d);else{const w=ml(g,_);w!=null&&(u.push(d),c.set(d,w))}}const h=new Gt(u);return new jI(c,h,o.fieldTransforms)}function oO(e,t,n,r=!1){return ml(n,e.pu(r?4:3,t))}function ml(e,t){if(zI(e=dn(e)))return Fg("Unsupported field value:",t,e),UI(e,t);if(e instanceof Lg)return function(r,i){if(!BI(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&t.Iu!==4)throw t.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=ml(a,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ye.fromDate(r);return{timestampValue:uc(i.serializer,s)}}if(r instanceof Ye){const s=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uc(i.serializer,s)}}if(r instanceof Ng)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qs)return{bytesValue:uI(i.serializer,r._byteString)};if(r instanceof Nt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Eg(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${mh(r)}`)}(e,t)}function UI(e,t){const n={};return bS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hi(e,(r,i)=>{const s=ml(i,t.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function zI(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ye||e instanceof Ng||e instanceof qs||e instanceof Nt||e instanceof Lg)}function Fg(e,t,n){if(!zI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=mh(n);throw r==="an object"?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function Pp(e,t,n){if((t=dn(t))instanceof yh)return t._internalPath;if(typeof t=="string")return $g(e,t);throw fc("Field path arguments must be of type string or ",e,!1,void 0,n)}const aO=new RegExp("[~\\*/\\[\\]]");function $g(e,t,n){if(t.search(aO)>=0)throw fc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new yh(...t.split("."))._internalPath}catch{throw fc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function fc(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new F(C.INVALID_ARGUMENT,a+e+l)}function HI(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new lO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(jg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lO extends qI{data(){return super.data()}}function jg(e,t){return typeof t=="string"?$g(e,t):t instanceof yh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new F(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bg{}class WI extends Bg{}function cO(e,t,...n){let r=[];t instanceof Bg&&r.push(t),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof zg).length,a=s.filter(l=>l instanceof Ug).length;if(o>1||o>0&&a>0)throw new F(C.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class Ug extends WI{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Ug(t,n,r)}_apply(t){const n=this._parse(t);return KI(t._query,n),new Wi(t.firestore,t.converter,yp(t._query,n))}_parse(t){const n=bg(t.firestore);return function(s,o,a,l,u,c,h){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new F(C.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){v_(h,c);const d=[];for(const g of h)d.push(y_(l,s,g));f={arrayValue:{values:d}}}else f=y_(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||v_(h,c),f=oO(a,o,h,c==="in"||c==="not-in");return Qe.create(u,c,f)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class zg extends Bg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new zg(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:An.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)KI(o,l),o=yp(o,l)}(t._query,n),new Wi(t.firestore,t.converter,yp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hg extends WI{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Hg(t,n)}_apply(t){const n=function(i,s,o){if(i.startAt!==null)throw new F(C.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new F(C.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $a(s,o)}(t._query,this._field,this._direction);return new Wi(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new no(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function hO(e,t="asc"){const n=t,r=jg("orderBy",e);return Hg._create(r,n)}function y_(e,t,n){if(typeof(n=dn(n))=="string"){if(n==="")throw new F(C.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WS(t)&&n.indexOf("/")!==-1)throw new F(C.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Ie.fromString(n));if(!U.isDocumentKey(r))throw new F(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $0(e,new U(r))}if(n instanceof Nt)return $0(e,n._key);throw new F(C.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mh(n)}.`)}function v_(e,t){if(!Array.isArray(e)||e.length===0)throw new F(C.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function KI(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new F(C.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new F(C.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class fO{convertValue(t,n="none"){switch(Oi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ke(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ni(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw X()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Hi(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new Ng(Ke(t.latitude),Ke(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=mg(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Oa(t));default:return null}}convertTimestamp(t){const n=Gr(t);return new Ye(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Ie.fromString(t);Pe(pI(r));const i=new ba(r.get(1),r.get(3)),s=new U(r.popFirst(5));return i.isEqual(n)||ur(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class GI extends qI{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new vu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(jg("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class vu extends GI{data(t={}){return super.data(t)}}class pO{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new bo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new vu(this._firestore,this._userDataWriter,r.key,r,new bo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new vu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new bo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new vu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new bo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:mO(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function mO(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(e){e=Un(e,Nt);const t=Un(e.firestore,bi);return QN(Mg(t),e._key).then(n=>YI(t,e,n))}class QI extends fO{constructor(t){super(),this.firestore=t}convertBytes(t){return new qs(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Nt(this.firestore,null,n)}}function yO(e,t,n,...r){e=Un(e,Nt);const i=Un(e.firestore,bi),s=bg(i);let o;return o=typeof(t=dn(t))=="string"||t instanceof yh?sO(s,"updateDoc",e._key,t,n,r):iO(s,"updateDoc",e._key,t),qg(i,[o.toMutation(e._key,En.exists(!0))])}function vO(e){return qg(Un(e.firestore,bi),[new _g(e._key,En.none())])}function _O(e,t){const n=Un(e.firestore,bi),r=hc(e),i=dO(e.converter,t);return qg(n,[rO(bg(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,En.exists(!1))]).then(()=>r)}function wO(e,...t){var n,r,i;e=dn(e);let s={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||g_(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(g_(t[o])){const h=t[o];t[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),t[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),t[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(e instanceof Nt)u=Un(e.firestore,bi),c=oh(e._key.path),l={next:h=>{t[o]&&t[o](YI(u,e,h))},error:t[o+1],complete:t[o+2]};else{const h=Un(e,Wi);u=Un(h.firestore,bi),c=h._query;const f=new QI(u);l={next:d=>{t[o]&&t[o](new pO(u,f,h,d))},error:t[o+1],complete:t[o+2]},uO(e._query)}return function(f,d,g,_){const w=new NI(_),p=new RI(d,w,g);return f.asyncQueue.enqueueAndForget(async()=>PI(await Ap(f),p)),()=>{w.Na(),f.asyncQueue.enqueueAndForget(async()=>CI(await Ap(f),p))}}(Mg(u),c,a,l)}function qg(e,t){return function(r,i){const s=new $r;return r.asyncQueue.enqueueAndForget(async()=>NN(await GN(r),i,s)),s.promise}(Mg(e),t)}function YI(e,t,n){const r=n.docs.get(t._key),i=new QI(e);return new GI(e,i,t._key,r,new bo(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){to=i})(t2),Wr(new ar("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new bi(new wM(r.getProvider("auth-internal")),new IM(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new F(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ba(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),$n(N0,"4.3.2",t),$n(N0,"4.3.2","esm2017")})();var TO="firebase",EO="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n(TO,EO,"app");const SO=(e,t)=>t.some(n=>e instanceof n);let __,w_;function IO(){return __||(__=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AO(){return w_||(w_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XI=new WeakMap,Cp=new WeakMap,JI=new WeakMap,Df=new WeakMap,Wg=new WeakMap;function PO(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Br(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&XI.set(n,e)}).catch(()=>{}),Wg.set(t,e),t}function CO(e){if(Cp.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Cp.set(e,t)}let Rp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Cp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||JI.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Br(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function RO(e){Rp=e(Rp)}function xO(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Vf(this),t,...n);return JI.set(r,t.sort?t.sort():[t]),Br(r)}:AO().includes(e)?function(...t){return e.apply(Vf(this),t),Br(XI.get(this))}:function(...t){return Br(e.apply(Vf(this),t))}}function kO(e){return typeof e=="function"?xO(e):(e instanceof IDBTransaction&&CO(e),SO(e,IO())?new Proxy(e,Rp):e)}function Br(e){if(e instanceof IDBRequest)return PO(e);if(Df.has(e))return Df.get(e);const t=kO(e);return t!==e&&(Df.set(e,t),Wg.set(t,e)),t}const Vf=e=>Wg.get(e);function DO(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Br(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Br(o.result),l.oldVersion,l.newVersion,Br(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const VO=["get","getKey","getAll","getAllKeys","count"],MO=["put","add","delete","clear"],Mf=new Map;function T_(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Mf.get(t))return Mf.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=MO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||VO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Mf.set(t,s),s}RO(e=>({...e,get:(t,n,r)=>T_(t,n)||e.get(t,n,r),has:(t,n)=>!!T_(t,n)||e.has(t,n)}));const ZI="@firebase/installations",Kg="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=1e4,tA=`w:${Kg}`,nA="FIS_v2",LO="https://firebaseinstallations.googleapis.com/v1",NO=60*60*1e3,OO="installations",bO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Fi=new zc(OO,bO,FO);function rA(e){return e instanceof ti&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA({projectId:e}){return`${LO}/projects/${e}/installations`}function sA(e){return{token:e.token,requestStatus:2,expiresIn:jO(e.expiresIn),creationTime:Date.now()}}async function oA(e,t){const r=(await t.json()).error;return Fi.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function aA({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function $O(e,{refreshToken:t}){const n=aA(e);return n.append("Authorization",BO(t)),n}async function lA(e){const t=await e();return t.status>=500&&t.status<600?e():t}function jO(e){return Number(e.replace("s","000"))}function BO(e){return`${nA} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=iA(e),i=aA(e),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:nA,appId:e.appId,sdkVersion:tA},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await lA(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:sA(u.authToken)}}else throw await oA("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=/^[cdef][\w-]{21}$/,xp="";function qO(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=WO(e);return HO.test(n)?n:xp}catch{return xp}}function WO(e){return zO(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=new Map;function hA(e,t){const n=_h(e);fA(n,t),KO(n,t)}function fA(e,t){const n=cA.get(e);if(n)for(const r of n)r(t)}function KO(e,t){const n=GO();n&&n.postMessage({key:e,fid:t}),QO()}let Ti=null;function GO(){return!Ti&&"BroadcastChannel"in self&&(Ti=new BroadcastChannel("[Firebase] FID Change"),Ti.onmessage=e=>{fA(e.data.key,e.data.fid)}),Ti}function QO(){cA.size===0&&Ti&&(Ti.close(),Ti=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="firebase-installations-database",XO=1,$i="firebase-installations-store";let Lf=null;function Gg(){return Lf||(Lf=DO(YO,XO,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore($i)}}})),Lf}async function dc(e,t){const n=_h(e),i=(await Gg()).transaction($i,"readwrite"),s=i.objectStore($i),o=await s.get(n);return await s.put(t,n),await i.done,(!o||o.fid!==t.fid)&&hA(e,t.fid),t}async function dA(e){const t=_h(e),r=(await Gg()).transaction($i,"readwrite");await r.objectStore($i).delete(t),await r.done}async function wh(e,t){const n=_h(e),i=(await Gg()).transaction($i,"readwrite"),s=i.objectStore($i),o=await s.get(n),a=t(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&hA(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qg(e){let t;const n=await wh(e.appConfig,r=>{const i=JO(r),s=ZO(e,i);return t=s.registrationPromise,s.installationEntry});return n.fid===xp?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function JO(e){const t=e||{fid:qO(),registrationStatus:0};return pA(t)}function ZO(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Fi.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=eb(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:tb(e)}:{installationEntry:t}}async function eb(e,t){try{const n=await UO(e,t);return dc(e.appConfig,n)}catch(n){throw rA(n)&&n.customData.serverCode===409?await dA(e.appConfig):await dc(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function tb(e){let t=await E_(e.appConfig);for(;t.registrationStatus===1;)await uA(100),t=await E_(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Qg(e);return r||n}return t}function E_(e){return wh(e,t=>{if(!t)throw Fi.create("installation-not-found");return pA(t)})}function pA(e){return nb(e)?{fid:e.fid,registrationStatus:0}:e}function nb(e){return e.registrationStatus===1&&e.registrationTime+eA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rb({appConfig:e,heartbeatServiceProvider:t},n){const r=ib(e,n),i=$O(e,n),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:tA,appId:e.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await lA(()=>fetch(r,a));if(l.ok){const u=await l.json();return sA(u)}else throw await oA("Generate Auth Token",l)}function ib(e,{fid:t}){return`${iA(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yg(e,t=!1){let n;const r=await wh(e.appConfig,s=>{if(!mA(s))throw Fi.create("not-registered");const o=s.authToken;if(!t&&ab(o))return s;if(o.requestStatus===1)return n=sb(e,t),s;{if(!navigator.onLine)throw Fi.create("app-offline");const a=ub(s);return n=ob(e,a),a}});return n?await n:r.authToken}async function sb(e,t){let n=await S_(e.appConfig);for(;n.authToken.requestStatus===1;)await uA(100),n=await S_(e.appConfig);const r=n.authToken;return r.requestStatus===0?Yg(e,t):r}function S_(e){return wh(e,t=>{if(!mA(t))throw Fi.create("not-registered");const n=t.authToken;return cb(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function ob(e,t){try{const n=await rb(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await dc(e.appConfig,r),n}catch(n){if(rA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await dA(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await dc(e.appConfig,r)}throw n}}function mA(e){return e!==void 0&&e.registrationStatus===2}function ab(e){return e.requestStatus===2&&!lb(e)}function lb(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+NO}function ub(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function cb(e){return e.requestStatus===1&&e.requestTime+eA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hb(e){const t=e,{installationEntry:n,registrationPromise:r}=await Qg(t);return r?r.catch(console.error):Yg(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fb(e,t=!1){const n=e;return await db(n),(await Yg(n,t)).token}async function db(e){const{registrationPromise:t}=await Qg(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(e){if(!e||!e.options)throw Nf("App Configuration");if(!e.name)throw Nf("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Nf(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Nf(e){return Fi.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="installations",mb="installations-internal",gb=e=>{const t=e.getProvider("app").getImmediate(),n=pb(t),r=Za(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},yb=e=>{const t=e.getProvider("app").getImmediate(),n=Za(t,gA).getImmediate();return{getId:()=>hb(n),getToken:i=>fb(n,i)}};function vb(){Wr(new ar(gA,gb,"PUBLIC")),Wr(new ar(mb,yb,"PRIVATE"))}vb();$n(ZI,Kg);$n(ZI,Kg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc="analytics",_b="firebase_id",wb="origin",Tb=60*1e3,Eb="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht=new Um("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Yt=new zc("analytics","Analytics",Sb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(e){if(!e.startsWith(Xg)){const t=Yt.create("invalid-gtag-resource",{gtagURL:e});return Ht.warn(t.message),""}return e}function yA(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function Ab(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function Pb(e,t){const n=Ab("firebase-js-sdk-policy",{createScriptURL:Ib}),r=document.createElement("script"),i=`${Xg}?l=${e}&id=${t}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Cb(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function Rb(e,t,n,r,i,s){const o=r[i];try{if(o)await t[o];else{const l=(await yA(n)).find(u=>u.measurementId===i);l&&await t[l.appId]}}catch(a){Ht.error(a)}e("config",i,s)}async function xb(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await yA(n);for(const l of o){const u=a.find(h=>h.measurementId===l),c=u&&t[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(s){Ht.error(s)}}function kb(e,t,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await xb(e,t,n,a,l)}else if(s==="config"){const[a,l]=o;await Rb(e,t,n,r,a,l)}else if(s==="consent"){const[a]=o;e("consent","update",a)}else if(s==="get"){const[a,l,u]=o;e("get",a,l,u)}else if(s==="set"){const[a]=o;e("set",a)}else e(s,...o)}catch(a){Ht.error(a)}}return i}function Db(e,t,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=kb(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function Vb(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Xg)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=30,Lb=1e3;class Nb{constructor(t={},n=Lb){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const vA=new Nb;function Ob(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function bb(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:Ob(r)},s=Eb.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((t=l.error)===null||t===void 0)&&t.message&&(a=l.error.message)}catch{}throw Yt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function Fb(e,t=vA,n){const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw Yt.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Yt.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Bb;return setTimeout(async()=>{a.abort()},n!==void 0?n:Tb),_A({appId:r,apiKey:i,measurementId:s},o,a,t)}async function _A(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=vA){var s;const{appId:o,measurementId:a}=e;try{await $b(r,t)}catch(l){if(a)return Ht.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await bb(e);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!jb(u)){if(i.deleteThrottleMetadata(o),a)return Ht.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?d0(n,i.intervalMillis,Mb):d0(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,h),Ht.debug(`Calling attemptFetch again in ${c} millis`),_A(e,h,r,i)}}function $b(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(Yt.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function jb(e){if(!(e instanceof ti)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class Bb{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function Ub(e,t,n,r,i){if(i&&i.global){e("event",n,r);return}else{const s=await t,o=Object.assign(Object.assign({},r),{send_to:s});e("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zb(){if(AE())try{await PE()}catch(e){return Ht.warn(Yt.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Ht.warn(Yt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Hb(e,t,n,r,i,s,o){var a;const l=Fb(e);l.then(d=>{n[d.measurementId]=d.appId,e.options.measurementId&&d.measurementId!==e.options.measurementId&&Ht.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${d.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(d=>Ht.error(d)),t.push(l);const u=zb().then(d=>{if(d)return r.getId()}),[c,h]=await Promise.all([l,u]);Vb(s)||Pb(s,c.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[wb]="firebase",f.update=!0,h!=null&&(f[_b]=h),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(t){this.app=t}_delete(){return delete na[this.app.options.appId],Promise.resolve()}}let na={},I_=[];const A_={};let Of="dataLayer",Wb="gtag",P_,wA,C_=!1;function Kb(){const e=[];if(YD()&&e.push("This is a browser extension environment."),XD()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Yt.create("invalid-analytics-context",{errorInfo:t});Ht.warn(n.message)}}function Gb(e,t,n){Kb();const r=e.options.appId;if(!r)throw Yt.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Ht.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Yt.create("no-api-key");if(na[r]!=null)throw Yt.create("already-exists",{id:r});if(!C_){Cb(Of);const{wrappedGtag:s,gtagCore:o}=Db(na,I_,A_,Of,Wb);wA=s,P_=o,C_=!0}return na[r]=Hb(e,I_,A_,t,P_,Of,n),new qb(e)}function Qb(e=kE()){e=dn(e);const t=Za(e,pc);return t.isInitialized()?t.getImmediate():Yb(e)}function Yb(e,t={}){const n=Za(e,pc);if(n.isInitialized()){const i=n.getImmediate();if(Yu(t,n.getOptions()))return i;throw Yt.create("already-initialized")}return n.initialize({options:t})}function Xb(e,t,n,r){e=dn(e),Ub(wA,na[e.app.options.appId],t,n,r).catch(i=>Ht.error(i))}const R_="@firebase/analytics",x_="0.10.0";function Jb(){Wr(new ar(pc,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return Gb(r,i,n)},"PUBLIC")),Wr(new ar("analytics-internal",e,"PRIVATE")),$n(R_,x_),$n(R_,x_,"esm2017");function e(t){try{const n=t.getProvider(pc).getImmediate();return{logEvent:(r,i,s)=>Xb(n,r,i,s)}}catch(n){throw Yt.create("interop-component-reg-failed",{reason:n})}}}Jb();const Zb={apiKey:"AIzaSyACHxzWdgukPW7rolKPQclq9px0jILjFBs",authDomain:"films-26a95.firebaseapp.com",projectId:"films-26a95",storageBucket:"films-26a95.appspot.com",messagingSenderId:"147249427560",appId:"1:147249427560:web:7959102590efe25f31f7dd",measurementId:"G-QBEGWBR4ZQ"},TA=xE(Zb);Qb(TA);const Fo=ZN(TA),EA=E.createContext(),Jg=()=>{const e=E.useContext(EA);if(!e)throw new Error("useContext must be used within a FilmsProvider");return e};function eF({children:e}){const[t,n]=E.useState([]),[r,i]=E.useState(""),s=async l=>{try{if(r==="")await _O(m_(Fo,"films"),l);else{const u=hc(Fo,"films",r);await yO(u,l),i("")}}catch(u){console.log(u)}},o=()=>{const l=cO(m_(Fo,"films"),hO("name","asc"));wO(l,u=>{const c=[];u.forEach(h=>{c.push({...h.data(),id:h.id})}),n(c)})},a=async l=>{try{await vO(hc(Fo,"films",l))}catch(u){console.log(u)}};return E.useEffect(()=>{o()},[]),b.jsx(EA.Provider,{value:{addOrEditFilm:s,onDeleteFilm:a,setCurrentId:i,currentId:r,films:t},children:e})}const SA=E.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Th=E.createContext({}),Zg=E.createContext(null),Eh=typeof document<"u",IA=Eh?E.useLayoutEffect:E.useEffect,ey=E.createContext({strict:!1});function tF(e,t,n,r){const{visualElement:i}=E.useContext(Th),s=E.useContext(ey),o=E.useContext(Zg),a=E.useContext(SA).reducedMotion,l=E.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;E.useInsertionEffect(()=>{u&&u.update(n,o)});const c=E.useRef(!!window.HandoffAppearAnimations);return IA(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),E.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,c.current=!1)}),u}function gs(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function nF(e,t,n){return E.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):gs(n)&&(n.current=r))},[t])}function Ua(e){return typeof e=="string"||Array.isArray(e)}function Sh(e){return typeof e=="object"&&typeof e.start=="function"}const ty=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ny=["initial",...ty];function Ih(e){return Sh(e.animate)||ny.some(t=>Ua(e[t]))}function AA(e){return!!(Ih(e)||e.variants)}function rF(e,t){if(Ih(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ua(n)?n:void 0,animate:Ua(r)?r:void 0}}return e.inherit!==!1?t:{}}function iF(e){const{initial:t,animate:n}=rF(e,E.useContext(Th));return E.useMemo(()=>({initial:t,animate:n}),[k_(t),k_(n)])}function k_(e){return Array.isArray(e)?e.join(" "):e}const D_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},za={};for(const e in D_)za[e]={isEnabled:t=>D_[e].some(n=>!!t[n])};function kp(e){for(const t in e)za[t]={...za[t],...e[t]}}const mc=E.createContext({}),PA=E.createContext({}),CA=Symbol.for("motionComponentSymbol");function sF({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&kp(e);function s(a,l){let u;const c={...E.useContext(SA),...a,layoutId:oF(a)},{isStatic:h}=c,f=iF(a),d=r(a,h);if(!h&&Eh){f.visualElement=tF(i,d,c,t);const g=E.useContext(PA),_=E.useContext(ey).strict;f.visualElement&&(u=f.visualElement.loadFeatures(c,_,e,g))}return E.createElement(Th.Provider,{value:f},u&&f.visualElement?E.createElement(u,{visualElement:f.visualElement,...c}):null,n(i,a,nF(d,f.visualElement,l),d,h,f.visualElement))}const o=E.forwardRef(s);return o[CA]=i,o}function oF({layoutId:e}){const t=E.useContext(mc).id;return t&&e!==void 0?t+"-"+e:e}function aF(e){function t(r,i={}){return sF(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const lF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ry(e){return typeof e!="string"||e.includes("-")?!1:!!(lF.indexOf(e)>-1||/[A-Z]/.test(e))}const gc={};function uF(e){Object.assign(gc,e)}const gl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ki=new Set(gl);function RA(e,{layout:t,layoutId:n}){return Ki.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!gc[e]||e==="opacity")}const qt=e=>!!(e&&e.getVelocity),cF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hF=gl.length;function fF(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<hF;o++){const a=gl[o];if(e[a]!==void 0){const l=cF[a]||a;s+=`${l}(${e[a]}) `}}return t&&!e.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(e,r?"":s):n&&r&&(s="none"),s}const xA=e=>t=>typeof t=="string"&&t.startsWith(e),kA=xA("--"),Dp=xA("var(--"),dF=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,pF=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Yr=(e,t,n)=>Math.min(Math.max(n,e),t),Gi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ra={...Gi,transform:e=>Yr(0,1,e)},Yl={...Gi,default:1},ia=e=>Math.round(e*1e5)/1e5,Ah=/(-)?([\d]*\.?[\d])+/g,DA=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,mF=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function yl(e){return typeof e=="string"}const vl=e=>({test:t=>yl(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),_r=vl("deg"),zn=vl("%"),Q=vl("px"),gF=vl("vh"),yF=vl("vw"),V_={...zn,parse:e=>zn.parse(e)/100,transform:e=>zn.transform(e*100)},M_={...Gi,transform:Math.round},VA={borderWidth:Q,borderTopWidth:Q,borderRightWidth:Q,borderBottomWidth:Q,borderLeftWidth:Q,borderRadius:Q,radius:Q,borderTopLeftRadius:Q,borderTopRightRadius:Q,borderBottomRightRadius:Q,borderBottomLeftRadius:Q,width:Q,maxWidth:Q,height:Q,maxHeight:Q,size:Q,top:Q,right:Q,bottom:Q,left:Q,padding:Q,paddingTop:Q,paddingRight:Q,paddingBottom:Q,paddingLeft:Q,margin:Q,marginTop:Q,marginRight:Q,marginBottom:Q,marginLeft:Q,rotate:_r,rotateX:_r,rotateY:_r,rotateZ:_r,scale:Yl,scaleX:Yl,scaleY:Yl,scaleZ:Yl,skew:_r,skewX:_r,skewY:_r,distance:Q,translateX:Q,translateY:Q,translateZ:Q,x:Q,y:Q,z:Q,perspective:Q,transformPerspective:Q,opacity:ra,originX:V_,originY:V_,originZ:Q,zIndex:M_,fillOpacity:ra,strokeOpacity:ra,numOctaves:M_};function iy(e,t,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=e;let l=!1,u=!1,c=!0;for(const h in t){const f=t[h];if(kA(h)){s[h]=f;continue}const d=VA[h],g=pF(f,d);if(Ki.has(h)){if(l=!0,o[h]=g,!c)continue;f!==(d.default||0)&&(c=!1)}else h.startsWith("origin")?(u=!0,a[h]=g):i[h]=g}if(t.transform||(l||r?i.transform=fF(e.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:d=0}=a;i.transformOrigin=`${h} ${f} ${d}`}}const sy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function MA(e,t,n){for(const r in t)!qt(t[r])&&!RA(r,n)&&(e[r]=t[r])}function vF({transformTemplate:e},t,n){return E.useMemo(()=>{const r=sy();return iy(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function _F(e,t,n){const r=e.style||{},i={};return MA(i,r,e),Object.assign(i,vF(e,t,n)),e.transformValues?e.transformValues(i):i}function wF(e,t,n){const r={},i=_F(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const TF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function yc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||TF.has(e)}let LA=e=>!yc(e);function EF(e){e&&(LA=t=>t.startsWith("on")?!yc(t):e(t))}try{EF(require("@emotion/is-prop-valid").default)}catch{}function SF(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(LA(i)||n===!0&&yc(i)||!t&&!yc(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function L_(e,t,n){return typeof e=="string"?e:Q.transform(t+n*e)}function IF(e,t,n){const r=L_(t,e.x,e.width),i=L_(n,e.y,e.height);return`${r} ${i}`}const AF={offset:"stroke-dashoffset",array:"stroke-dasharray"},PF={offset:"strokeDashoffset",array:"strokeDasharray"};function CF(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?AF:PF;e[s.offset]=Q.transform(-r);const o=Q.transform(t),a=Q.transform(n);e[s.array]=`${o} ${a}`}function oy(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,h,f){if(iy(e,u,c,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:g,dimensions:_}=e;d.transform&&(_&&(g.transform=d.transform),delete d.transform),_&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=IF(_,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),o!==void 0&&CF(d,o,a,l,!1)}const NA=()=>({...sy(),attrs:{}}),ay=e=>typeof e=="string"&&e.toLowerCase()==="svg";function RF(e,t,n,r){const i=E.useMemo(()=>{const s=NA();return oy(s,t,{enableHardwareAcceleration:!1},ay(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};MA(s,e.style,e),i.style={...s,...i.style}}return i}function xF(e=!1){return(n,r,i,{latestValues:s},o)=>{const l=(ry(n)?RF:wF)(r,s,o,n),c={...SF(r,typeof n=="string",e),...l,ref:i},{children:h}=r,f=E.useMemo(()=>qt(h)?h.get():h,[h]);return E.createElement(n,{...c,children:f})}}const ly=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function OA(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const bA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function FA(e,t,n,r){OA(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(bA.has(i)?i:ly(i),t.attrs[i])}function uy(e,t){const{style:n}=e,r={};for(const i in n)(qt(n[i])||t.style&&qt(t.style[i])||RA(i,e))&&(r[i]=n[i]);return r}function $A(e,t){const n=uy(e,t);for(const r in e)if(qt(e[r])||qt(t[r])){const i=gl.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function cy(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function kF(e){const t=E.useRef(null);return t.current===null&&(t.current=e()),t.current}const vc=e=>Array.isArray(e),DF=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),VF=e=>vc(e)?e[e.length-1]||0:e;function _u(e){const t=qt(e)?e.get():e;return DF(t)?t.toValue():t}function MF({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,s){const o={latestValues:LF(r,i,s,e),renderState:t()};return n&&(o.mount=a=>n(r,a,o)),o}const jA=e=>(t,n)=>{const r=E.useContext(Th),i=E.useContext(Zg),s=()=>MF(e,t,r,i);return n?s():kF(s)};function LF(e,t,n,r){const i={},s=r(e,{});for(const f in s)i[f]=_u(s[f]);let{initial:o,animate:a}=e;const l=Ih(e),u=AA(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const h=c?a:o;return h&&typeof h!="boolean"&&!Sh(h)&&(Array.isArray(h)?h:[h]).forEach(d=>{const g=cy(e,d);if(!g)return;const{transitionEnd:_,transition:w,...p}=g;for(const m in p){let v=p[m];if(Array.isArray(v)){const y=c?v.length-1:0;v=v[y]}v!==null&&(i[m]=v)}for(const m in _)i[m]=_[m]}),i}const Fe=e=>e;class N_{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function NF(e){let t=new N_,n=new N_,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const h=c&&i,f=h?t:n;return u&&o.add(l),f.add(l)&&h&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const c=t.order[u];c(l),o.has(c)&&(a.schedule(c),e())}i=!1,s&&(s=!1,a.process(l))}};return a}const Xl=["prepare","read","update","preRender","render","postRender"],OF=40;function bF(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Xl.reduce((h,f)=>(h[f]=NF(()=>n=!0),h),{}),o=h=>s[h].process(i),a=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,OF),1),i.timestamp=h,i.isProcessing=!0,Xl.forEach(o),i.isProcessing=!1,n&&t&&(r=!1,e(a))},l=()=>{n=!0,r=!0,i.isProcessing||e(a)};return{schedule:Xl.reduce((h,f)=>{const d=s[f];return h[f]=(g,_=!1,w=!1)=>(n||l(),d.schedule(g,_,w)),h},{}),cancel:h=>Xl.forEach(f=>s[f].cancel(h)),state:i,steps:s}}const{schedule:Te,cancel:hr,state:rt,steps:bf}=bF(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fe,!0),FF={useVisualState:jA({scrapeMotionValuesFromProps:$A,createRenderState:NA,onMount:(e,t,{renderState:n,latestValues:r})=>{Te.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Te.render(()=>{oy(n,r,{enableHardwareAcceleration:!1},ay(t.tagName),e.transformTemplate),FA(t,n)})}})},$F={useVisualState:jA({scrapeMotionValuesFromProps:uy,createRenderState:sy})};function jF(e,{forwardMotionProps:t=!1},n,r){return{...ry(e)?FF:$F,preloadedFeatures:n,useRender:xF(t),createVisualElement:r,Component:e}}function Jn(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const BA=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Ph(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const BF=e=>t=>BA(t)&&e(t,Ph(t));function tr(e,t,n,r){return Jn(e,t,BF(n),r)}const UF=(e,t)=>n=>t(e(n)),Ur=(...e)=>e.reduce(UF);function UA(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const O_=UA("dragHorizontal"),b_=UA("dragVertical");function zA(e){let t=!1;if(e==="y")t=b_();else if(e==="x")t=O_();else{const n=O_(),r=b_();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function HA(){const e=zA(!0);return e?(e(),!1):!0}class si{constructor(t){this.isMounted=!1,this.node=t}update(){}}function F_(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||HA())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&Te.update(()=>a[r](s,o))};return tr(e.current,n,i,{passive:!e.getProps()[r]})}class zF extends si{mount(){this.unmount=Ur(F_(this.node,!0),F_(this.node,!1))}unmount(){}}class HF extends si{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ur(Jn(this.node.current,"focus",()=>this.onFocus()),Jn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const qA=(e,t)=>t?e===t?!0:qA(e,t.parentElement):!1;function Ff(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Ph(n))}class qF extends si{constructor(){super(...arguments),this.removeStartListeners=Fe,this.removeEndListeners=Fe,this.removeAccessibleListeners=Fe,this.startPointerPress=(t,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=tr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c}=this.node.getProps();Te.update(()=>{qA(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=tr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ur(s,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Ff("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&Te.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=Jn(this.node.current,"keyup",o),Ff("down",(a,l)=>{this.startPress(a,l)})},n=Jn(this.node.current,"keydown",t),r=()=>{this.isPressing&&Ff("cancel",(s,o)=>this.cancelPress(s,o))},i=Jn(this.node.current,"blur",r);this.removeAccessibleListeners=Ur(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Te.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!HA()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Te.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=tr(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Jn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ur(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Vp=new WeakMap,$f=new WeakMap,WF=e=>{const t=Vp.get(e.target);t&&t(e)},KF=e=>{e.forEach(WF)};function GF({root:e,...t}){const n=e||document;$f.has(n)||$f.set(n,{});const r=$f.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(KF,{root:e,...t})),r[i]}function QF(e,t,n){const r=GF(t);return Vp.set(e,n),r.observe(e),()=>{Vp.delete(e),r.unobserve(e)}}const YF={some:0,all:1};class XF extends si{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:YF[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),f=u?c:h;f&&f(l)};return QF(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(JF(t,n))&&this.startObserver()}unmount(){}}function JF({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const ZF={inView:{Feature:XF},tap:{Feature:qF},focus:{Feature:HF},hover:{Feature:zF}};function WA(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function e4(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function t4(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Ch(e,t,n){const r=e.getProps();return cy(r,t,n!==void 0?n:r.custom,e4(e),t4(e))}const n4="framerAppearId",r4="data-"+ly(n4);let i4=Fe,hy=Fe;const zr=e=>e*1e3,nr=e=>e/1e3,s4={current:!1},KA=e=>Array.isArray(e)&&typeof e[0]=="number";function GA(e){return!!(!e||typeof e=="string"&&QA[e]||KA(e)||Array.isArray(e)&&e.every(GA))}const $o=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,QA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$o([0,.65,.55,1]),circOut:$o([.55,0,1,.45]),backIn:$o([.31,.01,.66,-.59]),backOut:$o([.33,1.53,.69,.99])};function YA(e){if(e)return KA(e)?$o(e):Array.isArray(e)?e.map(YA):QA[e]}function o4(e,t,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=YA(a);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function a4(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const XA=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,l4=1e-7,u4=12;function c4(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=XA(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>l4&&++a<u4);return o}function _l(e,t,n,r){if(e===t&&n===r)return Fe;const i=s=>c4(s,0,1,e,n);return s=>s===0||s===1?s:XA(i(s),t,r)}const h4=_l(.42,0,1,1),f4=_l(0,0,.58,1),JA=_l(.42,0,.58,1),d4=e=>Array.isArray(e)&&typeof e[0]!="number",ZA=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,eP=e=>t=>1-e(1-t),tP=e=>1-Math.sin(Math.acos(e)),fy=eP(tP),p4=ZA(fy),nP=_l(.33,1.53,.69,.99),dy=eP(nP),m4=ZA(dy),g4=e=>(e*=2)<1?.5*dy(e):.5*(2-Math.pow(2,-10*(e-1))),y4={linear:Fe,easeIn:h4,easeInOut:JA,easeOut:f4,circIn:tP,circInOut:p4,circOut:fy,backIn:dy,backInOut:m4,backOut:nP,anticipate:g4},$_=e=>{if(Array.isArray(e)){hy(e.length===4);const[t,n,r,i]=e;return _l(t,n,r,i)}else if(typeof e=="string")return y4[e];return e},py=(e,t)=>n=>!!(yl(n)&&mF.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),rP=(e,t,n)=>r=>{if(!yl(r))return r;const[i,s,o,a]=r.match(Ah);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},v4=e=>Yr(0,255,e),jf={...Gi,transform:e=>Math.round(v4(e))},Ei={test:py("rgb","red"),parse:rP("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+jf.transform(e)+", "+jf.transform(t)+", "+jf.transform(n)+", "+ia(ra.transform(r))+")"};function _4(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Mp={test:py("#"),parse:_4,transform:Ei.transform},ys={test:py("hsl","hue"),parse:rP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+zn.transform(ia(t))+", "+zn.transform(ia(n))+", "+ia(ra.transform(r))+")"},Dt={test:e=>Ei.test(e)||Mp.test(e)||ys.test(e),parse:e=>Ei.test(e)?Ei.parse(e):ys.test(e)?ys.parse(e):Mp.parse(e),transform:e=>yl(e)?e:e.hasOwnProperty("red")?Ei.transform(e):ys.transform(e)},Ve=(e,t,n)=>-n*e+n*t+e;function Bf(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function w4({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=Bf(l,a,e+1/3),s=Bf(l,a,e),o=Bf(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Uf=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},T4=[Mp,Ei,ys],E4=e=>T4.find(t=>t.test(e));function j_(e){const t=E4(e);let n=t.parse(e);return t===ys&&(n=w4(n)),n}const iP=(e,t)=>{const n=j_(e),r=j_(t),i={...n};return s=>(i.red=Uf(n.red,r.red,s),i.green=Uf(n.green,r.green,s),i.blue=Uf(n.blue,r.blue,s),i.alpha=Ve(n.alpha,r.alpha,s),Ei.transform(i))};function S4(e){var t,n;return isNaN(e)&&yl(e)&&(((t=e.match(Ah))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(DA))===null||n===void 0?void 0:n.length)||0)>0}const sP={regex:dF,countKey:"Vars",token:"${v}",parse:Fe},oP={regex:DA,countKey:"Colors",token:"${c}",parse:Dt.parse},aP={regex:Ah,countKey:"Numbers",token:"${n}",parse:Gi.parse};function zf(e,{regex:t,countKey:n,token:r,parse:i}){const s=e.tokenised.match(t);s&&(e["num"+n]=s.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...s.map(i)))}function _c(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&zf(n,sP),zf(n,oP),zf(n,aP),n}function lP(e){return _c(e).values}function uP(e){const{values:t,numColors:n,numVars:r,tokenised:i}=_c(e),s=t.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(sP.token,o[l]):l<r+n?a=a.replace(oP.token,Dt.transform(o[l])):a=a.replace(aP.token,ia(o[l]));return a}}const I4=e=>typeof e=="number"?0:e;function A4(e){const t=lP(e);return uP(e)(t.map(I4))}const Xr={test:S4,parse:lP,createTransformer:uP,getAnimatableNone:A4},cP=(e,t)=>n=>`${n>0?t:e}`;function hP(e,t){return typeof e=="number"?n=>Ve(e,t,n):Dt.test(e)?iP(e,t):e.startsWith("var(")?cP(e,t):dP(e,t)}const fP=(e,t)=>{const n=[...e],r=n.length,i=e.map((s,o)=>hP(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},P4=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=hP(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},dP=(e,t)=>{const n=Xr.createTransformer(t),r=_c(e),i=_c(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Ur(fP(r.values,i.values),n):cP(e,t)},Ha=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},B_=(e,t)=>n=>Ve(e,t,n);function C4(e){return typeof e=="number"?B_:typeof e=="string"?Dt.test(e)?iP:dP:Array.isArray(e)?fP:typeof e=="object"?P4:B_}function R4(e,t,n){const r=[],i=n||C4(e[0]),s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Fe:t;a=Ur(l,a)}r.push(a)}return r}function pP(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(hy(s===t.length),s===1)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=R4(t,r,i),a=o.length,l=u=>{let c=0;if(a>1)for(;c<e.length-2&&!(u<e[c+1]);c++);const h=Ha(e[c],e[c+1],u);return o[c](h)};return n?u=>l(Yr(e[0],e[s-1],u)):l}function x4(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Ha(0,t,r);e.push(Ve(n,1,i))}}function k4(e){const t=[0];return x4(t,e.length-1),t}function D4(e,t){return e.map(n=>n*t)}function V4(e,t){return e.map(()=>t||JA).splice(0,e.length-1)}function wc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=d4(r)?r.map($_):$_(r),s={done:!1,value:t[0]},o=D4(n&&n.length===t.length?n:k4(t),e),a=pP(o,t,{ease:Array.isArray(i)?i:V4(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}function mP(e,t){return t?e*(1e3/t):0}const M4=5;function gP(e,t,n){const r=Math.max(t-M4,0);return mP(n-e(r),t-r)}const Hf=.001,L4=.01,U_=10,N4=.05,O4=1;function b4({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,s;i4(e<=zr(U_));let o=1-t;o=Yr(N4,O4,o),e=Yr(L4,U_,nr(e)),o<1?(i=u=>{const c=u*o,h=c*e,f=c-n,d=Lp(u,o),g=Math.exp(-h);return Hf-f/d*g},s=u=>{const h=u*o*e,f=h*n+n,d=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-h),_=Lp(Math.pow(u,2),o);return(-i(u)+Hf>0?-1:1)*((f-d)*g)/_}):(i=u=>{const c=Math.exp(-u*e),h=(u-n)*e+1;return-Hf+c*h},s=u=>{const c=Math.exp(-u*e),h=(n-u)*(e*e);return c*h});const a=5/e,l=$4(i,s,a);if(e=zr(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const F4=12;function $4(e,t,n){let r=n;for(let i=1;i<F4;i++)r=r-e(r)/t(r);return r}function Lp(e,t){return e*Math.sqrt(1-t*t)}const j4=["duration","bounce"],B4=["stiffness","damping","mass"];function z_(e,t){return t.some(n=>e[n]!==void 0)}function U4(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!z_(e,B4)&&z_(e,j4)){const n=b4(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}function yP({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],s=e[e.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,velocity:c,duration:h,isResolvedFromDuration:f}=U4(r),d=c?-nr(c):0,g=l/(2*Math.sqrt(a*u)),_=s-i,w=nr(Math.sqrt(a/u)),p=Math.abs(_)<5;n||(n=p?.01:2),t||(t=p?.005:.5);let m;if(g<1){const v=Lp(w,g);m=y=>{const S=Math.exp(-g*w*y);return s-S*((d+g*w*_)/v*Math.sin(v*y)+_*Math.cos(v*y))}}else if(g===1)m=v=>s-Math.exp(-w*v)*(_+(d+w*_)*v);else{const v=w*Math.sqrt(g*g-1);m=y=>{const S=Math.exp(-g*w*y),x=Math.min(v*y,300);return s-S*((d+g*w*_)*Math.sinh(x)+v*_*Math.cosh(x))/v}}return{calculatedDuration:f&&h||null,next:v=>{const y=m(v);if(f)o.done=v>=h;else{let S=d;v!==0&&(g<1?S=gP(m,v,y):S=0);const x=Math.abs(S)<=n,A=Math.abs(s-y)<=t;o.done=x&&A}return o.value=o.done?s:y,o}}}function H_({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=e[0],f={done:!1,value:h},d=P=>a!==void 0&&P<a||l!==void 0&&P>l,g=P=>a===void 0?l:l===void 0||Math.abs(a-P)<Math.abs(l-P)?a:l;let _=n*t;const w=h+_,p=o===void 0?w:o(w);p!==w&&(_=p-h);const m=P=>-_*Math.exp(-P/r),v=P=>p+m(P),y=P=>{const N=m(P),$=v(P);f.done=Math.abs(N)<=u,f.value=f.done?p:$};let S,x;const A=P=>{d(f.value)&&(S=P,x=yP({keyframes:[f.value,g(f.value)],velocity:gP(v,P,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return A(0),{calculatedDuration:null,next:P=>{let N=!1;return!x&&S===void 0&&(N=!0,y(P),A(P)),S!==void 0&&P>S?x.next(P-S):(!N&&y(P),f)}}}const z4=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Te.update(t,!0),stop:()=>hr(t),now:()=>rt.isProcessing?rt.timestamp:performance.now()}},q_=2e4;function W_(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<q_;)t+=n,r=e.next(t);return t>=q_?1/0:t}const H4={decay:H_,inertia:H_,tween:wc,keyframes:wc,spring:yP};function Tc({autoplay:e=!0,delay:t=0,driver:n=z4,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:h,...f}){let d=1,g=!1,_,w;const p=()=>{w=new Promise(q=>{_=q})};p();let m;const v=H4[i]||wc;let y;v!==wc&&typeof r[0]!="number"&&(y=pP([0,100],r,{clamp:!1}),r=[0,100]);const S=v({...f,keyframes:r});let x;a==="mirror"&&(x=v({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let A="idle",P=null,N=null,$=null;S.calculatedDuration===null&&s&&(S.calculatedDuration=W_(S));const{calculatedDuration:ue}=S;let Ce=1/0,Xe=1/0;ue!==null&&(Ce=ue+o,Xe=Ce*(s+1)-o);let _e=0;const ee=q=>{if(N===null)return;d>0&&(N=Math.min(N,q)),d<0&&(N=Math.min(q-Xe/d,N)),P!==null?_e=P:_e=Math.round(q-N)*d;const fe=_e-t*(d>=0?1:-1),xt=d>=0?fe<0:fe>Xe;_e=Math.max(fe,0),A==="finished"&&P===null&&(_e=Xe);let nt=_e,Pn=S;if(s){const Re=_e/Ce;let Cn=Math.floor(Re),Rn=Re%1;!Rn&&Re>=1&&(Rn=1),Rn===1&&Cn--,Cn=Math.min(Cn,s+1);const wl=!!(Cn%2);wl&&(a==="reverse"?(Rn=1-Rn,o&&(Rn-=o/Ce)):a==="mirror"&&(Pn=x));let xn=Yr(0,1,Rn);_e>Xe&&(xn=a==="reverse"&&wl?1:0),nt=xn*Ce}const kt=xt?{done:!1,value:r[0]}:Pn.next(nt);y&&(kt.value=y(kt.value));let{done:qn}=kt;!xt&&ue!==null&&(qn=d>=0?_e>=Xe:_e<=0);const Rh=P===null&&(A==="finished"||A==="running"&&qn);return h&&h(kt.value),Rh&&M(),kt},ut=()=>{m&&m.stop(),m=void 0},vt=()=>{A="idle",ut(),_(),p(),N=$=null},M=()=>{A="finished",c&&c(),ut(),_()},B=()=>{if(g)return;m||(m=n(ee));const q=m.now();l&&l(),P!==null?N=q-P:(!N||A==="finished")&&(N=q),A==="finished"&&p(),$=N,P=null,A="running",m.start()};e&&B();const Y={then(q,fe){return w.then(q,fe)},get time(){return nr(_e)},set time(q){q=zr(q),_e=q,P!==null||!m||d===0?P=q:N=m.now()-q/d},get duration(){const q=S.calculatedDuration===null?W_(S):S.calculatedDuration;return nr(q)},get speed(){return d},set speed(q){q===d||!m||(d=q,Y.time=nr(_e))},get state(){return A},play:B,pause:()=>{A="paused",P=_e},stop:()=>{g=!0,A!=="idle"&&(A="idle",u&&u(),vt())},cancel:()=>{$!==null&&ee($),vt()},complete:()=>{A="finished"},sample:q=>(N=0,ee(q))};return Y}function q4(e){let t;return()=>(t===void 0&&(t=e()),t)}const W4=q4(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),K4=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Jl=10,G4=2e4,Q4=(e,t)=>t.type==="spring"||e==="backgroundColor"||!GA(t.ease);function Y4(e,t,{onUpdate:n,onComplete:r,...i}){if(!(W4()&&K4.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const u=()=>{l=new Promise(m=>{a=m})};u();let{keyframes:c,duration:h=300,ease:f,times:d}=i;if(Q4(t,i)){const m=Tc({...i,repeat:0,delay:0});let v={done:!1,value:c[0]};const y=[];let S=0;for(;!v.done&&S<G4;)v=m.sample(S),y.push(v.value),S+=Jl;d=void 0,c=y,h=S-Jl,f="linear"}const g=o4(e.owner.current,t,c,{...i,duration:h,ease:f,times:d});i.syncStart&&(g.startTime=rt.isProcessing?rt.timestamp:document.timeline?document.timeline.currentTime:performance.now());const _=()=>g.cancel(),w=()=>{Te.update(_),a(),u()};return g.onfinish=()=>{e.set(a4(c,i)),r&&r(),w()},{then(m,v){return l.then(m,v)},attachTimeline(m){return g.timeline=m,g.onfinish=null,Fe},get time(){return nr(g.currentTime||0)},set time(m){g.currentTime=zr(m)},get speed(){return g.playbackRate},set speed(m){g.playbackRate=m},get duration(){return nr(h)},play:()=>{o||(g.play(),hr(_))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:m}=g;if(m){const v=Tc({...i,autoplay:!1});e.setWithVelocity(v.sample(m-Jl).value,v.sample(m).value,Jl)}w()},complete:()=>g.finish(),cancel:w}}function X4({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Fe,pause:Fe,stop:Fe,then:s=>(s(),Promise.resolve()),cancel:Fe,complete:Fe});return t?Tc({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const J4={type:"spring",stiffness:500,damping:25,restSpeed:10},Z4=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),e$={type:"keyframes",duration:.8},t$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},n$=(e,{keyframes:t})=>t.length>2?e$:Ki.has(e)?e.startsWith("scale")?Z4(t[1]):J4:t$,Np=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Xr.test(t)||t==="0")&&!t.startsWith("url(")),r$=new Set(["brightness","contrast","saturate","opacity"]);function i$(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Ah)||[];if(!r)return e;const i=n.replace(r,"");let s=r$.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const s$=/([a-z-]*)\(.*?\)/g,Op={...Xr,getAnimatableNone:e=>{const t=e.match(s$);return t?t.map(i$).join(" "):e}},o$={...VA,color:Dt,backgroundColor:Dt,outlineColor:Dt,fill:Dt,stroke:Dt,borderColor:Dt,borderTopColor:Dt,borderRightColor:Dt,borderBottomColor:Dt,borderLeftColor:Dt,filter:Op,WebkitFilter:Op},my=e=>o$[e];function vP(e,t){let n=my(e);return n!==Op&&(n=Xr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const _P=e=>/^0[^.\s]+$/.test(e);function a$(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||_P(e)}function l$(e,t,n,r){const i=Np(t,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:e.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),a$(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const c=l[u];s[c]=vP(t,a)}return s}function u$({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function wP(e,t){return e[t]||e.default||e}const gy=(e,t,n,r={})=>i=>{const s=wP(r,e)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-zr(o);const l=l$(t,e,n,s),u=l[0],c=l[l.length-1],h=Np(e,u),f=Np(e,c);let d={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:g=>{t.set(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(u$(s)||(d={...d,...n$(e,d)}),d.duration&&(d.duration=zr(d.duration)),d.repeatDelay&&(d.repeatDelay=zr(d.repeatDelay)),!h||!f||s4.current||s.type===!1)return X4(d);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const g=Y4(t,e,d);if(g)return g}return Tc(d)};function Ec(e){return!!(qt(e)&&e.add)}const TP=e=>/^\-?\d*\.?\d+$/.test(e);function yy(e,t){e.indexOf(t)===-1&&e.push(t)}function vy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class _y{constructor(){this.subscriptions=[]}add(t){return yy(this.subscriptions,t),()=>vy(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const c$=e=>!isNaN(parseFloat(e));class h${constructor(t,n={}){this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=rt;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Te.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Te.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=c$(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new _y);const r=this.events[t].add(n);return t==="change"?()=>{r(),Te.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?mP(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ws(e,t){return new h$(e,t)}const EP=e=>t=>t.test(e),f$={test:e=>e==="auto",parse:e=>e},SP=[Gi,Q,zn,_r,yF,gF,f$],Co=e=>SP.find(EP(e)),d$=[...SP,Dt,Xr],p$=e=>d$.find(EP(e));function m$(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ws(n))}function g$(e,t){const n=Ch(e,t);let{transitionEnd:r={},transition:i={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=VF(s[o]);m$(e,o,a)}}function y$(e,t,n){var r,i;const s=Object.keys(t).filter(a=>!e.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=t[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),c!=null&&(typeof c=="string"&&(TP(c)||_P(c))?c=parseFloat(c):!p$(c)&&Xr.test(u)&&(c=vP(l,u)),e.addValue(l,Ws(c,{owner:e})),n[l]===void 0&&(n[l]=c),c!==null&&e.setBaseTarget(l,c))}}function v$(e,t){return t?(t[e]||t.default||t).from:void 0}function _$(e,t,n){const r={};for(const i in e){const s=v$(i,t);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function w$({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function IP(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(s=r);const u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const h in a){const f=e.getValue(h),d=a[h];if(!f||d===void 0||c&&w$(c,h))continue;const g={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!f.hasAnimated){const w=e.getProps()[r4];w&&(g.elapsed=window.HandoffAppearAnimations(w,h,f,Te),g.syncStart=!0)}f.start(gy(h,f,d,e.shouldReduceMotion&&Ki.has(h)?{type:!1}:g));const _=f.animation;Ec(l)&&(l.add(h),_.then(()=>l.remove(h))),u.push(_)}return o&&Promise.all(u).then(()=>{o&&g$(e,o)}),u}function bp(e,t,n={}){const r=Ch(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(IP(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:h}=i;return T$(e,t,u+l,c,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function T$(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(E$).forEach((u,c)=>{u.notify("AnimationStart",t),o.push(bp(u,t,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function E$(e,t){return e.sortNodePosition(t)}function S$(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>bp(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=bp(e,t,n);else{const i=typeof t=="function"?Ch(e,t,n.custom):t;r=Promise.all(IP(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const I$=[...ty].reverse(),A$=ty.length;function P$(e){return t=>Promise.all(t.map(({animation:n,options:r})=>S$(e,n,r)))}function C$(e){let t=P$(e);const n=x$();let r=!0;const i=(l,u)=>{const c=Ch(e,u);if(c){const{transition:h,transitionEnd:f,...d}=c;l={...l,...d,...f}}return l};function s(l){t=l(e)}function o(l,u){const c=e.getProps(),h=e.getVariantContext(!0)||{},f=[],d=new Set;let g={},_=1/0;for(let p=0;p<A$;p++){const m=I$[p],v=n[m],y=c[m]!==void 0?c[m]:h[m],S=Ua(y),x=m===u?v.isActive:null;x===!1&&(_=p);let A=y===h[m]&&y!==c[m]&&S;if(A&&r&&e.manuallyAnimateOnMount&&(A=!1),v.protectedKeys={...g},!v.isActive&&x===null||!y&&!v.prevProp||Sh(y)||typeof y=="boolean")continue;const P=R$(v.prevProp,y);let N=P||m===u&&v.isActive&&!A&&S||p>_&&S;const $=Array.isArray(y)?y:[y];let ue=$.reduce(i,{});x===!1&&(ue={});const{prevResolvedValues:Ce={}}=v,Xe={...Ce,...ue},_e=ee=>{N=!0,d.delete(ee),v.needsAnimating[ee]=!0};for(const ee in Xe){const ut=ue[ee],vt=Ce[ee];g.hasOwnProperty(ee)||(ut!==vt?vc(ut)&&vc(vt)?!WA(ut,vt)||P?_e(ee):v.protectedKeys[ee]=!0:ut!==void 0?_e(ee):d.add(ee):ut!==void 0&&d.has(ee)?_e(ee):v.protectedKeys[ee]=!0)}v.prevProp=y,v.prevResolvedValues=ue,v.isActive&&(g={...g,...ue}),r&&e.blockInitialAnimation&&(N=!1),N&&!A&&f.push(...$.map(ee=>({animation:ee,options:{type:m,...l}})))}if(d.size){const p={};d.forEach(m=>{const v=e.getBaseTarget(m);v!==void 0&&(p[m]=v)}),f.push({animation:p})}let w=!!f.length;return r&&c.initial===!1&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(f):Promise.resolve()}function a(l,u,c){var h;if(n[l].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(d=>{var g;return(g=d.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),n[l].isActive=u;const f=o(c,l);for(const d in n)n[d].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function R$(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!WA(t,e):!1}function li(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function x$(){return{animate:li(!0),whileInView:li(),whileHover:li(),whileTap:li(),whileDrag:li(),whileFocus:li(),exit:li()}}class k$ extends si{constructor(t){super(t),t.animationState||(t.animationState=C$(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Sh(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let D$=0;class V$ extends si{constructor(){super(...arguments),this.id=D$++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const M$={animation:{Feature:k$},exit:{Feature:V$}},K_=(e,t)=>Math.abs(e-t);function L$(e,t){const n=K_(e.x,t.x),r=K_(e.y,t.y);return Math.sqrt(n**2+r**2)}class AP{constructor(t,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=Wf(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,h=L$(u.offset,{x:0,y:0})>=3;if(!c&&!h)return;const{point:f}=u,{timestamp:d}=rt;this.history.push({...f,timestamp:d});const{onStart:g,onMove:_}=this.handlers;c||(g&&g(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,u)},this.handlePointerMove=(u,c)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=qf(c,this.transformPagePoint),Te.update(this.updatePoint,!0)},this.handlePointerUp=(u,c)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:f}=this.handlers,d=Wf(u.type==="pointercancel"?this.lastMoveEventInfo:qf(c,this.transformPagePoint),this.history);this.startEvent&&h&&h(u,d),f&&f(u,d)},!BA(t))return;this.handlers=n,this.transformPagePoint=r;const i=Ph(t),s=qf(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=rt;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(t,Wf(s,this.history)),this.removeListeners=Ur(tr(window,"pointermove",this.handlePointerMove),tr(window,"pointerup",this.handlePointerUp),tr(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),hr(this.updatePoint)}}function qf(e,t){return t?{point:t(e.point)}:e}function G_(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Wf({point:e},t){return{point:e,delta:G_(e,PP(t)),offset:G_(e,N$(t)),velocity:O$(t,.1)}}function N$(e){return e[0]}function PP(e){return e[e.length-1]}function O$(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=PP(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>zr(t)));)n--;if(!r)return{x:0,y:0};const s=nr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Zt(e){return e.max-e.min}function Fp(e,t=0,n=.01){return Math.abs(e-t)<=n}function Q_(e,t,n,r=.5){e.origin=r,e.originPoint=Ve(t.min,t.max,e.origin),e.scale=Zt(n)/Zt(t),(Fp(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Ve(n.min,n.max,e.origin)-e.originPoint,(Fp(e.translate)||isNaN(e.translate))&&(e.translate=0)}function sa(e,t,n,r){Q_(e.x,t.x,n.x,r?r.originX:void 0),Q_(e.y,t.y,n.y,r?r.originY:void 0)}function Y_(e,t,n){e.min=n.min+t.min,e.max=e.min+Zt(t)}function b$(e,t,n){Y_(e.x,t.x,n.x),Y_(e.y,t.y,n.y)}function X_(e,t,n){e.min=t.min-n.min,e.max=e.min+Zt(t)}function oa(e,t,n){X_(e.x,t.x,n.x),X_(e.y,t.y,n.y)}function F$(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ve(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ve(n,e,r.max):Math.min(e,n)),e}function J_(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function $$(e,{top:t,left:n,bottom:r,right:i}){return{x:J_(e.x,n,i),y:J_(e.y,t,r)}}function Z_(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function j$(e,t){return{x:Z_(e.x,t.x),y:Z_(e.y,t.y)}}function B$(e,t){let n=.5;const r=Zt(e),i=Zt(t);return i>r?n=Ha(t.min,t.max-r,e.min):r>i&&(n=Ha(e.min,e.max-i,t.min)),Yr(0,1,n)}function U$(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const $p=.35;function z$(e=$p){return e===!1?e=0:e===!0&&(e=$p),{x:ew(e,"left","right"),y:ew(e,"top","bottom")}}function ew(e,t,n){return{min:tw(e,t),max:tw(e,n)}}function tw(e,t){return typeof e=="number"?e:e[t]||0}const nw=()=>({translate:0,scale:1,origin:0,originPoint:0}),vs=()=>({x:nw(),y:nw()}),rw=()=>({min:0,max:0}),We=()=>({x:rw(),y:rw()});function Vn(e){return[e("x"),e("y")]}function CP({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function H$({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function q$(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Kf(e){return e===void 0||e===1}function jp({scale:e,scaleX:t,scaleY:n}){return!Kf(e)||!Kf(t)||!Kf(n)}function fi(e){return jp(e)||RP(e)||e.z||e.rotate||e.rotateX||e.rotateY}function RP(e){return iw(e.x)||iw(e.y)}function iw(e){return e&&e!=="0%"}function Sc(e,t,n){const r=e-n,i=t*r;return n+i}function sw(e,t,n,r,i){return i!==void 0&&(e=Sc(e,i,r)),Sc(e,n,r)+t}function Bp(e,t=0,n=1,r,i){e.min=sw(e.min,t,n,r,i),e.max=sw(e.max,t,n,r,i)}function xP(e,{x:t,y:n}){Bp(e.x,t.translate,t.scale,t.originPoint),Bp(e.y,n.translate,n.scale,n.originPoint)}function W$(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&_s(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,xP(e,o)),r&&fi(s.latestValues)&&_s(e,s.latestValues))}t.x=ow(t.x),t.y=ow(t.y)}function ow(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Er(e,t){e.min=e.min+t,e.max=e.max+t}function aw(e,t,[n,r,i]){const s=t[i]!==void 0?t[i]:.5,o=Ve(e.min,e.max,s);Bp(e,t[n],t[r],o,t.scale)}const K$=["x","scaleX","originX"],G$=["y","scaleY","originY"];function _s(e,t){aw(e.x,t,K$),aw(e.y,t,G$)}function kP(e,t){return CP(q$(e.getBoundingClientRect(),t))}function Q$(e,t,n){const r=kP(e,n),{scroll:i}=t;return i&&(Er(r.x,i.offset.x),Er(r.y,i.offset.y)),r}const Y$=new WeakMap;class X${constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=We(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),n&&this.snapToCursor(Ph(l,"page").point)},s=(l,u)=>{const{drag:c,dragPropagation:h,onDragStart:f}=this.getProps();if(c&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=zA(c),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vn(g=>{let _=this.getAxisMotionValue(g).get()||0;if(zn.test(_)){const{projection:w}=this.visualElement;if(w&&w.layout){const p=w.layout.layoutBox[g];p&&(_=Zt(p)*(parseFloat(_)/100))}}this.originPoint[g]=_}),f&&Te.update(()=>f(l,u),!1,!0);const{animationState:d}=this.visualElement;d&&d.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:c,dragDirectionLock:h,onDirectionLock:f,onDrag:d}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:g}=u;if(h&&this.currentDirection===null){this.currentDirection=J$(g),this.currentDirection!==null&&f&&f(this.currentDirection);return}this.updateAxis("x",u.point,g),this.updateAxis("y",u.point,g),this.visualElement.render(),d&&d(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new AP(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Te.update(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Zl(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=F$(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;t&&gs(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=$$(r.layoutBox,t):this.constraints=!1,this.elastic=z$(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Vn(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=U$(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!gs(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Q$(r,i.root,this.visualElement.getTransformPagePoint());let o=j$(i.layout.layoutBox,s);if(n){const a=n(H$(o));this.hasMutatedConstraints=!!a,a&&(o=CP(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Vn(c=>{if(!Zl(c,n,this.currentDirection))return;let h=l&&l[c]||{};o&&(h={min:0,max:0});const f=i?200:1e6,d=i?40:1e7,g={type:"inertia",velocity:r?t[c]:0,bounceStiffness:f,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(gy(t,r,0,n))}stopAnimation(){Vn(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Vn(n=>{const{drag:r}=this.getProps();if(!Zl(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-Ve(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!gs(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Vn(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=B$({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Vn(o=>{if(!Zl(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Ve(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;Y$.set(this.visualElement,this);const t=this.visualElement.current,n=tr(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();gs(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Jn(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Vn(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=$p,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Zl(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function J$(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Z$ extends si{constructor(t){super(t),this.removeGroupControls=Fe,this.removeListeners=Fe,this.controls=new X$(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fe}unmount(){this.removeGroupControls(),this.removeListeners()}}const lw=e=>(t,n)=>{e&&Te.update(()=>e(t,n))};class ej extends si{constructor(){super(...arguments),this.removePointerDownListener=Fe}onPointerDown(t){this.session=new AP(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:lw(t),onStart:lw(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Te.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=tr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function tj(){const e=E.useContext(Zg);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=E.useId();return E.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const wu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function uw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ro={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Q.test(e))e=parseFloat(e);else return e;const n=uw(e,t.target.x),r=uw(e,t.target.y);return`${n}% ${r}%`}},nj={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Xr.parse(e);if(i.length>5)return r;const s=Xr.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const u=Ve(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class rj extends et.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;uF(ij),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),wu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Te.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function DP(e){const[t,n]=tj(),r=E.useContext(mc);return et.createElement(rj,{...e,layoutGroup:r,switchLayoutGroup:E.useContext(PA),isPresent:t,safeToRemove:n})}const ij={borderRadius:{...Ro,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ro,borderTopRightRadius:Ro,borderBottomLeftRadius:Ro,borderBottomRightRadius:Ro,boxShadow:nj},VP=["TopLeft","TopRight","BottomLeft","BottomRight"],sj=VP.length,cw=e=>typeof e=="string"?parseFloat(e):e,hw=e=>typeof e=="number"||Q.test(e);function oj(e,t,n,r,i,s){i?(e.opacity=Ve(0,n.opacity!==void 0?n.opacity:1,aj(r)),e.opacityExit=Ve(t.opacity!==void 0?t.opacity:1,0,lj(r))):s&&(e.opacity=Ve(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<sj;o++){const a=`border${VP[o]}Radius`;let l=fw(t,a),u=fw(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||hw(l)===hw(u)?(e[a]=Math.max(Ve(cw(l),cw(u),r),0),(zn.test(u)||zn.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Ve(t.rotate||0,n.rotate||0,r))}function fw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const aj=MP(0,.5,fy),lj=MP(.5,.95,Fe);function MP(e,t,n){return r=>r<e?0:r>t?1:n(Ha(e,t,r))}function dw(e,t){e.min=t.min,e.max=t.max}function rn(e,t){dw(e.x,t.x),dw(e.y,t.y)}function pw(e,t,n,r,i){return e-=t,e=Sc(e,1/n,r),i!==void 0&&(e=Sc(e,1/i,r)),e}function uj(e,t=0,n=1,r=.5,i,s=e,o=e){if(zn.test(t)&&(t=parseFloat(t),t=Ve(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Ve(s.min,s.max,r);e===s&&(a-=t),e.min=pw(e.min,t,n,a,i),e.max=pw(e.max,t,n,a,i)}function mw(e,t,[n,r,i],s,o){uj(e,t[n],t[r],t[i],t.scale,s,o)}const cj=["x","scaleX","originX"],hj=["y","scaleY","originY"];function gw(e,t,n,r){mw(e.x,t,cj,n?n.x:void 0,r?r.x:void 0),mw(e.y,t,hj,n?n.y:void 0,r?r.y:void 0)}function yw(e){return e.translate===0&&e.scale===1}function LP(e){return yw(e.x)&&yw(e.y)}function fj(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function NP(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function vw(e){return Zt(e.x)/Zt(e.y)}class dj{constructor(){this.members=[]}add(t){yy(this.members,t),t.scheduleRender()}remove(t){if(vy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _w(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const pj=(e,t)=>e.depth-t.depth;class mj{constructor(){this.children=[],this.isDirty=!1}add(t){yy(this.children,t),this.isDirty=!0}remove(t){vy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(pj),this.isDirty=!1,this.children.forEach(t)}}function gj(e,t){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(hr(r),e(s-t))};return Te.read(r,!0),()=>hr(r)}function yj(e){window.MotionDebug&&window.MotionDebug.record(e)}function vj(e){return e instanceof SVGElement&&e.tagName!=="svg"}function _j(e,t,n){const r=qt(e)?e:Ws(e);return r.start(gy("",r,t,n)),r.animation}const ww=["","X","Y","Z"],Tw=1e3;let wj=0;const di={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function OP({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=wj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{di.totalNodes=di.resolvedTargetDeltas=di.recalculatedProjection=0,this.nodes.forEach(Sj),this.nodes.forEach(Rj),this.nodes.forEach(xj),this.nodes.forEach(Ij),yj(di)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new mj)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new _y),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=vj(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=gj(f,250),wu.hasAnimatedSinceResize&&(wu.hasAnimatedSinceResize=!1,this.nodes.forEach(Sw))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:d,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||c.getDefaultTransition()||Lj,{onLayoutAnimationStart:w,onLayoutAnimationComplete:p}=c.getProps(),m=!this.targetLayout||!NP(this.targetLayout,g)||d,v=!f&&d;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||f&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,v);const y={...wP(_,"layout"),onPlay:w,onComplete:p};(c.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y)}else f||Sw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,hr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kj),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ew);return}this.isUpdating||this.nodes.forEach(Pj),this.isUpdating=!1,this.nodes.forEach(Cj),this.nodes.forEach(Tj),this.nodes.forEach(Ej),this.clearAllSnapshots();const a=performance.now();rt.delta=Yr(0,1e3/60,a-rt.timestamp),rt.timestamp=a,rt.isProcessing=!0,bf.update.process(rt),bf.preRender.process(rt),bf.render.process(rt),rt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Aj),this.sharedNodes.forEach(Dj)}scheduleUpdateProjection(){Te.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Te.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=We(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!LP(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||fi(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Nj(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return We();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Er(a.x,l.offset.x),Er(a.y,l.offset.y)),a}removeElementScroll(o){const a=We();rn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:h}=u;if(u!==this.root&&c&&h.layoutScroll){if(c.isRoot){rn(a,o);const{scroll:f}=this.root;f&&(Er(a.x,-f.offset.x),Er(a.y,-f.offset.y))}Er(a.x,c.offset.x),Er(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=We();rn(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&_s(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),fi(c.latestValues)&&_s(l,c.latestValues)}return fi(this.latestValues)&&_s(l,this.latestValues),l}removeTransform(o){const a=We();rn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!fi(u.latestValues))continue;jp(u.latestValues)&&u.updateSnapshot();const c=We(),h=u.measurePageBox();rn(c,h),gw(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return fi(this.latestValues)&&gw(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=rt.timestamp,!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=We(),this.relativeTargetOrigin=We(),oa(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),rn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=We(),this.targetWithTransforms=We()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),b$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rn(this.target,this.layout.layoutBox),xP(this.target,this.targetDelta)):rn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=We(),this.relativeTargetOrigin=We(),oa(this.relativeTargetOrigin,this.target,d.target),rn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}di.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||jp(this.parent.latestValues)||RP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===rt.timestamp&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;rn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,d=this.treeScale.y;W$(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:g}=a;if(!g){this.projectionTransform&&(this.projectionDelta=vs(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=vs(),this.projectionDeltaWithTransform=vs());const _=this.projectionTransform;sa(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=_w(this.projectionDelta,this.treeScale),(this.projectionTransform!==_||this.treeScale.x!==f||this.treeScale.y!==d)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),di.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=vs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=We(),d=l?l.source:void 0,g=this.layout?this.layout.source:void 0,_=d!==g,w=this.getStack(),p=!w||w.members.length<=1,m=!!(_&&!p&&this.options.crossfade===!0&&!this.path.some(Mj));this.animationProgress=0;let v;this.mixTargetDelta=y=>{const S=y/1e3;Iw(h.x,o.x,S),Iw(h.y,o.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(oa(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Vj(this.relativeTarget,this.relativeTargetOrigin,f,S),v&&fj(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=We()),rn(v,this.relativeTarget)),_&&(this.animationValues=c,oj(c,u,this.latestValues,S,m,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(hr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Te.update(()=>{wu.hasAnimatedSinceResize=!0,this.currentAnimation=_j(0,Tw,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Tw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&bP(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||We();const h=Zt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Zt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}rn(a,l),_s(a,c),sa(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new dj),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<ww.length;c++){const h="rotate"+ww[c];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=_u(o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=_u(o.pointerEvents)||""),this.hasProjected&&!fi(this.latestValues)&&(_.transform=c?c({},""):"none",this.hasProjected=!1),_}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=_w(this.projectionDeltaWithTransform,this.treeScale,f),c&&(u.transform=c(f,u.transform));const{x:d,y:g}=this.projectionDelta;u.transformOrigin=`${d.origin*100}% ${g.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const _ in gc){if(f[_]===void 0)continue;const{correct:w,applyTo:p}=gc[_],m=u.transform==="none"?f[_]:w(f[_],h);if(p){const v=p.length;for(let y=0;y<v;y++)u[p[y]]=m}else u[_]=m}return this.options.layoutId&&(u.pointerEvents=h===this?_u(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Ew),this.root.sharedNodes.clear()}}}function Tj(e){e.updateLayout()}function Ej(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?Vn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],d=Zt(f);f.min=r[h].min,f.max=f.min+d}):bP(s,n.layoutBox,r)&&Vn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],d=Zt(r[h]);f.max=f.min+d,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+d)});const a=vs();sa(a,r,n.layoutBox);const l=vs();o?sa(l,e.applyTransform(i,!0),n.measuredBox):sa(l,r,n.layoutBox);const u=!LP(a);let c=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:d}=h;if(f&&d){const g=We();oa(g,n.layoutBox,f.layoutBox);const _=We();oa(_,r,d.layoutBox),NP(g,_)||(c=!0),h.options.layoutRoot&&(e.relativeTarget=_,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Sj(e){di.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Ij(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Aj(e){e.clearSnapshot()}function Ew(e){e.clearMeasurements()}function Pj(e){e.isLayoutDirty=!1}function Cj(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Sw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Rj(e){e.resolveTargetDelta()}function xj(e){e.calcProjection()}function kj(e){e.resetRotation()}function Dj(e){e.removeLeadSnapshot()}function Iw(e,t,n){e.translate=Ve(t.translate,0,n),e.scale=Ve(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Aw(e,t,n,r){e.min=Ve(t.min,n.min,r),e.max=Ve(t.max,n.max,r)}function Vj(e,t,n,r){Aw(e.x,t.x,n.x,r),Aw(e.y,t.y,n.y,r)}function Mj(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Lj={duration:.45,ease:[.4,0,.1,1]},Pw=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Cw=Pw("applewebkit/")&&!Pw("chrome/")?Math.round:Fe;function Rw(e){e.min=Cw(e.min),e.max=Cw(e.max)}function Nj(e){Rw(e.x),Rw(e.y)}function bP(e,t,n){return e==="position"||e==="preserve-aspect"&&!Fp(vw(t),vw(n),.2)}const Oj=OP({attachResizeListener:(e,t)=>Jn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gf={current:void 0},FP=OP({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Gf.current){const e=new Oj({});e.mount(window),e.setOptions({layoutScroll:!0}),Gf.current=e}return Gf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),bj={pan:{Feature:ej},drag:{Feature:Z$,ProjectionNode:FP,MeasureLayout:DP}},Fj=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function $j(e){const t=Fj.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Up(e,t,n=1){const[r,i]=$j(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return TP(o)?parseFloat(o):o}else return Dp(i)?Up(i,t,n+1):i}function jj(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const s=i.get();if(!Dp(s))return;const o=Up(s,r);o&&i.set(o)});for(const i in t){const s=t[i];if(!Dp(s))continue;const o=Up(s,r);o&&(t[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:t,transitionEnd:n}}const Bj=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),$P=e=>Bj.has(e),Uj=e=>Object.keys(e).some($P),xw=e=>e===Gi||e===Q,kw=(e,t)=>parseFloat(e.split(", ")[t]),Dw=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return kw(i[1],t);{const s=r.match(/^matrix\((.+)\)$/);return s?kw(s[1],e):0}},zj=new Set(["x","y","z"]),Hj=gl.filter(e=>!zj.has(e));function qj(e){const t=[];return Hj.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Ks={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Dw(4,13),y:Dw(5,14)};Ks.translateX=Ks.x;Ks.translateY=Ks.y;const Wj=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=Ks[u](r,s)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const c=t.getValue(u);c&&c.jump(a[u]),e[u]=Ks[u](l,s)}),e},Kj=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter($P);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let c=n[l],h=Co(c);const f=t[l];let d;if(vc(f)){const g=f.length,_=f[0]===null?1:0;c=f[_],h=Co(c);for(let w=_;w<g&&f[w]!==null;w++)d?hy(Co(f[w])===d):d=Co(f[w])}else d=Co(f);if(h!==d)if(xw(h)&&xw(d)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof f=="string"?t[l]=parseFloat(f):Array.isArray(f)&&d===Q&&(t[l]=f.map(parseFloat))}else h!=null&&h.transform&&(d!=null&&d.transform)&&(c===0||f===0)?c===0?u.set(d.transform(c)):t[l]=h.transform(f):(o||(s=qj(e),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=Wj(t,e,a);return s.length&&s.forEach(([c,h])=>{e.getValue(c).set(h)}),e.render(),Eh&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Gj(e,t,n,r){return Uj(t)?Kj(e,t,n,r):{target:t,transitionEnd:r}}const Qj=(e,t,n,r)=>{const i=jj(e,t,r);return t=i.target,r=i.transitionEnd,Gj(e,t,n,r)},zp={current:null},jP={current:!1};function Yj(){if(jP.current=!0,!!Eh)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>zp.current=e.matches;e.addListener(t),t()}else zp.current=!1}function Xj(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],o=n[i];if(qt(s))e.addValue(i,s),Ec(r)&&r.add(i);else if(qt(o))e.addValue(i,Ws(s,{owner:e})),Ec(r)&&r.remove(i);else if(o!==s)if(e.hasValue(i)){const a=e.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=e.getStaticValue(i);e.addValue(i,Ws(a!==void 0?a:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const Vw=new WeakMap,BP=Object.keys(za),Jj=BP.length,Mw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Zj=ny.length;class eB{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Te.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Ih(n),this.isVariantNode=AA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const h in c){const f=c[h];a[h]!==void 0&&qt(f)&&(f.set(a[h],!1),Ec(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Vw.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),jP.current||Yj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Vw.delete(this.current),this.projection&&this.projection.unmount(),hr(this.notifyUpdate),hr(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Ki.has(t),i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Te.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),s()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,s){let o,a;for(let l=0;l<Jj;l++){const u=BP[l],{isEnabled:c,Feature:h,ProjectionNode:f,MeasureLayout:d}=za[u];f&&(o=f),c(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),d&&(a=d))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:h,layoutScroll:f,layoutRoot:d}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||h&&gs(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:d})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):We()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Mw.length;r++){const i=Mw[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=t["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Xj(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Zj;r++){const i=ny[r],s=this.props[i];(Ua(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ws(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=cy(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!qt(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new _y),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class UP extends eB{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},s){let o=_$(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){y$(this,r,o);const a=Qj(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function tB(e){return window.getComputedStyle(e)}class nB extends UP{readValueFromInstance(t,n){if(Ki.has(n)){const r=my(n);return r&&r.default||0}else{const r=tB(t),i=(kA(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return kP(t,n)}build(t,n,r,i){iy(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return uy(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;qt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){OA(t,n,r,i)}}class rB extends UP{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ki.has(n)){const r=my(n);return r&&r.default||0}return n=bA.has(n)?n:ly(n),t.getAttribute(n)}measureInstanceViewportBox(){return We()}scrapeMotionValuesFromProps(t,n){return $A(t,n)}build(t,n,r,i){oy(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){FA(t,n,r,i)}mount(t){this.isSVGTag=ay(t.tagName),super.mount(t)}}const iB=(e,t)=>ry(e)?new rB(t,{enableHardwareAcceleration:!1}):new nB(t,{enableHardwareAcceleration:!0}),sB={layout:{ProjectionNode:FP,MeasureLayout:DP}},oB=aF(jF);function aB(){const e=E.useRef(!1);return IA(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function lB(){const e=aB(),[t,n]=E.useState(0),r=E.useCallback(()=>{e.current&&n(t+1)},[t]);return[E.useCallback(()=>Te.postRender(r),[r]),t]}function uB({children:e,features:t,strict:n=!1}){const[,r]=E.useState(!Qf(t)),i=E.useRef(void 0);if(!Qf(t)){const{renderer:s,...o}=t;i.current=s,kp(o)}return E.useEffect(()=>{Qf(t)&&t().then(({renderer:s,...o})=>{kp(o),i.current=s,r(!0)})},[]),E.createElement(ey.Provider,{value:{renderer:i.current,strict:n}},e)}function Qf(e){return typeof e=="function"}const cB=E.createContext(null),hB=e=>!e.isLayoutDirty&&e.willUpdate(!1);function Lw(){const e=new Set,t=new WeakMap,n=()=>e.forEach(hB);return{add:r=>{e.add(r),t.set(r,r.addEventListener("willUpdate",n))},remove:r=>{e.delete(r);const i=t.get(r);i&&(i(),t.delete(r)),n()},dirty:n}}const zP=e=>e===!0,fB=e=>zP(e===!0)||e==="id",dB=({children:e,id:t,inherit:n=!0})=>{const r=E.useContext(mc),i=E.useContext(cB),[s,o]=lB(),a=E.useRef(null),l=r.id||i;a.current===null&&(fB(n)&&l&&(t=t?l+"-"+t:l),a.current={id:t,group:zP(n)&&r.group||Lw()});const u=E.useMemo(()=>({...a.current,forceRender:s}),[o]);return E.createElement(mc.Provider,{value:u},e)},pB={renderer:iB,...M$,...ZF},mB={...pB,...bj,...sB};function gB(e){return e!==null&&typeof e=="object"&&CA in e}var yB=Object.create,wy=Object.defineProperty,vB=Object.defineProperties,_B=Object.getOwnPropertyDescriptor,wB=Object.getOwnPropertyDescriptors,HP=Object.getOwnPropertyNames,Nw=Object.getOwnPropertySymbols,TB=Object.getPrototypeOf,qP=Object.prototype.hasOwnProperty,EB=Object.prototype.propertyIsEnumerable,Ow=(e,t,n)=>t in e?wy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bw=(e,t)=>{for(var n in t||(t={}))qP.call(t,n)&&Ow(e,n,t[n]);if(Nw)for(var n of Nw(t))EB.call(t,n)&&Ow(e,n,t[n]);return e},SB=(e,t)=>vB(e,wB(t)),WP=(e,t)=>function(){return t||(0,e[HP(e)[0]])((t={exports:{}}).exports,t),t.exports},IB=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of HP(t))!qP.call(e,i)&&i!==n&&wy(e,i,{get:()=>t[i],enumerable:!(r=_B(t,i))||r.enumerable});return e},AB=(e,t,n)=>(n=e!=null?yB(TB(e)):{},IB(t||!e||!e.__esModule?wy(n,"default",{value:e,enumerable:!0}):n,e)),PB=WP({"../../node_modules/.pnpm/react-is@18.2.0/node_modules/react-is/cjs/react-is.production.min.js"(e){var t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),_;_=Symbol.for("react.module.reference");function w(p){if(typeof p=="object"&&p!==null){var m=p.$$typeof;switch(m){case t:switch(p=p.type,p){case r:case s:case i:case c:case h:return p;default:switch(p=p&&p.$$typeof,p){case l:case a:case u:case d:case f:case o:return p;default:return m}}case n:return m}}}e.ContextConsumer=a,e.ContextProvider=o,e.Element=t,e.ForwardRef=u,e.Fragment=r,e.Lazy=d,e.Memo=f,e.Portal=n,e.Profiler=s,e.StrictMode=i,e.Suspense=c,e.SuspenseList=h,e.isAsyncMode=function(){return!1},e.isConcurrentMode=function(){return!1},e.isContextConsumer=function(p){return w(p)===a},e.isContextProvider=function(p){return w(p)===o},e.isElement=function(p){return typeof p=="object"&&p!==null&&p.$$typeof===t},e.isForwardRef=function(p){return w(p)===u},e.isFragment=function(p){return w(p)===r},e.isLazy=function(p){return w(p)===d},e.isMemo=function(p){return w(p)===f},e.isPortal=function(p){return w(p)===n},e.isProfiler=function(p){return w(p)===s},e.isStrictMode=function(p){return w(p)===i},e.isSuspense=function(p){return w(p)===c},e.isSuspenseList=function(p){return w(p)===h},e.isValidElementType=function(p){return typeof p=="string"||typeof p=="function"||p===r||p===s||p===i||p===c||p===h||p===g||typeof p=="object"&&p!==null&&(p.$$typeof===d||p.$$typeof===f||p.$$typeof===o||p.$$typeof===a||p.$$typeof===u||p.$$typeof===_||p.getModuleId!==void 0)},e.typeOf=w}}),CB=WP({"../../node_modules/.pnpm/react-is@18.2.0/node_modules/react-is/index.js"(e,t){t.exports=PB()}}),RB="(prefers-reduced-motion: no-preference)";function xB(){const[e,t]=E.useState(!1);return E.useEffect(()=>{const n=window.matchMedia(RB);t(!n.matches);const r=i=>{t(!i.matches)};return n.addEventListener("change",r),()=>{n.removeEventListener("change",r)}},[]),e}var kB=AB(CB());function DB(e){return typeof e=="string"||Array.isArray(e)&&e.every(t=>typeof t=="string")}function VB(e){return DB(e)?"position":!0}function KP(e,t,n){return E.Children.map(e,r=>{let i=r;if(!E.isValidElement(i)||i.key==="exclude")return i;const s=i.props;if(typeof i.type=="function"&&(i=i.type(s),!E.isValidElement(i)))return i;const o=i.type,a=n?n(i.props.children):{},l=(0,kB.isPortal)(i)?null:i.ref,u=gB(i.type)?i.type:oB[o];return E.createElement(u,bw(SB(bw({},i.props),{ref:l}),a),KP(i.props.children,t,n))})}function MB({children:e,transition:t,layoutDependency:n,disabled:r,debug:i}){const s=xB(),o=KP(e,i,a=>({layout:VB(a),layoutDependency:n,transition:t}));return s||r?b.jsx(b.Fragment,{children:e}):b.jsx(dB,{children:b.jsx(uB,{features:mB,children:o})})}/*! Bundled license information:

react-is/cjs/react-is.production.min.js:
  (**
   * @license React
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.development.js:
  (**
   * @license React
   * react-is.development.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/const LB=()=>{const{addOrEditFilm:e,currentId:t}=Jg(),n={name:"",date:""},[r,i]=E.useState(n),s=l=>{const{name:u,value:c}=l.target;i({...r,[u]:c,created:Ye.now()})},o=l=>(l.preventDefault(),e(r),i({...n})),a=async l=>{const u=hc(Fo,"films",l),c=await gO(u);i({...c.data()})};return E.useEffect(()=>{t===""?i({...n}):a(t)},[t]),b.jsxs("form",{onSubmit:o,action:"",children:[b.jsx("div",{children:b.jsx("input",{type:"text",name:"name",id:"",placeholder:"Nombre",onChange:s,value:r.name})}),b.jsx("div",{children:b.jsx("input",{type:"number",name:"date",id:"",placeholder:"Fecha",onChange:s,value:r.date})}),b.jsx("div",{children:b.jsx("button",{onClick:()=>e,children:"Guardar"})})]})},GP=(e,t,n)=>e.toLowerCase().trim().includes(n.toLowerCase().trim())||t.toLowerCase().trim().includes(n.toLowerCase().trim()),NB=({searchText:e,setSearchText:t})=>{const{films:n}=Jg(),r=e!==""?n.filter(({name:i,date:s})=>GP(i,s,e)).length:"";return b.jsxs("div",{children:[b.jsx("input",{id:"searchInput",placeholder:"Buscar pelicula",type:"text",maxLength:70,value:e,onChange:i=>t(i.target.value),style:{width:"100%"}}),b.jsx("p",{children:r!==0?b.jsxs("span",{children:[e!==""?"Resultados: ":"",r]}):b.jsxs("span",{children:['No se encontraron resultados con "',e,'"']})})]})},OB=()=>{const{films:e,setCurrentId:t,onDeleteFilm:n}=Jg(),[r,i]=E.useState("");return b.jsx(b.Fragment,{children:b.jsxs(wE,{title:"Peliculas",pageDescription:"Agrega las peliculas que tu quieras!",children:[b.jsx(NB,{searchText:r,setSearchText:i}),b.jsx(LB,{}),b.jsx("br",{}),b.jsx("br",{}),b.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:b.jsx(MB,{children:e.filter(({name:s,date:o})=>GP(s,o,r)).map(s=>b.jsxs("div",{style:{border:"1px solid",padding:"3px",display:"flex",flexDirection:"column"},children:[b.jsxs("p",{children:["Nombre: ",s.name]}),b.jsxs("p",{children:["Fecha: ",s.date]}),b.jsx("div",{children:b.jsx("button",{onClick:()=>n(s.id),children:"Borrar"})}),b.jsx("div",{children:b.jsx("button",{onClick:()=>t(s.id),children:"Editar"})})]},s.id))})})]})})},bB=[{path:"/",element:b.jsx(bD,{}),errorElement:"404"},{path:"/films",element:b.jsx(OB,{})}],FB=Hk(bB);Yf.createRoot(document.getElementById("root")).render(b.jsx(et.StrictMode,{children:b.jsx(eF,{children:b.jsx(Jk,{router:FB})})}));
