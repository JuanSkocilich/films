function Ax(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function es(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cw={exports:{}},Uc={},hw={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ul=Symbol.for("react.element"),Px=Symbol.for("react.portal"),xx=Symbol.for("react.fragment"),Cx=Symbol.for("react.strict_mode"),Rx=Symbol.for("react.profiler"),kx=Symbol.for("react.provider"),Dx=Symbol.for("react.context"),Vx=Symbol.for("react.forward_ref"),bx=Symbol.for("react.suspense"),Mx=Symbol.for("react.memo"),Nx=Symbol.for("react.lazy"),nv=Symbol.iterator;function Lx(e){return e===null||typeof e!="object"?null:(e=nv&&e[nv]||e["@@iterator"],typeof e=="function"?e:null)}var dw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fw=Object.assign,pw={};function fo(e,t,n){this.props=e,this.context=t,this.refs=pw,this.updater=n||dw}fo.prototype.isReactComponent={};fo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mw(){}mw.prototype=fo.prototype;function mm(e,t,n){this.props=e,this.context=t,this.refs=pw,this.updater=n||dw}var gm=mm.prototype=new mw;gm.constructor=mm;fw(gm,fo.prototype);gm.isPureReactComponent=!0;var rv=Array.isArray,gw=Object.prototype.hasOwnProperty,ym={current:null},yw={key:!0,ref:!0,__self:!0,__source:!0};function vw(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)gw.call(t,r)&&!yw.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ul,type:e,key:s,ref:o,props:i,_owner:ym.current}}function Ox(e,t){return{$$typeof:ul,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vm(e){return typeof e=="object"&&e!==null&&e.$$typeof===ul}function Fx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var iv=/\/+/g;function td(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Fx(""+e.key):t.toString(36)}function vu(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ul:case Px:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+td(o,0):r,rv(i)?(n="",e!=null&&(n=e.replace(iv,"$&/")+"/"),vu(i,t,n,"",function(u){return u})):i!=null&&(vm(i)&&(i=Ox(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(iv,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",rv(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+td(s,a);o+=vu(s,t,n,l,i)}else if(l=Lx(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+td(s,a++),o+=vu(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Bl(e,t,n){if(e==null)return e;var r=[],i=0;return vu(e,r,"","",function(s){return t.call(n,s,i++)}),r}function jx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jt={current:null},_u={transition:null},$x={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:_u,ReactCurrentOwner:ym};de.Children={map:Bl,forEach:function(e,t,n){Bl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Bl(e,function(){t++}),t},toArray:function(e){return Bl(e,function(t){return t})||[]},only:function(e){if(!vm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=fo;de.Fragment=xx;de.Profiler=Rx;de.PureComponent=mm;de.StrictMode=Cx;de.Suspense=bx;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$x;de.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=fw({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=ym.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)gw.call(t,l)&&!yw.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ul,type:e.type,key:i,ref:s,props:r,_owner:o}};de.createContext=function(e){return e={$$typeof:Dx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:kx,_context:e},e.Consumer=e};de.createElement=vw;de.createFactory=function(e){var t=vw.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:Vx,render:e}};de.isValidElement=vm;de.lazy=function(e){return{$$typeof:Nx,_payload:{_status:-1,_result:e},_init:jx}};de.memo=function(e,t){return{$$typeof:Mx,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=_u.transition;_u.transition={};try{e()}finally{_u.transition=t}};de.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};de.useCallback=function(e,t){return jt.current.useCallback(e,t)};de.useContext=function(e){return jt.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return jt.current.useDeferredValue(e)};de.useEffect=function(e,t){return jt.current.useEffect(e,t)};de.useId=function(){return jt.current.useId()};de.useImperativeHandle=function(e,t,n){return jt.current.useImperativeHandle(e,t,n)};de.useInsertionEffect=function(e,t){return jt.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return jt.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return jt.current.useMemo(e,t)};de.useReducer=function(e,t,n){return jt.current.useReducer(e,t,n)};de.useRef=function(e){return jt.current.useRef(e)};de.useState=function(e){return jt.current.useState(e)};de.useSyncExternalStore=function(e,t,n){return jt.current.useSyncExternalStore(e,t,n)};de.useTransition=function(){return jt.current.useTransition()};de.version="18.2.0";hw.exports=de;var E=hw.exports;const M=es(E),Bx=Ax({__proto__:null,default:M},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ux=E,zx=Symbol.for("react.element"),Hx=Symbol.for("react.fragment"),qx=Object.prototype.hasOwnProperty,Wx=Ux.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Kx={key:!0,ref:!0,__self:!0,__source:!0};function _w(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)qx.call(t,r)&&!Kx.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:zx,type:e,key:s,ref:o,props:i,_owner:Wx.current}}Uc.Fragment=Hx;Uc.jsx=_w;Uc.jsxs=_w;cw.exports=Uc;var S=cw.exports,_f={},ww={exports:{}},ln={},Ew={exports:{}},Tw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,$){var W=V.length;V.push($);e:for(;0<W;){var B=W-1>>>1,ce=V[B];if(0<i(ce,$))V[B]=$,V[W]=ce,W=B;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var $=V[0],W=V.pop();if(W!==$){V[0]=W;e:for(var B=0,ce=V.length,Le=ce>>>1;B<Le;){var ze=2*(B+1)-1,Bt=V[ze],He=ze+1,cn=V[He];if(0>i(Bt,W))He<ce&&0>i(cn,Bt)?(V[B]=cn,V[He]=W,B=He):(V[B]=Bt,V[ze]=W,B=ze);else if(He<ce&&0>i(cn,W))V[B]=cn,V[He]=W,B=He;else break e}}return $}function i(V,$){var W=V.sortIndex-$.sortIndex;return W!==0?W:V.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,g=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(V){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=V)r(u),$.sortIndex=$.expirationTime,t(l,$);else break;$=n(u)}}function y(V){if(v=!1,_(V),!g)if(n(l)!==null)g=!0,H(I);else{var $=n(u);$!==null&&te(y,$.startTime-V)}}function I(V,$){g=!1,v&&(v=!1,p(x),x=-1),f=!0;var W=d;try{for(_($),h=n(l);h!==null&&(!(h.expirationTime>$)||V&&!ie());){var B=h.callback;if(typeof B=="function"){h.callback=null,d=h.priorityLevel;var ce=B(h.expirationTime<=$);$=e.unstable_now(),typeof ce=="function"?h.callback=ce:h===n(l)&&r(l),_($)}else r(l);h=n(l)}if(h!==null)var Le=!0;else{var ze=n(u);ze!==null&&te(y,ze.startTime-$),Le=!1}return Le}finally{h=null,d=W,f=!1}}var R=!1,A=null,x=-1,N=5,F=-1;function ie(){return!(e.unstable_now()-F<N)}function ve(){if(A!==null){var V=e.unstable_now();F=V;var $=!0;try{$=A(!0,V)}finally{$?_e():(R=!1,A=null)}}else R=!1}var _e;if(typeof m=="function")_e=function(){m(ve)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,U=Y.port2;Y.port1.onmessage=ve,_e=function(){U.postMessage(null)}}else _e=function(){w(ve,0)};function H(V){A=V,R||(R=!0,_e())}function te(V,$){x=w(function(){V(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){g||f||(g=!0,H(I))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(V){switch(d){case 1:case 2:case 3:var $=3;break;default:$=d}var W=d;d=$;try{return V()}finally{d=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,$){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var W=d;d=V;try{return $()}finally{d=W}},e.unstable_scheduleCallback=function(V,$,W){var B=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?B+W:B):W=B,V){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=W+ce,V={id:c++,callback:$,priorityLevel:V,startTime:W,expirationTime:ce,sortIndex:-1},W>B?(V.sortIndex=W,t(u,V),n(l)===null&&V===n(u)&&(v?(p(x),x=-1):v=!0,te(y,W-B))):(V.sortIndex=ce,t(l,V),g||f||(g=!0,H(I))),V},e.unstable_shouldYield=ie,e.unstable_wrapCallback=function(V){var $=d;return function(){var W=d;d=$;try{return V.apply(this,arguments)}finally{d=W}}}})(Tw);Ew.exports=Tw;var Gx=Ew.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sw=E,rn=Gx;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Iw=new Set,Ia={};function ts(e,t){Gs(e,t),Gs(e+"Capture",t)}function Gs(e,t){for(Ia[e]=t,e=0;e<t.length;e++)Iw.add(t[e])}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wf=Object.prototype.hasOwnProperty,Qx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sv={},ov={};function Yx(e){return wf.call(ov,e)?!0:wf.call(sv,e)?!1:Qx.test(e)?ov[e]=!0:(sv[e]=!0,!1)}function Xx(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Jx(e,t,n,r){if(t===null||typeof t>"u"||Xx(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $t(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var St={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){St[e]=new $t(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];St[t]=new $t(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){St[e]=new $t(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){St[e]=new $t(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){St[e]=new $t(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){St[e]=new $t(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){St[e]=new $t(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){St[e]=new $t(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){St[e]=new $t(e,5,!1,e.toLowerCase(),null,!1,!1)});var _m=/[\-:]([a-z])/g;function wm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_m,wm);St[t]=new $t(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_m,wm);St[t]=new $t(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_m,wm);St[t]=new $t(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){St[e]=new $t(e,1,!1,e.toLowerCase(),null,!1,!1)});St.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){St[e]=new $t(e,1,!1,e.toLowerCase(),null,!0,!0)});function Em(e,t,n,r){var i=St.hasOwnProperty(t)?St[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Jx(t,n,i,r)&&(n=null),r||i===null?Yx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Er=Sw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ul=Symbol.for("react.element"),ys=Symbol.for("react.portal"),vs=Symbol.for("react.fragment"),Tm=Symbol.for("react.strict_mode"),Ef=Symbol.for("react.profiler"),Aw=Symbol.for("react.provider"),Pw=Symbol.for("react.context"),Sm=Symbol.for("react.forward_ref"),Tf=Symbol.for("react.suspense"),Sf=Symbol.for("react.suspense_list"),Im=Symbol.for("react.memo"),Vr=Symbol.for("react.lazy"),xw=Symbol.for("react.offscreen"),av=Symbol.iterator;function xo(e){return e===null||typeof e!="object"?null:(e=av&&e[av]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Object.assign,nd;function Ko(e){if(nd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);nd=t&&t[1]||""}return`
`+nd+e}var rd=!1;function id(e,t){if(!e||rd)return"";rd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{rd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ko(e):""}function Zx(e){switch(e.tag){case 5:return Ko(e.type);case 16:return Ko("Lazy");case 13:return Ko("Suspense");case 19:return Ko("SuspenseList");case 0:case 2:case 15:return e=id(e.type,!1),e;case 11:return e=id(e.type.render,!1),e;case 1:return e=id(e.type,!0),e;default:return""}}function If(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vs:return"Fragment";case ys:return"Portal";case Ef:return"Profiler";case Tm:return"StrictMode";case Tf:return"Suspense";case Sf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Pw:return(e.displayName||"Context")+".Consumer";case Aw:return(e._context.displayName||"Context")+".Provider";case Sm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Im:return t=e.displayName||null,t!==null?t:If(e.type)||"Memo";case Vr:t=e._payload,e=e._init;try{return If(e(t))}catch{}}return null}function eC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return If(t);case 8:return t===Tm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ri(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tC(e){var t=Cw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zl(e){e._valueTracker||(e._valueTracker=tC(e))}function Rw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Cw(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ju(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Af(e,t){var n=t.checked;return Be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function lv(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ri(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kw(e,t){t=t.checked,t!=null&&Em(e,"checked",t,!1)}function Pf(e,t){kw(e,t);var n=ri(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xf(e,t.type,n):t.hasOwnProperty("defaultValue")&&xf(e,t.type,ri(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function uv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xf(e,t,n){(t!=="number"||ju(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Go=Array.isArray;function Ls(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ri(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Cf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(b(91));return Be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(b(92));if(Go(n)){if(1<n.length)throw Error(b(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ri(n)}}function Dw(e,t){var n=ri(t.value),r=ri(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function hv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Vw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Vw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hl,bw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hl=Hl||document.createElement("div"),Hl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Aa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ra={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nC=["Webkit","ms","Moz","O"];Object.keys(ra).forEach(function(e){nC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ra[t]=ra[e]})});function Mw(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ra.hasOwnProperty(e)&&ra[e]?(""+t).trim():t+"px"}function Nw(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Mw(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var rC=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kf(e,t){if(t){if(rC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(b(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(b(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(b(61))}if(t.style!=null&&typeof t.style!="object")throw Error(b(62))}}function Df(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vf=null;function Am(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bf=null,Os=null,Fs=null;function dv(e){if(e=dl(e)){if(typeof bf!="function")throw Error(b(280));var t=e.stateNode;t&&(t=Kc(t),bf(e.stateNode,e.type,t))}}function Lw(e){Os?Fs?Fs.push(e):Fs=[e]:Os=e}function Ow(){if(Os){var e=Os,t=Fs;if(Fs=Os=null,dv(e),t)for(e=0;e<t.length;e++)dv(t[e])}}function Fw(e,t){return e(t)}function jw(){}var sd=!1;function $w(e,t,n){if(sd)return e(t,n);sd=!0;try{return Fw(e,t,n)}finally{sd=!1,(Os!==null||Fs!==null)&&(jw(),Ow())}}function Pa(e,t){var n=e.stateNode;if(n===null)return null;var r=Kc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(b(231,t,typeof n));return n}var Mf=!1;if(dr)try{var Co={};Object.defineProperty(Co,"passive",{get:function(){Mf=!0}}),window.addEventListener("test",Co,Co),window.removeEventListener("test",Co,Co)}catch{Mf=!1}function iC(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ia=!1,$u=null,Bu=!1,Nf=null,sC={onError:function(e){ia=!0,$u=e}};function oC(e,t,n,r,i,s,o,a,l){ia=!1,$u=null,iC.apply(sC,arguments)}function aC(e,t,n,r,i,s,o,a,l){if(oC.apply(this,arguments),ia){if(ia){var u=$u;ia=!1,$u=null}else throw Error(b(198));Bu||(Bu=!0,Nf=u)}}function ns(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Bw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fv(e){if(ns(e)!==e)throw Error(b(188))}function lC(e){var t=e.alternate;if(!t){if(t=ns(e),t===null)throw Error(b(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return fv(i),e;if(s===r)return fv(i),t;s=s.sibling}throw Error(b(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?e:t}function Uw(e){return e=lC(e),e!==null?zw(e):null}function zw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zw(e);if(t!==null)return t;e=e.sibling}return null}var Hw=rn.unstable_scheduleCallback,pv=rn.unstable_cancelCallback,uC=rn.unstable_shouldYield,cC=rn.unstable_requestPaint,et=rn.unstable_now,hC=rn.unstable_getCurrentPriorityLevel,Pm=rn.unstable_ImmediatePriority,qw=rn.unstable_UserBlockingPriority,Uu=rn.unstable_NormalPriority,dC=rn.unstable_LowPriority,Ww=rn.unstable_IdlePriority,zc=null,Kn=null;function fC(e){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(zc,e,void 0,(e.current.flags&128)===128)}catch{}}var Dn=Math.clz32?Math.clz32:gC,pC=Math.log,mC=Math.LN2;function gC(e){return e>>>=0,e===0?32:31-(pC(e)/mC|0)|0}var ql=64,Wl=4194304;function Qo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Qo(a):(s&=o,s!==0&&(r=Qo(s)))}else o=n&~i,o!==0?r=Qo(o):s!==0&&(r=Qo(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Dn(t),i=1<<n,r|=e[n],t&=~i;return r}function yC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vC(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Dn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=yC(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Lf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Kw(){var e=ql;return ql<<=1,!(ql&4194240)&&(ql=64),e}function od(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function cl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dn(t),e[t]=n}function _C(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Dn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function xm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Dn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ee=0;function Gw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Qw,Cm,Yw,Xw,Jw,Of=!1,Kl=[],Br=null,Ur=null,zr=null,xa=new Map,Ca=new Map,Lr=[],wC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mv(e,t){switch(e){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":xa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ca.delete(t.pointerId)}}function Ro(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=dl(t),t!==null&&Cm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function EC(e,t,n,r,i){switch(t){case"focusin":return Br=Ro(Br,e,t,n,r,i),!0;case"dragenter":return Ur=Ro(Ur,e,t,n,r,i),!0;case"mouseover":return zr=Ro(zr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return xa.set(s,Ro(xa.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ca.set(s,Ro(Ca.get(s)||null,e,t,n,r,i)),!0}return!1}function Zw(e){var t=Ci(e.target);if(t!==null){var n=ns(t);if(n!==null){if(t=n.tag,t===13){if(t=Bw(n),t!==null){e.blockedOn=t,Jw(e.priority,function(){Yw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ff(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Vf=r,n.target.dispatchEvent(r),Vf=null}else return t=dl(n),t!==null&&Cm(t),e.blockedOn=n,!1;t.shift()}return!0}function gv(e,t,n){wu(e)&&n.delete(t)}function TC(){Of=!1,Br!==null&&wu(Br)&&(Br=null),Ur!==null&&wu(Ur)&&(Ur=null),zr!==null&&wu(zr)&&(zr=null),xa.forEach(gv),Ca.forEach(gv)}function ko(e,t){e.blockedOn===t&&(e.blockedOn=null,Of||(Of=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,TC)))}function Ra(e){function t(i){return ko(i,e)}if(0<Kl.length){ko(Kl[0],e);for(var n=1;n<Kl.length;n++){var r=Kl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Br!==null&&ko(Br,e),Ur!==null&&ko(Ur,e),zr!==null&&ko(zr,e),xa.forEach(t),Ca.forEach(t),n=0;n<Lr.length;n++)r=Lr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Lr.length&&(n=Lr[0],n.blockedOn===null);)Zw(n),n.blockedOn===null&&Lr.shift()}var js=Er.ReactCurrentBatchConfig,Hu=!0;function SC(e,t,n,r){var i=Ee,s=js.transition;js.transition=null;try{Ee=1,Rm(e,t,n,r)}finally{Ee=i,js.transition=s}}function IC(e,t,n,r){var i=Ee,s=js.transition;js.transition=null;try{Ee=4,Rm(e,t,n,r)}finally{Ee=i,js.transition=s}}function Rm(e,t,n,r){if(Hu){var i=Ff(e,t,n,r);if(i===null)gd(e,t,r,qu,n),mv(e,r);else if(EC(i,e,t,n,r))r.stopPropagation();else if(mv(e,r),t&4&&-1<wC.indexOf(e)){for(;i!==null;){var s=dl(i);if(s!==null&&Qw(s),s=Ff(e,t,n,r),s===null&&gd(e,t,r,qu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else gd(e,t,r,null,n)}}var qu=null;function Ff(e,t,n,r){if(qu=null,e=Am(r),e=Ci(e),e!==null)if(t=ns(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Bw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qu=e,null}function eE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hC()){case Pm:return 1;case qw:return 4;case Uu:case dC:return 16;case Ww:return 536870912;default:return 16}default:return 16}}var Fr=null,km=null,Eu=null;function tE(){if(Eu)return Eu;var e,t=km,n=t.length,r,i="value"in Fr?Fr.value:Fr.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Eu=i.slice(e,1<r?1-r:void 0)}function Tu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gl(){return!0}function yv(){return!1}function un(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Gl:yv,this.isPropagationStopped=yv,this}return Be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gl)},persist:function(){},isPersistent:Gl}),t}var po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dm=un(po),hl=Be({},po,{view:0,detail:0}),AC=un(hl),ad,ld,Do,Hc=Be({},hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Do&&(Do&&e.type==="mousemove"?(ad=e.screenX-Do.screenX,ld=e.screenY-Do.screenY):ld=ad=0,Do=e),ad)},movementY:function(e){return"movementY"in e?e.movementY:ld}}),vv=un(Hc),PC=Be({},Hc,{dataTransfer:0}),xC=un(PC),CC=Be({},hl,{relatedTarget:0}),ud=un(CC),RC=Be({},po,{animationName:0,elapsedTime:0,pseudoElement:0}),kC=un(RC),DC=Be({},po,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),VC=un(DC),bC=Be({},po,{data:0}),_v=un(bC),MC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=LC[e])?!!t[e]:!1}function Vm(){return OC}var FC=Be({},hl,{key:function(e){if(e.key){var t=MC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?NC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vm,charCode:function(e){return e.type==="keypress"?Tu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jC=un(FC),$C=Be({},Hc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wv=un($C),BC=Be({},hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vm}),UC=un(BC),zC=Be({},po,{propertyName:0,elapsedTime:0,pseudoElement:0}),HC=un(zC),qC=Be({},Hc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),WC=un(qC),KC=[9,13,27,32],bm=dr&&"CompositionEvent"in window,sa=null;dr&&"documentMode"in document&&(sa=document.documentMode);var GC=dr&&"TextEvent"in window&&!sa,nE=dr&&(!bm||sa&&8<sa&&11>=sa),Ev=String.fromCharCode(32),Tv=!1;function rE(e,t){switch(e){case"keyup":return KC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _s=!1;function QC(e,t){switch(e){case"compositionend":return iE(t);case"keypress":return t.which!==32?null:(Tv=!0,Ev);case"textInput":return e=t.data,e===Ev&&Tv?null:e;default:return null}}function YC(e,t){if(_s)return e==="compositionend"||!bm&&rE(e,t)?(e=tE(),Eu=km=Fr=null,_s=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nE&&t.locale!=="ko"?null:t.data;default:return null}}var XC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!XC[e.type]:t==="textarea"}function sE(e,t,n,r){Lw(r),t=Wu(t,"onChange"),0<t.length&&(n=new Dm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var oa=null,ka=null;function JC(e){gE(e,0)}function qc(e){var t=Ts(e);if(Rw(t))return e}function ZC(e,t){if(e==="change")return t}var oE=!1;if(dr){var cd;if(dr){var hd="oninput"in document;if(!hd){var Iv=document.createElement("div");Iv.setAttribute("oninput","return;"),hd=typeof Iv.oninput=="function"}cd=hd}else cd=!1;oE=cd&&(!document.documentMode||9<document.documentMode)}function Av(){oa&&(oa.detachEvent("onpropertychange",aE),ka=oa=null)}function aE(e){if(e.propertyName==="value"&&qc(ka)){var t=[];sE(t,ka,e,Am(e)),$w(JC,t)}}function eR(e,t,n){e==="focusin"?(Av(),oa=t,ka=n,oa.attachEvent("onpropertychange",aE)):e==="focusout"&&Av()}function tR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qc(ka)}function nR(e,t){if(e==="click")return qc(t)}function rR(e,t){if(e==="input"||e==="change")return qc(t)}function iR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mn=typeof Object.is=="function"?Object.is:iR;function Da(e,t){if(Mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!wf.call(t,i)||!Mn(e[i],t[i]))return!1}return!0}function Pv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xv(e,t){var n=Pv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pv(n)}}function lE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?lE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function uE(){for(var e=window,t=ju();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ju(e.document)}return t}function Mm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sR(e){var t=uE(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&lE(n.ownerDocument.documentElement,n)){if(r!==null&&Mm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=xv(n,s);var o=xv(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var oR=dr&&"documentMode"in document&&11>=document.documentMode,ws=null,jf=null,aa=null,$f=!1;function Cv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$f||ws==null||ws!==ju(r)||(r=ws,"selectionStart"in r&&Mm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),aa&&Da(aa,r)||(aa=r,r=Wu(jf,"onSelect"),0<r.length&&(t=new Dm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ws)))}function Ql(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Es={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},dd={},cE={};dr&&(cE=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function Wc(e){if(dd[e])return dd[e];if(!Es[e])return e;var t=Es[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in cE)return dd[e]=t[n];return e}var hE=Wc("animationend"),dE=Wc("animationiteration"),fE=Wc("animationstart"),pE=Wc("transitionend"),mE=new Map,Rv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hi(e,t){mE.set(e,t),ts(t,[e])}for(var fd=0;fd<Rv.length;fd++){var pd=Rv[fd],aR=pd.toLowerCase(),lR=pd[0].toUpperCase()+pd.slice(1);hi(aR,"on"+lR)}hi(hE,"onAnimationEnd");hi(dE,"onAnimationIteration");hi(fE,"onAnimationStart");hi("dblclick","onDoubleClick");hi("focusin","onFocus");hi("focusout","onBlur");hi(pE,"onTransitionEnd");Gs("onMouseEnter",["mouseout","mouseover"]);Gs("onMouseLeave",["mouseout","mouseover"]);Gs("onPointerEnter",["pointerout","pointerover"]);Gs("onPointerLeave",["pointerout","pointerover"]);ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ts("onBeforeInput",["compositionend","keypress","textInput","paste"]);ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yo));function kv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,aC(r,t,void 0,e),e.currentTarget=null}function gE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;kv(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;kv(i,a,u),s=l}}}if(Bu)throw e=Nf,Bu=!1,Nf=null,e}function ke(e,t){var n=t[qf];n===void 0&&(n=t[qf]=new Set);var r=e+"__bubble";n.has(r)||(yE(t,e,2,!1),n.add(r))}function md(e,t,n){var r=0;t&&(r|=4),yE(n,e,r,t)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function Va(e){if(!e[Yl]){e[Yl]=!0,Iw.forEach(function(n){n!=="selectionchange"&&(uR.has(n)||md(n,!1,e),md(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yl]||(t[Yl]=!0,md("selectionchange",!1,t))}}function yE(e,t,n,r){switch(eE(t)){case 1:var i=SC;break;case 4:i=IC;break;default:i=Rm}n=i.bind(null,t,n,e),i=void 0,!Mf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function gd(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ci(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}$w(function(){var u=s,c=Am(n),h=[];e:{var d=mE.get(e);if(d!==void 0){var f=Dm,g=e;switch(e){case"keypress":if(Tu(n)===0)break e;case"keydown":case"keyup":f=jC;break;case"focusin":g="focus",f=ud;break;case"focusout":g="blur",f=ud;break;case"beforeblur":case"afterblur":f=ud;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=vv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=xC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=UC;break;case hE:case dE:case fE:f=kC;break;case pE:f=HC;break;case"scroll":f=AC;break;case"wheel":f=WC;break;case"copy":case"cut":case"paste":f=VC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=wv}var v=(t&4)!==0,w=!v&&e==="scroll",p=v?d!==null?d+"Capture":null:d;v=[];for(var m=u,_;m!==null;){_=m;var y=_.stateNode;if(_.tag===5&&y!==null&&(_=y,p!==null&&(y=Pa(m,p),y!=null&&v.push(ba(m,y,_)))),w)break;m=m.return}0<v.length&&(d=new f(d,g,null,n,c),h.push({event:d,listeners:v}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",d&&n!==Vf&&(g=n.relatedTarget||n.fromElement)&&(Ci(g)||g[fr]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=u,g=g?Ci(g):null,g!==null&&(w=ns(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(v=vv,y="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=wv,y="onPointerLeave",p="onPointerEnter",m="pointer"),w=f==null?d:Ts(f),_=g==null?d:Ts(g),d=new v(y,m+"leave",f,n,c),d.target=w,d.relatedTarget=_,y=null,Ci(c)===u&&(v=new v(p,m+"enter",g,n,c),v.target=_,v.relatedTarget=w,y=v),w=y,f&&g)t:{for(v=f,p=g,m=0,_=v;_;_=hs(_))m++;for(_=0,y=p;y;y=hs(y))_++;for(;0<m-_;)v=hs(v),m--;for(;0<_-m;)p=hs(p),_--;for(;m--;){if(v===p||p!==null&&v===p.alternate)break t;v=hs(v),p=hs(p)}v=null}else v=null;f!==null&&Dv(h,d,f,v,!1),g!==null&&w!==null&&Dv(h,w,g,v,!0)}}e:{if(d=u?Ts(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var I=ZC;else if(Sv(d))if(oE)I=rR;else{I=tR;var R=eR}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(I=nR);if(I&&(I=I(e,u))){sE(h,I,n,c);break e}R&&R(e,d,u),e==="focusout"&&(R=d._wrapperState)&&R.controlled&&d.type==="number"&&xf(d,"number",d.value)}switch(R=u?Ts(u):window,e){case"focusin":(Sv(R)||R.contentEditable==="true")&&(ws=R,jf=u,aa=null);break;case"focusout":aa=jf=ws=null;break;case"mousedown":$f=!0;break;case"contextmenu":case"mouseup":case"dragend":$f=!1,Cv(h,n,c);break;case"selectionchange":if(oR)break;case"keydown":case"keyup":Cv(h,n,c)}var A;if(bm)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else _s?rE(e,n)&&(x="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(nE&&n.locale!=="ko"&&(_s||x!=="onCompositionStart"?x==="onCompositionEnd"&&_s&&(A=tE()):(Fr=c,km="value"in Fr?Fr.value:Fr.textContent,_s=!0)),R=Wu(u,x),0<R.length&&(x=new _v(x,e,null,n,c),h.push({event:x,listeners:R}),A?x.data=A:(A=iE(n),A!==null&&(x.data=A)))),(A=GC?QC(e,n):YC(e,n))&&(u=Wu(u,"onBeforeInput"),0<u.length&&(c=new _v("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=A))}gE(h,t)})}function ba(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wu(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Pa(e,n),s!=null&&r.unshift(ba(e,s,i)),s=Pa(e,t),s!=null&&r.push(ba(e,s,i))),e=e.return}return r}function hs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Dv(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Pa(n,s),l!=null&&o.unshift(ba(n,l,a))):i||(l=Pa(n,s),l!=null&&o.push(ba(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var cR=/\r\n?/g,hR=/\u0000|\uFFFD/g;function Vv(e){return(typeof e=="string"?e:""+e).replace(cR,`
`).replace(hR,"")}function Xl(e,t,n){if(t=Vv(t),Vv(e)!==t&&n)throw Error(b(425))}function Ku(){}var Bf=null,Uf=null;function zf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hf=typeof setTimeout=="function"?setTimeout:void 0,dR=typeof clearTimeout=="function"?clearTimeout:void 0,bv=typeof Promise=="function"?Promise:void 0,fR=typeof queueMicrotask=="function"?queueMicrotask:typeof bv<"u"?function(e){return bv.resolve(null).then(e).catch(pR)}:Hf;function pR(e){setTimeout(function(){throw e})}function yd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ra(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ra(t)}function Hr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Mv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var mo=Math.random().toString(36).slice(2),zn="__reactFiber$"+mo,Ma="__reactProps$"+mo,fr="__reactContainer$"+mo,qf="__reactEvents$"+mo,mR="__reactListeners$"+mo,gR="__reactHandles$"+mo;function Ci(e){var t=e[zn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fr]||n[zn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Mv(e);e!==null;){if(n=e[zn])return n;e=Mv(e)}return t}e=n,n=e.parentNode}return null}function dl(e){return e=e[zn]||e[fr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ts(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(b(33))}function Kc(e){return e[Ma]||null}var Wf=[],Ss=-1;function di(e){return{current:e}}function Ve(e){0>Ss||(e.current=Wf[Ss],Wf[Ss]=null,Ss--)}function Ce(e,t){Ss++,Wf[Ss]=e.current,e.current=t}var ii={},Vt=di(ii),Wt=di(!1),$i=ii;function Qs(e,t){var n=e.type.contextTypes;if(!n)return ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Kt(e){return e=e.childContextTypes,e!=null}function Gu(){Ve(Wt),Ve(Vt)}function Nv(e,t,n){if(Vt.current!==ii)throw Error(b(168));Ce(Vt,t),Ce(Wt,n)}function vE(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(b(108,eC(e)||"Unknown",i));return Be({},n,r)}function Qu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ii,$i=Vt.current,Ce(Vt,e),Ce(Wt,Wt.current),!0}function Lv(e,t,n){var r=e.stateNode;if(!r)throw Error(b(169));n?(e=vE(e,t,$i),r.__reactInternalMemoizedMergedChildContext=e,Ve(Wt),Ve(Vt),Ce(Vt,e)):Ve(Wt),Ce(Wt,n)}var rr=null,Gc=!1,vd=!1;function _E(e){rr===null?rr=[e]:rr.push(e)}function yR(e){Gc=!0,_E(e)}function fi(){if(!vd&&rr!==null){vd=!0;var e=0,t=Ee;try{var n=rr;for(Ee=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}rr=null,Gc=!1}catch(i){throw rr!==null&&(rr=rr.slice(e+1)),Hw(Pm,fi),i}finally{Ee=t,vd=!1}}return null}var Is=[],As=0,Yu=null,Xu=0,yn=[],vn=0,Bi=null,ir=1,sr="";function Si(e,t){Is[As++]=Xu,Is[As++]=Yu,Yu=e,Xu=t}function wE(e,t,n){yn[vn++]=ir,yn[vn++]=sr,yn[vn++]=Bi,Bi=e;var r=ir;e=sr;var i=32-Dn(r)-1;r&=~(1<<i),n+=1;var s=32-Dn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ir=1<<32-Dn(t)+i|n<<i|r,sr=s+e}else ir=1<<s|n<<i|r,sr=e}function Nm(e){e.return!==null&&(Si(e,1),wE(e,1,0))}function Lm(e){for(;e===Yu;)Yu=Is[--As],Is[As]=null,Xu=Is[--As],Is[As]=null;for(;e===Bi;)Bi=yn[--vn],yn[vn]=null,sr=yn[--vn],yn[vn]=null,ir=yn[--vn],yn[vn]=null}var tn=null,Zt=null,Ne=!1,kn=null;function EE(e,t){var n=wn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ov(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tn=e,Zt=Hr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tn=e,Zt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Bi!==null?{id:ir,overflow:sr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=wn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tn=e,Zt=null,!0):!1;default:return!1}}function Kf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Gf(e){if(Ne){var t=Zt;if(t){var n=t;if(!Ov(e,t)){if(Kf(e))throw Error(b(418));t=Hr(n.nextSibling);var r=tn;t&&Ov(e,t)?EE(r,n):(e.flags=e.flags&-4097|2,Ne=!1,tn=e)}}else{if(Kf(e))throw Error(b(418));e.flags=e.flags&-4097|2,Ne=!1,tn=e}}}function Fv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tn=e}function Jl(e){if(e!==tn)return!1;if(!Ne)return Fv(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zf(e.type,e.memoizedProps)),t&&(t=Zt)){if(Kf(e))throw TE(),Error(b(418));for(;t;)EE(e,t),t=Hr(t.nextSibling)}if(Fv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(b(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Zt=Hr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Zt=null}}else Zt=tn?Hr(e.stateNode.nextSibling):null;return!0}function TE(){for(var e=Zt;e;)e=Hr(e.nextSibling)}function Ys(){Zt=tn=null,Ne=!1}function Om(e){kn===null?kn=[e]:kn.push(e)}var vR=Er.ReactCurrentBatchConfig;function xn(e,t){if(e&&e.defaultProps){t=Be({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Ju=di(null),Zu=null,Ps=null,Fm=null;function jm(){Fm=Ps=Zu=null}function $m(e){var t=Ju.current;Ve(Ju),e._currentValue=t}function Qf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $s(e,t){Zu=e,Fm=Ps=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qt=!0),e.firstContext=null)}function Tn(e){var t=e._currentValue;if(Fm!==e)if(e={context:e,memoizedValue:t,next:null},Ps===null){if(Zu===null)throw Error(b(308));Ps=e,Zu.dependencies={lanes:0,firstContext:e}}else Ps=Ps.next=e;return t}var Ri=null;function Bm(e){Ri===null?Ri=[e]:Ri.push(e)}function SE(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Bm(t)):(n.next=i.next,i.next=n),t.interleaved=n,pr(e,r)}function pr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var br=!1;function Um(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function IE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,pr(e,n)}return i=r.interleaved,i===null?(t.next=t,Bm(r)):(t.next=i.next,i.next=t),r.interleaved=t,pr(e,n)}function Su(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xm(e,n)}}function jv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ec(e,t,n,r){var i=e.updateQueue;br=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,v=a;switch(d=t,f=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(f,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,d=typeof g=="function"?g.call(f,h,d):g,d==null)break e;h=Be({},h,d);break e;case 2:br=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);zi|=o,e.lanes=o,e.memoizedState=h}}function $v(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(b(191,i));i.call(r)}}}var AE=new Sw.Component().refs;function Yf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Be({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Qc={isMounted:function(e){return(e=e._reactInternals)?ns(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ot(),i=Kr(e),s=lr(r,i);s.payload=t,n!=null&&(s.callback=n),t=qr(e,s,i),t!==null&&(Vn(t,e,i,r),Su(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ot(),i=Kr(e),s=lr(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=qr(e,s,i),t!==null&&(Vn(t,e,i,r),Su(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ot(),r=Kr(e),i=lr(n,r);i.tag=2,t!=null&&(i.callback=t),t=qr(e,i,r),t!==null&&(Vn(t,e,r,n),Su(t,e,r))}};function Bv(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Da(n,r)||!Da(i,s):!0}function PE(e,t,n){var r=!1,i=ii,s=t.contextType;return typeof s=="object"&&s!==null?s=Tn(s):(i=Kt(t)?$i:Vt.current,r=t.contextTypes,s=(r=r!=null)?Qs(e,i):ii),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Qc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Uv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Qc.enqueueReplaceState(t,t.state,null)}function Xf(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=AE,Um(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Tn(s):(s=Kt(t)?$i:Vt.current,i.context=Qs(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Yf(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Qc.enqueueReplaceState(i,i.state,null),ec(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Vo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===AE&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,e))}return e}function Zl(e,t){throw e=Object.prototype.toString.call(t),Error(b(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zv(e){var t=e._init;return t(e._payload)}function xE(e){function t(p,m){if(e){var _=p.deletions;_===null?(p.deletions=[m],p.flags|=16):_.push(m)}}function n(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function r(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function i(p,m){return p=Gr(p,m),p.index=0,p.sibling=null,p}function s(p,m,_){return p.index=_,e?(_=p.alternate,_!==null?(_=_.index,_<m?(p.flags|=2,m):_):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,m,_,y){return m===null||m.tag!==6?(m=Ad(_,p.mode,y),m.return=p,m):(m=i(m,_),m.return=p,m)}function l(p,m,_,y){var I=_.type;return I===vs?c(p,m,_.props.children,y,_.key):m!==null&&(m.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Vr&&zv(I)===m.type)?(y=i(m,_.props),y.ref=Vo(p,m,_),y.return=p,y):(y=Ru(_.type,_.key,_.props,null,p.mode,y),y.ref=Vo(p,m,_),y.return=p,y)}function u(p,m,_,y){return m===null||m.tag!==4||m.stateNode.containerInfo!==_.containerInfo||m.stateNode.implementation!==_.implementation?(m=Pd(_,p.mode,y),m.return=p,m):(m=i(m,_.children||[]),m.return=p,m)}function c(p,m,_,y,I){return m===null||m.tag!==7?(m=Fi(_,p.mode,y,I),m.return=p,m):(m=i(m,_),m.return=p,m)}function h(p,m,_){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ad(""+m,p.mode,_),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ul:return _=Ru(m.type,m.key,m.props,null,p.mode,_),_.ref=Vo(p,null,m),_.return=p,_;case ys:return m=Pd(m,p.mode,_),m.return=p,m;case Vr:var y=m._init;return h(p,y(m._payload),_)}if(Go(m)||xo(m))return m=Fi(m,p.mode,_,null),m.return=p,m;Zl(p,m)}return null}function d(p,m,_,y){var I=m!==null?m.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return I!==null?null:a(p,m,""+_,y);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ul:return _.key===I?l(p,m,_,y):null;case ys:return _.key===I?u(p,m,_,y):null;case Vr:return I=_._init,d(p,m,I(_._payload),y)}if(Go(_)||xo(_))return I!==null?null:c(p,m,_,y,null);Zl(p,_)}return null}function f(p,m,_,y,I){if(typeof y=="string"&&y!==""||typeof y=="number")return p=p.get(_)||null,a(m,p,""+y,I);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ul:return p=p.get(y.key===null?_:y.key)||null,l(m,p,y,I);case ys:return p=p.get(y.key===null?_:y.key)||null,u(m,p,y,I);case Vr:var R=y._init;return f(p,m,_,R(y._payload),I)}if(Go(y)||xo(y))return p=p.get(_)||null,c(m,p,y,I,null);Zl(m,y)}return null}function g(p,m,_,y){for(var I=null,R=null,A=m,x=m=0,N=null;A!==null&&x<_.length;x++){A.index>x?(N=A,A=null):N=A.sibling;var F=d(p,A,_[x],y);if(F===null){A===null&&(A=N);break}e&&A&&F.alternate===null&&t(p,A),m=s(F,m,x),R===null?I=F:R.sibling=F,R=F,A=N}if(x===_.length)return n(p,A),Ne&&Si(p,x),I;if(A===null){for(;x<_.length;x++)A=h(p,_[x],y),A!==null&&(m=s(A,m,x),R===null?I=A:R.sibling=A,R=A);return Ne&&Si(p,x),I}for(A=r(p,A);x<_.length;x++)N=f(A,p,x,_[x],y),N!==null&&(e&&N.alternate!==null&&A.delete(N.key===null?x:N.key),m=s(N,m,x),R===null?I=N:R.sibling=N,R=N);return e&&A.forEach(function(ie){return t(p,ie)}),Ne&&Si(p,x),I}function v(p,m,_,y){var I=xo(_);if(typeof I!="function")throw Error(b(150));if(_=I.call(_),_==null)throw Error(b(151));for(var R=I=null,A=m,x=m=0,N=null,F=_.next();A!==null&&!F.done;x++,F=_.next()){A.index>x?(N=A,A=null):N=A.sibling;var ie=d(p,A,F.value,y);if(ie===null){A===null&&(A=N);break}e&&A&&ie.alternate===null&&t(p,A),m=s(ie,m,x),R===null?I=ie:R.sibling=ie,R=ie,A=N}if(F.done)return n(p,A),Ne&&Si(p,x),I;if(A===null){for(;!F.done;x++,F=_.next())F=h(p,F.value,y),F!==null&&(m=s(F,m,x),R===null?I=F:R.sibling=F,R=F);return Ne&&Si(p,x),I}for(A=r(p,A);!F.done;x++,F=_.next())F=f(A,p,x,F.value,y),F!==null&&(e&&F.alternate!==null&&A.delete(F.key===null?x:F.key),m=s(F,m,x),R===null?I=F:R.sibling=F,R=F);return e&&A.forEach(function(ve){return t(p,ve)}),Ne&&Si(p,x),I}function w(p,m,_,y){if(typeof _=="object"&&_!==null&&_.type===vs&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ul:e:{for(var I=_.key,R=m;R!==null;){if(R.key===I){if(I=_.type,I===vs){if(R.tag===7){n(p,R.sibling),m=i(R,_.props.children),m.return=p,p=m;break e}}else if(R.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Vr&&zv(I)===R.type){n(p,R.sibling),m=i(R,_.props),m.ref=Vo(p,R,_),m.return=p,p=m;break e}n(p,R);break}else t(p,R);R=R.sibling}_.type===vs?(m=Fi(_.props.children,p.mode,y,_.key),m.return=p,p=m):(y=Ru(_.type,_.key,_.props,null,p.mode,y),y.ref=Vo(p,m,_),y.return=p,p=y)}return o(p);case ys:e:{for(R=_.key;m!==null;){if(m.key===R)if(m.tag===4&&m.stateNode.containerInfo===_.containerInfo&&m.stateNode.implementation===_.implementation){n(p,m.sibling),m=i(m,_.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else t(p,m);m=m.sibling}m=Pd(_,p.mode,y),m.return=p,p=m}return o(p);case Vr:return R=_._init,w(p,m,R(_._payload),y)}if(Go(_))return g(p,m,_,y);if(xo(_))return v(p,m,_,y);Zl(p,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,m!==null&&m.tag===6?(n(p,m.sibling),m=i(m,_),m.return=p,p=m):(n(p,m),m=Ad(_,p.mode,y),m.return=p,p=m),o(p)):n(p,m)}return w}var Xs=xE(!0),CE=xE(!1),fl={},Gn=di(fl),Na=di(fl),La=di(fl);function ki(e){if(e===fl)throw Error(b(174));return e}function zm(e,t){switch(Ce(La,t),Ce(Na,e),Ce(Gn,fl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Rf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Rf(t,e)}Ve(Gn),Ce(Gn,t)}function Js(){Ve(Gn),Ve(Na),Ve(La)}function RE(e){ki(La.current);var t=ki(Gn.current),n=Rf(t,e.type);t!==n&&(Ce(Na,e),Ce(Gn,n))}function Hm(e){Na.current===e&&(Ve(Gn),Ve(Na))}var Fe=di(0);function tc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _d=[];function qm(){for(var e=0;e<_d.length;e++)_d[e]._workInProgressVersionPrimary=null;_d.length=0}var Iu=Er.ReactCurrentDispatcher,wd=Er.ReactCurrentBatchConfig,Ui=0,$e=null,lt=null,dt=null,nc=!1,la=!1,Oa=0,_R=0;function It(){throw Error(b(321))}function Wm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mn(e[n],t[n]))return!1;return!0}function Km(e,t,n,r,i,s){if(Ui=s,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Iu.current=e===null||e.memoizedState===null?SR:IR,e=n(r,i),la){s=0;do{if(la=!1,Oa=0,25<=s)throw Error(b(301));s+=1,dt=lt=null,t.updateQueue=null,Iu.current=AR,e=n(r,i)}while(la)}if(Iu.current=rc,t=lt!==null&&lt.next!==null,Ui=0,dt=lt=$e=null,nc=!1,t)throw Error(b(300));return e}function Gm(){var e=Oa!==0;return Oa=0,e}function Bn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?$e.memoizedState=dt=e:dt=dt.next=e,dt}function Sn(){if(lt===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var t=dt===null?$e.memoizedState:dt.next;if(t!==null)dt=t,lt=e;else{if(e===null)throw Error(b(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},dt===null?$e.memoizedState=dt=e:dt=dt.next=e}return dt}function Fa(e,t){return typeof t=="function"?t(e):t}function Ed(e){var t=Sn(),n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=e;var r=lt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Ui&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,$e.lanes|=c,zi|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Mn(r,t.memoizedState)||(qt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,$e.lanes|=s,zi|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Td(e){var t=Sn(),n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Mn(s,t.memoizedState)||(qt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function kE(){}function DE(e,t){var n=$e,r=Sn(),i=t(),s=!Mn(r.memoizedState,i);if(s&&(r.memoizedState=i,qt=!0),r=r.queue,Qm(ME.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,ja(9,bE.bind(null,n,r,i,t),void 0,null),ft===null)throw Error(b(349));Ui&30||VE(n,t,i)}return i}function VE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function bE(e,t,n,r){t.value=n,t.getSnapshot=r,NE(t)&&LE(e)}function ME(e,t,n){return n(function(){NE(t)&&LE(e)})}function NE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Mn(e,n)}catch{return!0}}function LE(e){var t=pr(e,1);t!==null&&Vn(t,e,1,-1)}function Hv(e){var t=Bn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fa,lastRenderedState:e},t.queue=e,e=e.dispatch=TR.bind(null,$e,e),[t.memoizedState,e]}function ja(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function OE(){return Sn().memoizedState}function Au(e,t,n,r){var i=Bn();$e.flags|=e,i.memoizedState=ja(1|t,n,void 0,r===void 0?null:r)}function Yc(e,t,n,r){var i=Sn();r=r===void 0?null:r;var s=void 0;if(lt!==null){var o=lt.memoizedState;if(s=o.destroy,r!==null&&Wm(r,o.deps)){i.memoizedState=ja(t,n,s,r);return}}$e.flags|=e,i.memoizedState=ja(1|t,n,s,r)}function qv(e,t){return Au(8390656,8,e,t)}function Qm(e,t){return Yc(2048,8,e,t)}function FE(e,t){return Yc(4,2,e,t)}function jE(e,t){return Yc(4,4,e,t)}function $E(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function BE(e,t,n){return n=n!=null?n.concat([e]):null,Yc(4,4,$E.bind(null,t,e),n)}function Ym(){}function UE(e,t){var n=Sn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zE(e,t){var n=Sn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function HE(e,t,n){return Ui&21?(Mn(n,t)||(n=Kw(),$e.lanes|=n,zi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qt=!0),e.memoizedState=n)}function wR(e,t){var n=Ee;Ee=n!==0&&4>n?n:4,e(!0);var r=wd.transition;wd.transition={};try{e(!1),t()}finally{Ee=n,wd.transition=r}}function qE(){return Sn().memoizedState}function ER(e,t,n){var r=Kr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},WE(e))KE(t,n);else if(n=SE(e,t,n,r),n!==null){var i=Ot();Vn(n,e,r,i),GE(n,t,r)}}function TR(e,t,n){var r=Kr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(WE(e))KE(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Mn(a,o)){var l=t.interleaved;l===null?(i.next=i,Bm(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=SE(e,t,i,r),n!==null&&(i=Ot(),Vn(n,e,r,i),GE(n,t,r))}}function WE(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function KE(e,t){la=nc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function GE(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xm(e,n)}}var rc={readContext:Tn,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},SR={readContext:Tn,useCallback:function(e,t){return Bn().memoizedState=[e,t===void 0?null:t],e},useContext:Tn,useEffect:qv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Au(4194308,4,$E.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Au(4194308,4,e,t)},useInsertionEffect:function(e,t){return Au(4,2,e,t)},useMemo:function(e,t){var n=Bn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Bn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ER.bind(null,$e,e),[r.memoizedState,e]},useRef:function(e){var t=Bn();return e={current:e},t.memoizedState=e},useState:Hv,useDebugValue:Ym,useDeferredValue:function(e){return Bn().memoizedState=e},useTransition:function(){var e=Hv(!1),t=e[0];return e=wR.bind(null,e[1]),Bn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=$e,i=Bn();if(Ne){if(n===void 0)throw Error(b(407));n=n()}else{if(n=t(),ft===null)throw Error(b(349));Ui&30||VE(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,qv(ME.bind(null,r,s,e),[e]),r.flags|=2048,ja(9,bE.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Bn(),t=ft.identifierPrefix;if(Ne){var n=sr,r=ir;n=(r&~(1<<32-Dn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Oa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=_R++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},IR={readContext:Tn,useCallback:UE,useContext:Tn,useEffect:Qm,useImperativeHandle:BE,useInsertionEffect:FE,useLayoutEffect:jE,useMemo:zE,useReducer:Ed,useRef:OE,useState:function(){return Ed(Fa)},useDebugValue:Ym,useDeferredValue:function(e){var t=Sn();return HE(t,lt.memoizedState,e)},useTransition:function(){var e=Ed(Fa)[0],t=Sn().memoizedState;return[e,t]},useMutableSource:kE,useSyncExternalStore:DE,useId:qE,unstable_isNewReconciler:!1},AR={readContext:Tn,useCallback:UE,useContext:Tn,useEffect:Qm,useImperativeHandle:BE,useInsertionEffect:FE,useLayoutEffect:jE,useMemo:zE,useReducer:Td,useRef:OE,useState:function(){return Td(Fa)},useDebugValue:Ym,useDeferredValue:function(e){var t=Sn();return lt===null?t.memoizedState=e:HE(t,lt.memoizedState,e)},useTransition:function(){var e=Td(Fa)[0],t=Sn().memoizedState;return[e,t]},useMutableSource:kE,useSyncExternalStore:DE,useId:qE,unstable_isNewReconciler:!1};function Zs(e,t){try{var n="",r=t;do n+=Zx(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Sd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Jf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var PR=typeof WeakMap=="function"?WeakMap:Map;function QE(e,t,n){n=lr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){sc||(sc=!0,lp=r),Jf(e,t)},n}function YE(e,t,n){n=lr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Jf(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Jf(e,t),typeof r!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Wv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new PR;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=$R.bind(null,e,t,n),t.then(e,e))}function Kv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Gv(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=lr(-1,1),t.tag=2,qr(n,t,1))),n.lanes|=1),e)}var xR=Er.ReactCurrentOwner,qt=!1;function Nt(e,t,n,r){t.child=e===null?CE(t,null,n,r):Xs(t,e.child,n,r)}function Qv(e,t,n,r,i){n=n.render;var s=t.ref;return $s(t,i),r=Km(e,t,n,r,s,i),n=Gm(),e!==null&&!qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mr(e,t,i)):(Ne&&n&&Nm(t),t.flags|=1,Nt(e,t,r,i),t.child)}function Yv(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!ig(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,XE(e,t,s,r,i)):(e=Ru(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Da,n(o,r)&&e.ref===t.ref)return mr(e,t,i)}return t.flags|=1,e=Gr(s,r),e.ref=t.ref,e.return=t,t.child=e}function XE(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Da(s,r)&&e.ref===t.ref)if(qt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(qt=!0);else return t.lanes=e.lanes,mr(e,t,i)}return Zf(e,t,n,r,i)}function JE(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Cs,Jt),Jt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(Cs,Jt),Jt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ce(Cs,Jt),Jt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ce(Cs,Jt),Jt|=r;return Nt(e,t,i,n),t.child}function ZE(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Zf(e,t,n,r,i){var s=Kt(n)?$i:Vt.current;return s=Qs(t,s),$s(t,i),n=Km(e,t,n,r,s,i),r=Gm(),e!==null&&!qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mr(e,t,i)):(Ne&&r&&Nm(t),t.flags|=1,Nt(e,t,n,i),t.child)}function Xv(e,t,n,r,i){if(Kt(n)){var s=!0;Qu(t)}else s=!1;if($s(t,i),t.stateNode===null)Pu(e,t),PE(t,n,r),Xf(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Tn(u):(u=Kt(n)?$i:Vt.current,u=Qs(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Uv(t,o,r,u),br=!1;var d=t.memoizedState;o.state=d,ec(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Wt.current||br?(typeof c=="function"&&(Yf(t,n,c,r),l=t.memoizedState),(a=br||Bv(t,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,IE(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:xn(t.type,a),o.props=u,h=t.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Tn(l):(l=Kt(n)?$i:Vt.current,l=Qs(t,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Uv(t,o,r,l),br=!1,d=t.memoizedState,o.state=d,ec(t,r,o,i);var g=t.memoizedState;a!==h||d!==g||Wt.current||br?(typeof f=="function"&&(Yf(t,n,f,r),g=t.memoizedState),(u=br||Bv(t,n,u,r,d,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return ep(e,t,n,r,s,i)}function ep(e,t,n,r,i,s){ZE(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Lv(t,n,!1),mr(e,t,s);r=t.stateNode,xR.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Xs(t,e.child,null,s),t.child=Xs(t,null,a,s)):Nt(e,t,a,s),t.memoizedState=r.state,i&&Lv(t,n,!0),t.child}function eT(e){var t=e.stateNode;t.pendingContext?Nv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nv(e,t.context,!1),zm(e,t.containerInfo)}function Jv(e,t,n,r,i){return Ys(),Om(i),t.flags|=256,Nt(e,t,n,r),t.child}var tp={dehydrated:null,treeContext:null,retryLane:0};function np(e){return{baseLanes:e,cachePool:null,transitions:null}}function tT(e,t,n){var r=t.pendingProps,i=Fe.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ce(Fe,i&1),e===null)return Gf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Zc(o,r,0,null),e=Fi(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=np(n),t.memoizedState=tp,e):Xm(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return CR(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Gr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Gr(a,s):(s=Fi(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?np(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=tp,r}return s=e.child,e=s.sibling,r=Gr(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Xm(e,t){return t=Zc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function eu(e,t,n,r){return r!==null&&Om(r),Xs(t,e.child,null,n),e=Xm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function CR(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Sd(Error(b(422))),eu(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Zc({mode:"visible",children:r.children},i,0,null),s=Fi(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Xs(t,e.child,null,o),t.child.memoizedState=np(o),t.memoizedState=tp,s);if(!(t.mode&1))return eu(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(b(419)),r=Sd(s,r,void 0),eu(e,t,o,r)}if(a=(o&e.childLanes)!==0,qt||a){if(r=ft,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,pr(e,i),Vn(r,e,i,-1))}return rg(),r=Sd(Error(b(421))),eu(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=BR.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Zt=Hr(i.nextSibling),tn=t,Ne=!0,kn=null,e!==null&&(yn[vn++]=ir,yn[vn++]=sr,yn[vn++]=Bi,ir=e.id,sr=e.overflow,Bi=t),t=Xm(t,r.children),t.flags|=4096,t)}function Zv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Qf(e.return,t,n)}function Id(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function nT(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Nt(e,t,r.children,n),r=Fe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zv(e,n,t);else if(e.tag===19)Zv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ce(Fe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&tc(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Id(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&tc(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Id(t,!0,n,null,s);break;case"together":Id(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(b(153));if(t.child!==null){for(e=t.child,n=Gr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function RR(e,t,n){switch(t.tag){case 3:eT(t),Ys();break;case 5:RE(t);break;case 1:Kt(t.type)&&Qu(t);break;case 4:zm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ce(Ju,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Fe,Fe.current&1),t.flags|=128,null):n&t.child.childLanes?tT(e,t,n):(Ce(Fe,Fe.current&1),e=mr(e,t,n),e!==null?e.sibling:null);Ce(Fe,Fe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return nT(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce(Fe,Fe.current),r)break;return null;case 22:case 23:return t.lanes=0,JE(e,t,n)}return mr(e,t,n)}var rT,rp,iT,sT;rT=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rp=function(){};iT=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ki(Gn.current);var s=null;switch(n){case"input":i=Af(e,i),r=Af(e,r),s=[];break;case"select":i=Be({},i,{value:void 0}),r=Be({},r,{value:void 0}),s=[];break;case"textarea":i=Cf(e,i),r=Cf(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ku)}kf(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ia.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ia.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ke("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};sT=function(e,t,n,r){n!==r&&(t.flags|=4)};function bo(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function At(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function kR(e,t,n){var r=t.pendingProps;switch(Lm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(t),null;case 1:return Kt(t.type)&&Gu(),At(t),null;case 3:return r=t.stateNode,Js(),Ve(Wt),Ve(Vt),qm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Jl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kn!==null&&(hp(kn),kn=null))),rp(e,t),At(t),null;case 5:Hm(t);var i=ki(La.current);if(n=t.type,e!==null&&t.stateNode!=null)iT(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(b(166));return At(t),null}if(e=ki(Gn.current),Jl(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[zn]=t,r[Ma]=s,e=(t.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(i=0;i<Yo.length;i++)ke(Yo[i],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":lv(r,s),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ke("invalid",r);break;case"textarea":cv(r,s),ke("invalid",r)}kf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Xl(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Xl(r.textContent,a,e),i=["children",""+a]):Ia.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ke("scroll",r)}switch(n){case"input":zl(r),uv(r,s,!0);break;case"textarea":zl(r),hv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ku)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[zn]=t,e[Ma]=r,rT(e,t,!1,!1),t.stateNode=e;e:{switch(o=Df(n,r),n){case"dialog":ke("cancel",e),ke("close",e),i=r;break;case"iframe":case"object":case"embed":ke("load",e),i=r;break;case"video":case"audio":for(i=0;i<Yo.length;i++)ke(Yo[i],e);i=r;break;case"source":ke("error",e),i=r;break;case"img":case"image":case"link":ke("error",e),ke("load",e),i=r;break;case"details":ke("toggle",e),i=r;break;case"input":lv(e,r),i=Af(e,r),ke("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Be({},r,{value:void 0}),ke("invalid",e);break;case"textarea":cv(e,r),i=Cf(e,r),ke("invalid",e);break;default:i=r}kf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Nw(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bw(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Aa(e,l):typeof l=="number"&&Aa(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ia.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ke("scroll",e):l!=null&&Em(e,s,l,o))}switch(n){case"input":zl(e),uv(e,r,!1);break;case"textarea":zl(e),hv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ri(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Ls(e,!!r.multiple,s,!1):r.defaultValue!=null&&Ls(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ku)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return At(t),null;case 6:if(e&&t.stateNode!=null)sT(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(b(166));if(n=ki(La.current),ki(Gn.current),Jl(t)){if(r=t.stateNode,n=t.memoizedProps,r[zn]=t,(s=r.nodeValue!==n)&&(e=tn,e!==null))switch(e.tag){case 3:Xl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xl(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zn]=t,t.stateNode=r}return At(t),null;case 13:if(Ve(Fe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&Zt!==null&&t.mode&1&&!(t.flags&128))TE(),Ys(),t.flags|=98560,s=!1;else if(s=Jl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(b(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(b(317));s[zn]=t}else Ys(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;At(t),s=!1}else kn!==null&&(hp(kn),kn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Fe.current&1?ut===0&&(ut=3):rg())),t.updateQueue!==null&&(t.flags|=4),At(t),null);case 4:return Js(),rp(e,t),e===null&&Va(t.stateNode.containerInfo),At(t),null;case 10:return $m(t.type._context),At(t),null;case 17:return Kt(t.type)&&Gu(),At(t),null;case 19:if(Ve(Fe),s=t.memoizedState,s===null)return At(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)bo(s,!1);else{if(ut!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=tc(e),o!==null){for(t.flags|=128,bo(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ce(Fe,Fe.current&1|2),t.child}e=e.sibling}s.tail!==null&&et()>eo&&(t.flags|=128,r=!0,bo(s,!1),t.lanes=4194304)}else{if(!r)if(e=tc(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),bo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ne)return At(t),null}else 2*et()-s.renderingStartTime>eo&&n!==1073741824&&(t.flags|=128,r=!0,bo(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=et(),t.sibling=null,n=Fe.current,Ce(Fe,r?n&1|2:n&1),t):(At(t),null);case 22:case 23:return ng(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Jt&1073741824&&(At(t),t.subtreeFlags&6&&(t.flags|=8192)):At(t),null;case 24:return null;case 25:return null}throw Error(b(156,t.tag))}function DR(e,t){switch(Lm(t),t.tag){case 1:return Kt(t.type)&&Gu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Js(),Ve(Wt),Ve(Vt),qm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Hm(t),null;case 13:if(Ve(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(b(340));Ys()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ve(Fe),null;case 4:return Js(),null;case 10:return $m(t.type._context),null;case 22:case 23:return ng(),null;case 24:return null;default:return null}}var tu=!1,Ct=!1,VR=typeof WeakSet=="function"?WeakSet:Set,z=null;function xs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(e,t,r)}else n.current=null}function ip(e,t,n){try{n()}catch(r){We(e,t,r)}}var e0=!1;function bR(e,t){if(Bf=Hu,e=uE(),Mm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=e,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===e)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uf={focusedElem:e,selectionRange:n},Hu=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,w=g.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:xn(t.type,v),w);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(y){We(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return g=e0,e0=!1,g}function ua(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&ip(t,n,s)}i=i.next}while(i!==r)}}function Xc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function oT(e){var t=e.alternate;t!==null&&(e.alternate=null,oT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zn],delete t[Ma],delete t[qf],delete t[mR],delete t[gR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function aT(e){return e.tag===5||e.tag===3||e.tag===4}function t0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||aT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function op(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ku));else if(r!==4&&(e=e.child,e!==null))for(op(e,t,n),e=e.sibling;e!==null;)op(e,t,n),e=e.sibling}function ap(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ap(e,t,n),e=e.sibling;e!==null;)ap(e,t,n),e=e.sibling}var gt=null,Cn=!1;function Cr(e,t,n){for(n=n.child;n!==null;)lT(e,t,n),n=n.sibling}function lT(e,t,n){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(zc,n)}catch{}switch(n.tag){case 5:Ct||xs(n,t);case 6:var r=gt,i=Cn;gt=null,Cr(e,t,n),gt=r,Cn=i,gt!==null&&(Cn?(e=gt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):gt.removeChild(n.stateNode));break;case 18:gt!==null&&(Cn?(e=gt,n=n.stateNode,e.nodeType===8?yd(e.parentNode,n):e.nodeType===1&&yd(e,n),Ra(e)):yd(gt,n.stateNode));break;case 4:r=gt,i=Cn,gt=n.stateNode.containerInfo,Cn=!0,Cr(e,t,n),gt=r,Cn=i;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ip(n,t,o),i=i.next}while(i!==r)}Cr(e,t,n);break;case 1:if(!Ct&&(xs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){We(n,t,a)}Cr(e,t,n);break;case 21:Cr(e,t,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,Cr(e,t,n),Ct=r):Cr(e,t,n);break;default:Cr(e,t,n)}}function n0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new VR),t.forEach(function(r){var i=UR.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function An(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:gt=a.stateNode,Cn=!1;break e;case 3:gt=a.stateNode.containerInfo,Cn=!0;break e;case 4:gt=a.stateNode.containerInfo,Cn=!0;break e}a=a.return}if(gt===null)throw Error(b(160));lT(s,o,i),gt=null,Cn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){We(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)uT(t,e),t=t.sibling}function uT(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(An(t,e),$n(e),r&4){try{ua(3,e,e.return),Xc(3,e)}catch(v){We(e,e.return,v)}try{ua(5,e,e.return)}catch(v){We(e,e.return,v)}}break;case 1:An(t,e),$n(e),r&512&&n!==null&&xs(n,n.return);break;case 5:if(An(t,e),$n(e),r&512&&n!==null&&xs(n,n.return),e.flags&32){var i=e.stateNode;try{Aa(i,"")}catch(v){We(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&kw(i,s),Df(a,o);var u=Df(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?Nw(i,h):c==="dangerouslySetInnerHTML"?bw(i,h):c==="children"?Aa(i,h):Em(i,c,h,u)}switch(a){case"input":Pf(i,s);break;case"textarea":Dw(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Ls(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?Ls(i,!!s.multiple,s.defaultValue,!0):Ls(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ma]=s}catch(v){We(e,e.return,v)}}break;case 6:if(An(t,e),$n(e),r&4){if(e.stateNode===null)throw Error(b(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(v){We(e,e.return,v)}}break;case 3:if(An(t,e),$n(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ra(t.containerInfo)}catch(v){We(e,e.return,v)}break;case 4:An(t,e),$n(e);break;case 13:An(t,e),$n(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(eg=et())),r&4&&n0(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ct=(u=Ct)||c,An(t,e),Ct=u):An(t,e),$n(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(z=e,c=e.child;c!==null;){for(h=z=c;z!==null;){switch(d=z,f=d.child,d.tag){case 0:case 11:case 14:case 15:ua(4,d,d.return);break;case 1:xs(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){We(r,n,v)}}break;case 5:xs(d,d.return);break;case 22:if(d.memoizedState!==null){i0(h);continue}}f!==null?(f.return=d,z=f):i0(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Mw("display",o))}catch(v){We(e,e.return,v)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){We(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:An(t,e),$n(e),r&4&&n0(e);break;case 21:break;default:An(t,e),$n(e)}}function $n(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(aT(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Aa(i,""),r.flags&=-33);var s=t0(e);ap(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=t0(e);op(e,a,o);break;default:throw Error(b(161))}}catch(l){We(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function MR(e,t,n){z=e,cT(e)}function cT(e,t,n){for(var r=(e.mode&1)!==0;z!==null;){var i=z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||tu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ct;a=tu;var u=Ct;if(tu=o,(Ct=l)&&!u)for(z=i;z!==null;)o=z,l=o.child,o.tag===22&&o.memoizedState!==null?s0(i):l!==null?(l.return=o,z=l):s0(i);for(;s!==null;)z=s,cT(s),s=s.sibling;z=i,tu=a,Ct=u}r0(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,z=s):r0(e)}}function r0(e){for(;z!==null;){var t=z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ct||Xc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:xn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&$v(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$v(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Ra(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}Ct||t.flags&512&&sp(t)}catch(d){We(t,t.return,d)}}if(t===e){z=null;break}if(n=t.sibling,n!==null){n.return=t.return,z=n;break}z=t.return}}function i0(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,z=n;break}z=t.return}}function s0(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Xc(4,t)}catch(l){We(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){We(t,i,l)}}var s=t.return;try{sp(t)}catch(l){We(t,s,l)}break;case 5:var o=t.return;try{sp(t)}catch(l){We(t,o,l)}}}catch(l){We(t,t.return,l)}if(t===e){z=null;break}var a=t.sibling;if(a!==null){a.return=t.return,z=a;break}z=t.return}}var NR=Math.ceil,ic=Er.ReactCurrentDispatcher,Jm=Er.ReactCurrentOwner,En=Er.ReactCurrentBatchConfig,ye=0,ft=null,it=null,wt=0,Jt=0,Cs=di(0),ut=0,$a=null,zi=0,Jc=0,Zm=0,ca=null,zt=null,eg=0,eo=1/0,nr=null,sc=!1,lp=null,Wr=null,nu=!1,jr=null,oc=0,ha=0,up=null,xu=-1,Cu=0;function Ot(){return ye&6?et():xu!==-1?xu:xu=et()}function Kr(e){return e.mode&1?ye&2&&wt!==0?wt&-wt:vR.transition!==null?(Cu===0&&(Cu=Kw()),Cu):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:eE(e.type)),e):1}function Vn(e,t,n,r){if(50<ha)throw ha=0,up=null,Error(b(185));cl(e,n,r),(!(ye&2)||e!==ft)&&(e===ft&&(!(ye&2)&&(Jc|=n),ut===4&&Or(e,wt)),Gt(e,r),n===1&&ye===0&&!(t.mode&1)&&(eo=et()+500,Gc&&fi()))}function Gt(e,t){var n=e.callbackNode;vC(e,t);var r=zu(e,e===ft?wt:0);if(r===0)n!==null&&pv(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&pv(n),t===1)e.tag===0?yR(o0.bind(null,e)):_E(o0.bind(null,e)),fR(function(){!(ye&6)&&fi()}),n=null;else{switch(Gw(r)){case 1:n=Pm;break;case 4:n=qw;break;case 16:n=Uu;break;case 536870912:n=Ww;break;default:n=Uu}n=vT(n,hT.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hT(e,t){if(xu=-1,Cu=0,ye&6)throw Error(b(327));var n=e.callbackNode;if(Bs()&&e.callbackNode!==n)return null;var r=zu(e,e===ft?wt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ac(e,r);else{t=r;var i=ye;ye|=2;var s=fT();(ft!==e||wt!==t)&&(nr=null,eo=et()+500,Oi(e,t));do try{FR();break}catch(a){dT(e,a)}while(1);jm(),ic.current=s,ye=i,it!==null?t=0:(ft=null,wt=0,t=ut)}if(t!==0){if(t===2&&(i=Lf(e),i!==0&&(r=i,t=cp(e,i))),t===1)throw n=$a,Oi(e,0),Or(e,r),Gt(e,et()),n;if(t===6)Or(e,r);else{if(i=e.current.alternate,!(r&30)&&!LR(i)&&(t=ac(e,r),t===2&&(s=Lf(e),s!==0&&(r=s,t=cp(e,s))),t===1))throw n=$a,Oi(e,0),Or(e,r),Gt(e,et()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(b(345));case 2:Ii(e,zt,nr);break;case 3:if(Or(e,r),(r&130023424)===r&&(t=eg+500-et(),10<t)){if(zu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ot(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hf(Ii.bind(null,e,zt,nr),t);break}Ii(e,zt,nr);break;case 4:if(Or(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Dn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NR(r/1960))-r,10<r){e.timeoutHandle=Hf(Ii.bind(null,e,zt,nr),r);break}Ii(e,zt,nr);break;case 5:Ii(e,zt,nr);break;default:throw Error(b(329))}}}return Gt(e,et()),e.callbackNode===n?hT.bind(null,e):null}function cp(e,t){var n=ca;return e.current.memoizedState.isDehydrated&&(Oi(e,t).flags|=256),e=ac(e,t),e!==2&&(t=zt,zt=n,t!==null&&hp(t)),e}function hp(e){zt===null?zt=e:zt.push.apply(zt,e)}function LR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Mn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Or(e,t){for(t&=~Zm,t&=~Jc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Dn(t),r=1<<n;e[n]=-1,t&=~r}}function o0(e){if(ye&6)throw Error(b(327));Bs();var t=zu(e,0);if(!(t&1))return Gt(e,et()),null;var n=ac(e,t);if(e.tag!==0&&n===2){var r=Lf(e);r!==0&&(t=r,n=cp(e,r))}if(n===1)throw n=$a,Oi(e,0),Or(e,t),Gt(e,et()),n;if(n===6)throw Error(b(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ii(e,zt,nr),Gt(e,et()),null}function tg(e,t){var n=ye;ye|=1;try{return e(t)}finally{ye=n,ye===0&&(eo=et()+500,Gc&&fi())}}function Hi(e){jr!==null&&jr.tag===0&&!(ye&6)&&Bs();var t=ye;ye|=1;var n=En.transition,r=Ee;try{if(En.transition=null,Ee=1,e)return e()}finally{Ee=r,En.transition=n,ye=t,!(ye&6)&&fi()}}function ng(){Jt=Cs.current,Ve(Cs)}function Oi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,dR(n)),it!==null)for(n=it.return;n!==null;){var r=n;switch(Lm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gu();break;case 3:Js(),Ve(Wt),Ve(Vt),qm();break;case 5:Hm(r);break;case 4:Js();break;case 13:Ve(Fe);break;case 19:Ve(Fe);break;case 10:$m(r.type._context);break;case 22:case 23:ng()}n=n.return}if(ft=e,it=e=Gr(e.current,null),wt=Jt=t,ut=0,$a=null,Zm=Jc=zi=0,zt=ca=null,Ri!==null){for(t=0;t<Ri.length;t++)if(n=Ri[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ri=null}return e}function dT(e,t){do{var n=it;try{if(jm(),Iu.current=rc,nc){for(var r=$e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}nc=!1}if(Ui=0,dt=lt=$e=null,la=!1,Oa=0,Jm.current=null,n===null||n.return===null){ut=1,$a=t,it=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=wt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Kv(o);if(f!==null){f.flags&=-257,Gv(f,o,a,s,t),f.mode&1&&Wv(s,u,t),t=f,l=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(l),t.updateQueue=v}else g.add(l);break e}else{if(!(t&1)){Wv(s,u,t),rg();break e}l=Error(b(426))}}else if(Ne&&a.mode&1){var w=Kv(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Gv(w,o,a,s,t),Om(Zs(l,a));break e}}s=l=Zs(l,a),ut!==4&&(ut=2),ca===null?ca=[s]:ca.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=QE(s,l,t);jv(s,p);break e;case 1:a=l;var m=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Wr===null||!Wr.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var y=YE(s,a,t);jv(s,y);break e}}s=s.return}while(s!==null)}mT(n)}catch(I){t=I,it===n&&n!==null&&(it=n=n.return);continue}break}while(1)}function fT(){var e=ic.current;return ic.current=rc,e===null?rc:e}function rg(){(ut===0||ut===3||ut===2)&&(ut=4),ft===null||!(zi&268435455)&&!(Jc&268435455)||Or(ft,wt)}function ac(e,t){var n=ye;ye|=2;var r=fT();(ft!==e||wt!==t)&&(nr=null,Oi(e,t));do try{OR();break}catch(i){dT(e,i)}while(1);if(jm(),ye=n,ic.current=r,it!==null)throw Error(b(261));return ft=null,wt=0,ut}function OR(){for(;it!==null;)pT(it)}function FR(){for(;it!==null&&!uC();)pT(it)}function pT(e){var t=yT(e.alternate,e,Jt);e.memoizedProps=e.pendingProps,t===null?mT(e):it=t,Jm.current=null}function mT(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=DR(n,t),n!==null){n.flags&=32767,it=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ut=6,it=null;return}}else if(n=kR(n,t,Jt),n!==null){it=n;return}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);ut===0&&(ut=5)}function Ii(e,t,n){var r=Ee,i=En.transition;try{En.transition=null,Ee=1,jR(e,t,n,r)}finally{En.transition=i,Ee=r}return null}function jR(e,t,n,r){do Bs();while(jr!==null);if(ye&6)throw Error(b(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(b(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(_C(e,s),e===ft&&(it=ft=null,wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nu||(nu=!0,vT(Uu,function(){return Bs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=En.transition,En.transition=null;var o=Ee;Ee=1;var a=ye;ye|=4,Jm.current=null,bR(e,n),uT(n,e),sR(Uf),Hu=!!Bf,Uf=Bf=null,e.current=n,MR(n),cC(),ye=a,Ee=o,En.transition=s}else e.current=n;if(nu&&(nu=!1,jr=e,oc=i),s=e.pendingLanes,s===0&&(Wr=null),fC(n.stateNode),Gt(e,et()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(sc)throw sc=!1,e=lp,lp=null,e;return oc&1&&e.tag!==0&&Bs(),s=e.pendingLanes,s&1?e===up?ha++:(ha=0,up=e):ha=0,fi(),null}function Bs(){if(jr!==null){var e=Gw(oc),t=En.transition,n=Ee;try{if(En.transition=null,Ee=16>e?16:e,jr===null)var r=!1;else{if(e=jr,jr=null,oc=0,ye&6)throw Error(b(331));var i=ye;for(ye|=4,z=e.current;z!==null;){var s=z,o=s.child;if(z.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(z=u;z!==null;){var c=z;switch(c.tag){case 0:case 11:case 15:ua(8,c,s)}var h=c.child;if(h!==null)h.return=c,z=h;else for(;z!==null;){c=z;var d=c.sibling,f=c.return;if(oT(c),c===u){z=null;break}if(d!==null){d.return=f,z=d;break}z=f}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,z=o;else e:for(;z!==null;){if(s=z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ua(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,z=p;break e}z=s.return}}var m=e.current;for(z=m;z!==null;){o=z;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,z=_;else e:for(o=m;z!==null;){if(a=z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xc(9,a)}}catch(I){We(a,a.return,I)}if(a===o){z=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,z=y;break e}z=a.return}}if(ye=i,fi(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(zc,e)}catch{}r=!0}return r}finally{Ee=n,En.transition=t}}return!1}function a0(e,t,n){t=Zs(n,t),t=QE(e,t,1),e=qr(e,t,1),t=Ot(),e!==null&&(cl(e,1,t),Gt(e,t))}function We(e,t,n){if(e.tag===3)a0(e,e,n);else for(;t!==null;){if(t.tag===3){a0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wr===null||!Wr.has(r))){e=Zs(n,e),e=YE(t,e,1),t=qr(t,e,1),e=Ot(),t!==null&&(cl(t,1,e),Gt(t,e));break}}t=t.return}}function $R(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ot(),e.pingedLanes|=e.suspendedLanes&n,ft===e&&(wt&n)===n&&(ut===4||ut===3&&(wt&130023424)===wt&&500>et()-eg?Oi(e,0):Zm|=n),Gt(e,t)}function gT(e,t){t===0&&(e.mode&1?(t=Wl,Wl<<=1,!(Wl&130023424)&&(Wl=4194304)):t=1);var n=Ot();e=pr(e,t),e!==null&&(cl(e,t,n),Gt(e,n))}function BR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),gT(e,n)}function UR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(t),gT(e,n)}var yT;yT=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Wt.current)qt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qt=!1,RR(e,t,n);qt=!!(e.flags&131072)}else qt=!1,Ne&&t.flags&1048576&&wE(t,Xu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Pu(e,t),e=t.pendingProps;var i=Qs(t,Vt.current);$s(t,n),i=Km(null,t,r,e,i,n);var s=Gm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Kt(r)?(s=!0,Qu(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Um(t),i.updater=Qc,t.stateNode=i,i._reactInternals=t,Xf(t,r,e,n),t=ep(null,t,r,!0,s,n)):(t.tag=0,Ne&&s&&Nm(t),Nt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Pu(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=HR(r),e=xn(r,e),i){case 0:t=Zf(null,t,r,e,n);break e;case 1:t=Xv(null,t,r,e,n);break e;case 11:t=Qv(null,t,r,e,n);break e;case 14:t=Yv(null,t,r,xn(r.type,e),n);break e}throw Error(b(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xn(r,i),Zf(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xn(r,i),Xv(e,t,r,i,n);case 3:e:{if(eT(t),e===null)throw Error(b(387));r=t.pendingProps,s=t.memoizedState,i=s.element,IE(e,t),ec(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Zs(Error(b(423)),t),t=Jv(e,t,r,n,i);break e}else if(r!==i){i=Zs(Error(b(424)),t),t=Jv(e,t,r,n,i);break e}else for(Zt=Hr(t.stateNode.containerInfo.firstChild),tn=t,Ne=!0,kn=null,n=CE(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ys(),r===i){t=mr(e,t,n);break e}Nt(e,t,r,n)}t=t.child}return t;case 5:return RE(t),e===null&&Gf(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,zf(r,i)?o=null:s!==null&&zf(r,s)&&(t.flags|=32),ZE(e,t),Nt(e,t,o,n),t.child;case 6:return e===null&&Gf(t),null;case 13:return tT(e,t,n);case 4:return zm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Xs(t,null,r,n):Nt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xn(r,i),Qv(e,t,r,i,n);case 7:return Nt(e,t,t.pendingProps,n),t.child;case 8:return Nt(e,t,t.pendingProps.children,n),t.child;case 12:return Nt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Ce(Ju,r._currentValue),r._currentValue=o,s!==null)if(Mn(s.value,o)){if(s.children===i.children&&!Wt.current){t=mr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=lr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Qf(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(b(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Qf(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Nt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,$s(t,n),i=Tn(i),r=r(i),t.flags|=1,Nt(e,t,r,n),t.child;case 14:return r=t.type,i=xn(r,t.pendingProps),i=xn(r.type,i),Yv(e,t,r,i,n);case 15:return XE(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xn(r,i),Pu(e,t),t.tag=1,Kt(r)?(e=!0,Qu(t)):e=!1,$s(t,n),PE(t,r,i),Xf(t,r,i,n),ep(null,t,r,!0,e,n);case 19:return nT(e,t,n);case 22:return JE(e,t,n)}throw Error(b(156,t.tag))};function vT(e,t){return Hw(e,t)}function zR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,t,n,r){return new zR(e,t,n,r)}function ig(e){return e=e.prototype,!(!e||!e.isReactComponent)}function HR(e){if(typeof e=="function")return ig(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sm)return 11;if(e===Im)return 14}return 2}function Gr(e,t){var n=e.alternate;return n===null?(n=wn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ru(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")ig(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case vs:return Fi(n.children,i,s,t);case Tm:o=8,i|=8;break;case Ef:return e=wn(12,n,t,i|2),e.elementType=Ef,e.lanes=s,e;case Tf:return e=wn(13,n,t,i),e.elementType=Tf,e.lanes=s,e;case Sf:return e=wn(19,n,t,i),e.elementType=Sf,e.lanes=s,e;case xw:return Zc(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Aw:o=10;break e;case Pw:o=9;break e;case Sm:o=11;break e;case Im:o=14;break e;case Vr:o=16,r=null;break e}throw Error(b(130,e==null?e:typeof e,""))}return t=wn(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Fi(e,t,n,r){return e=wn(7,e,r,t),e.lanes=n,e}function Zc(e,t,n,r){return e=wn(22,e,r,t),e.elementType=xw,e.lanes=n,e.stateNode={isHidden:!1},e}function Ad(e,t,n){return e=wn(6,e,null,t),e.lanes=n,e}function Pd(e,t,n){return t=wn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qR(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=od(0),this.expirationTimes=od(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=od(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sg(e,t,n,r,i,s,o,a,l){return e=new qR(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=wn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Um(s),e}function WR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ys,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function _T(e){if(!e)return ii;e=e._reactInternals;e:{if(ns(e)!==e||e.tag!==1)throw Error(b(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(b(171))}if(e.tag===1){var n=e.type;if(Kt(n))return vE(e,n,t)}return t}function wT(e,t,n,r,i,s,o,a,l){return e=sg(n,r,!0,e,i,s,o,a,l),e.context=_T(null),n=e.current,r=Ot(),i=Kr(n),s=lr(r,i),s.callback=t??null,qr(n,s,i),e.current.lanes=i,cl(e,i,r),Gt(e,r),e}function eh(e,t,n,r){var i=t.current,s=Ot(),o=Kr(i);return n=_T(n),t.context===null?t.context=n:t.pendingContext=n,t=lr(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=qr(i,t,o),e!==null&&(Vn(e,i,o,s),Su(e,i,o)),o}function lc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function l0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function og(e,t){l0(e,t),(e=e.alternate)&&l0(e,t)}function KR(){return null}var ET=typeof reportError=="function"?reportError:function(e){console.error(e)};function ag(e){this._internalRoot=e}th.prototype.render=ag.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(b(409));eh(e,t,null,null)};th.prototype.unmount=ag.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hi(function(){eh(null,e,null,null)}),t[fr]=null}};function th(e){this._internalRoot=e}th.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lr.length&&t!==0&&t<Lr[n].priority;n++);Lr.splice(n,0,e),n===0&&Zw(e)}};function lg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function u0(){}function GR(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=lc(o);s.call(u)}}var o=wT(t,r,e,0,null,!1,!1,"",u0);return e._reactRootContainer=o,e[fr]=o.current,Va(e.nodeType===8?e.parentNode:e),Hi(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=lc(l);a.call(u)}}var l=sg(e,0,!1,null,null,!1,!1,"",u0);return e._reactRootContainer=l,e[fr]=l.current,Va(e.nodeType===8?e.parentNode:e),Hi(function(){eh(t,l,n,r)}),l}function rh(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=lc(o);a.call(l)}}eh(t,o,e,i)}else o=GR(n,t,e,i,r);return lc(o)}Qw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Qo(t.pendingLanes);n!==0&&(xm(t,n|1),Gt(t,et()),!(ye&6)&&(eo=et()+500,fi()))}break;case 13:Hi(function(){var r=pr(e,1);if(r!==null){var i=Ot();Vn(r,e,1,i)}}),og(e,1)}};Cm=function(e){if(e.tag===13){var t=pr(e,134217728);if(t!==null){var n=Ot();Vn(t,e,134217728,n)}og(e,134217728)}};Yw=function(e){if(e.tag===13){var t=Kr(e),n=pr(e,t);if(n!==null){var r=Ot();Vn(n,e,t,r)}og(e,t)}};Xw=function(){return Ee};Jw=function(e,t){var n=Ee;try{return Ee=e,t()}finally{Ee=n}};bf=function(e,t,n){switch(t){case"input":if(Pf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Kc(r);if(!i)throw Error(b(90));Rw(r),Pf(r,i)}}}break;case"textarea":Dw(e,n);break;case"select":t=n.value,t!=null&&Ls(e,!!n.multiple,t,!1)}};Fw=tg;jw=Hi;var QR={usingClientEntryPoint:!1,Events:[dl,Ts,Kc,Lw,Ow,tg]},Mo={findFiberByHostInstance:Ci,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},YR={bundleType:Mo.bundleType,version:Mo.version,rendererPackageName:Mo.rendererPackageName,rendererConfig:Mo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Er.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Uw(e),e===null?null:e.stateNode},findFiberByHostInstance:Mo.findFiberByHostInstance||KR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{zc=ru.inject(YR),Kn=ru}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QR;ln.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lg(t))throw Error(b(200));return WR(e,t,null,n)};ln.createRoot=function(e,t){if(!lg(e))throw Error(b(299));var n=!1,r="",i=ET;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=sg(e,1,!1,null,null,n,!1,r,i),e[fr]=t.current,Va(e.nodeType===8?e.parentNode:e),new ag(t)};ln.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(b(188)):(e=Object.keys(e).join(","),Error(b(268,e)));return e=Uw(t),e=e===null?null:e.stateNode,e};ln.flushSync=function(e){return Hi(e)};ln.hydrate=function(e,t,n){if(!nh(t))throw Error(b(200));return rh(null,e,t,!0,n)};ln.hydrateRoot=function(e,t,n){if(!lg(e))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=ET;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=wT(t,null,e,1,n??null,i,!1,s,o),e[fr]=t.current,Va(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new th(t)};ln.render=function(e,t,n){if(!nh(t))throw Error(b(200));return rh(null,e,t,!1,n)};ln.unmountComponentAtNode=function(e){if(!nh(e))throw Error(b(40));return e._reactRootContainer?(Hi(function(){rh(null,null,e,!1,function(){e._reactRootContainer=null,e[fr]=null})}),!0):!1};ln.unstable_batchedUpdates=tg;ln.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nh(n))throw Error(b(200));if(e==null||e._reactInternals===void 0)throw Error(b(38));return rh(e,t,n,!1,r)};ln.version="18.2.0-next-9e3b772b8-20220608";function TT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TT)}catch(e){console.error(e)}}TT(),ww.exports=ln;var ST=ww.exports;const XR=es(ST);var c0=ST;_f.createRoot=c0.createRoot,_f.hydrateRoot=c0.hydrateRoot;/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ke(){return Ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ke.apply(this,arguments)}var Je;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Je||(Je={}));const h0="popstate";function JR(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Ba("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Wi(i)}return e2(t,n,null,e)}function ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ZR(){return Math.random().toString(36).substr(2,8)}function d0(e,t){return{usr:e.state,key:e.key,idx:t}}function Ba(e,t,n,r){return n===void 0&&(n=null),Ke({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Tr(t):t,{state:n,key:t&&t.key||r||ZR()})}function Wi(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Tr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function e2(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Je.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Ke({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=Je.Pop;let w=c(),p=w==null?null:w-u;u=w,l&&l({action:a,location:v.location,delta:p})}function d(w,p){a=Je.Push;let m=Ba(v.location,w,p);n&&n(m,w),u=c()+1;let _=d0(m,u),y=v.createHref(m);try{o.pushState(_,"",y)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(y)}s&&l&&l({action:a,location:v.location,delta:1})}function f(w,p){a=Je.Replace;let m=Ba(v.location,w,p);n&&n(m,w),u=c();let _=d0(m,u),y=v.createHref(m);o.replaceState(_,"",y),s&&l&&l({action:a,location:v.location,delta:0})}function g(w){let p=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof w=="string"?w:Wi(w);return ue(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let v={get action(){return a},get location(){return e(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(h0,h),l=w,()=>{i.removeEventListener(h0,h),l=null}},createHref(w){return t(i,w)},createURL:g,encodeLocation(w){let p=g(w);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:f,go(w){return o.go(w)}};return v}var Ze;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ze||(Ze={}));const t2=new Set(["lazy","caseSensitive","path","id","index","children"]);function n2(e){return e.index===!0}function dp(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(ue(i.index!==!0||!i.children,"Cannot specify children on an index route"),ue(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),n2(i)){let l=Ke({},i,t(i),{id:a});return r[a]=l,l}else{let l=Ke({},i,t(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=dp(i.children,t,o,r)),l}})}function Rs(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Tr(t):t,i=go(r.pathname||"/",n);if(i==null)return null;let s=IT(e);i2(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=f2(s[a],g2(i));return o}function r2(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function IT(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ue(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ur([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(ue(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),IT(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:h2(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of AT(s.path))i(s,o,l)}),t}function AT(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=AT(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function i2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:d2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const s2=/^:\w+$/,o2=3,a2=2,l2=1,u2=10,c2=-2,f0=e=>e==="*";function h2(e,t){let n=e.split("/"),r=n.length;return n.some(f0)&&(r+=c2),t&&(r+=a2),n.filter(i=>!f0(i)).reduce((i,s)=>i+(s2.test(s)?o2:s===""?l2:u2),r)}function d2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function f2(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=p2({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:ur([i,c.pathname]),pathnameBase:w2(ur([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=ur([i,c.pathnameBase]))}return s}function p2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=m2(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:d,isOptional:f}=c;if(d==="*"){let v=a[h]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[h];return f&&!g?u[d]=void 0:u[d]=y2(g||"",d),u},{}),pathname:s,pathnameBase:o,pattern:e}}function m2(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),qi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function g2(e){try{return decodeURI(e)}catch(t){return qi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function y2(e,t){try{return decodeURIComponent(e)}catch(n){return qi(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function go(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function v2(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Tr(e):e;return{pathname:n?n.startsWith("/")?n:_2(n,t):t,search:E2(r),hash:T2(i)}}function _2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function xd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ih(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ug(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Tr(e):(i=Ke({},e),ue(!i.pathname||!i.pathname.includes("?"),xd("?","pathname","search",i)),ue(!i.pathname||!i.pathname.includes("#"),xd("#","pathname","hash",i)),ue(!i.search||!i.search.includes("#"),xd("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let h=t.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?t[h]:"/"}let l=v2(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ur=e=>e.join("/").replace(/\/\/+/g,"/"),w2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),E2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,T2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class cg{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function PT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const xT=["post","put","patch","delete"],S2=new Set(xT),I2=["get",...xT],A2=new Set(I2),P2=new Set([301,302,303,307,308]),x2=new Set([307,308]),Cd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},C2={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},No={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},CT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,R2=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),RT="remix-router-transitions";function k2(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;ue(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let T=e.detectErrorBoundary;i=P=>({hasErrorBoundary:T(P)})}else i=R2;let s={},o=dp(e.routes,i,void 0,s),a,l=e.basename||"/",u=Ke({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),c=null,h=new Set,d=null,f=null,g=null,v=e.hydrationData!=null,w=Rs(o,e.history.location,l),p=null;if(w==null){let T=gn(404,{pathname:e.history.location.pathname}),{matches:P,route:k}=E0(o);w=P,p={[k.id]:T}}let m=!w.some(T=>T.route.lazy)&&(!w.some(T=>T.route.loader)||e.hydrationData!=null),_,y={historyAction:e.history.action,location:e.history.location,matches:w,initialized:m,navigation:Cd,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||p,fetchers:new Map,blockers:new Map},I=Je.Pop,R=!1,A,x=!1,N=new Map,F=null,ie=!1,ve=!1,_e=[],Y=[],U=new Map,H=0,te=-1,V=new Map,$=new Set,W=new Map,B=new Map,ce=new Set,Le=new Map,ze=new Map,Bt=!1;function He(){if(c=e.history.listen(T=>{let{action:P,location:k,delta:j}=T;if(Bt){Bt=!1;return}qi(ze.size===0||j!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Q=Jy({currentLocation:y.location,nextLocation:k,historyAction:P});if(Q&&j!=null){Bt=!0,e.history.go(j*-1),jl(Q,{state:"blocked",location:k,proceed(){jl(Q,{state:"proceeding",proceed:void 0,reset:void 0,location:k}),e.history.go(j)},reset(){let J=new Map(y.blockers);J.set(Q,No),Ie({blockers:J})}});return}return Ut(P,k)}),n){B2(t,N);let T=()=>U2(t,N);t.addEventListener("pagehide",T),F=()=>t.removeEventListener("pagehide",T)}return y.initialized||Ut(Je.Pop,y.location),_}function cn(){c&&c(),F&&F(),h.clear(),A&&A.abort(),y.fetchers.forEach((T,P)=>Fl(P)),y.blockers.forEach((T,P)=>Xy(P))}function On(T){return h.add(T),()=>h.delete(T)}function Ie(T,P){y=Ke({},y,T);let k=[],j=[];u.v7_fetcherPersist&&y.fetchers.forEach((Q,J)=>{Q.state==="idle"&&(ce.has(J)?j.push(J):k.push(J))}),h.forEach(Q=>Q(y,{deletedFetchers:j,unstable_viewTransitionOpts:P})),u.v7_fetcherPersist&&(k.forEach(Q=>y.fetchers.delete(Q)),j.forEach(Q=>Fl(Q)))}function hn(T,P){var k,j;let Q=y.actionData!=null&&y.navigation.formMethod!=null&&Rn(y.navigation.formMethod)&&y.navigation.state==="loading"&&((k=T.state)==null?void 0:k._isRedirect)!==!0,J;P.actionData?Object.keys(P.actionData).length>0?J=P.actionData:J=null:Q?J=y.actionData:J=null;let oe=P.loaderData?w0(y.loaderData,P.loaderData,P.matches||[],P.errors):y.loaderData,Z=y.blockers;Z.size>0&&(Z=new Map(Z),Z.forEach((Oe,pe)=>Z.set(pe,No)));let G=R===!0||y.navigation.formMethod!=null&&Rn(y.navigation.formMethod)&&((j=T.state)==null?void 0:j._isRedirect)!==!0;a&&(o=a,a=void 0),ie||I===Je.Pop||(I===Je.Push?e.history.push(T,T.state):I===Je.Replace&&e.history.replace(T,T.state));let Ae;if(I===Je.Pop){let Oe=N.get(y.location.pathname);Oe&&Oe.has(T.pathname)?Ae={currentLocation:y.location,nextLocation:T}:N.has(T.pathname)&&(Ae={currentLocation:T,nextLocation:y.location})}else if(x){let Oe=N.get(y.location.pathname);Oe?Oe.add(T.pathname):(Oe=new Set([T.pathname]),N.set(y.location.pathname,Oe)),Ae={currentLocation:y.location,nextLocation:T}}Ie(Ke({},P,{actionData:J,loaderData:oe,historyAction:I,location:T,initialized:!0,navigation:Cd,revalidation:"idle",restoreScrollPosition:ev(T,P.matches||y.matches),preventScrollReset:G,blockers:Z}),Ae),I=Je.Pop,R=!1,x=!1,ie=!1,ve=!1,_e=[],Y=[]}async function Xt(T,P){if(typeof T=="number"){e.history.go(T);return}let k=fp(y.location,y.matches,l,u.v7_prependBasename,T,P==null?void 0:P.fromRouteId,P==null?void 0:P.relative),{path:j,submission:Q,error:J}=p0(u.v7_normalizeFormMethod,!1,k,P),oe=y.location,Z=Ba(y.location,j,P&&P.state);Z=Ke({},Z,e.history.encodeLocation(Z));let G=P&&P.replace!=null?P.replace:void 0,Ae=Je.Push;G===!0?Ae=Je.Replace:G===!1||Q!=null&&Rn(Q.formMethod)&&Q.formAction===y.location.pathname+y.location.search&&(Ae=Je.Replace);let Oe=P&&"preventScrollReset"in P?P.preventScrollReset===!0:void 0,pe=Jy({currentLocation:oe,nextLocation:Z,historyAction:Ae});if(pe){jl(pe,{state:"blocked",location:Z,proceed(){jl(pe,{state:"proceeding",proceed:void 0,reset:void 0,location:Z}),Xt(T,P)},reset(){let Pe=new Map(y.blockers);Pe.set(pe,No),Ie({blockers:Pe})}});return}return await Ut(Ae,Z,{submission:Q,pendingError:J,preventScrollReset:Oe,replace:P&&P.replace,enableViewTransition:P&&P.unstable_viewTransition})}function cs(){if(Qh(),Ie({revalidation:"loading"}),y.navigation.state!=="submitting"){if(y.navigation.state==="idle"){Ut(y.historyAction,y.location,{startUninterruptedRevalidation:!0});return}Ut(I||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation})}}async function Ut(T,P,k){A&&A.abort(),A=null,I=T,ie=(k&&k.startUninterruptedRevalidation)===!0,Tx(y.location,y.matches),R=(k&&k.preventScrollReset)===!0,x=(k&&k.enableViewTransition)===!0;let j=a||o,Q=k&&k.overrideNavigation,J=Rs(j,P,l);if(!J){let Pe=gn(404,{pathname:P.pathname}),{matches:at,route:_i}=E0(j);Yh(),hn(P,{matches:at,loaderData:{},errors:{[_i.id]:Pe}});return}if(y.initialized&&!ve&&N2(y.location,P)&&!(k&&k.submission&&Rn(k.submission.formMethod))){hn(P,{matches:J});return}A=new AbortController;let oe=Oo(e.history,P,A.signal,k&&k.submission),Z,G;if(k&&k.pendingError)G={[da(J).route.id]:k.pendingError};else if(k&&k.submission&&Rn(k.submission.formMethod)){let Pe=await Fn(oe,P,k.submission,J,{replace:k.replace});if(Pe.shortCircuited)return;Z=Pe.pendingActionData,G=Pe.pendingActionError,Q=Rd(P,k.submission),oe=new Request(oe.url,{signal:oe.signal})}let{shortCircuited:Ae,loaderData:Oe,errors:pe}=await le(oe,P,J,Q,k&&k.submission,k&&k.fetcherSubmission,k&&k.replace,Z,G);Ae||(A=null,hn(P,Ke({matches:J},Z?{actionData:Z}:{},{loaderData:Oe,errors:pe})))}async function Fn(T,P,k,j,Q){Q===void 0&&(Q={}),Qh();let J=j2(P,k);Ie({navigation:J});let oe,Z=mp(j,P);if(!Z.route.action&&!Z.route.lazy)oe={type:Ze.error,error:gn(405,{method:T.method,pathname:P.pathname,routeId:Z.route.id})};else if(oe=await Lo("action",T,Z,j,s,i,l),T.signal.aborted)return{shortCircuited:!0};if(Us(oe)){let G;return Q&&Q.replace!=null?G=Q.replace:G=oe.location===y.location.pathname+y.location.search,await jn(y,oe,{submission:k,replace:G}),{shortCircuited:!0}}if(fa(oe)){let G=da(j,Z.route.id);return(Q&&Q.replace)!==!0&&(I=Je.Push),{pendingActionData:{},pendingActionError:{[G.route.id]:oe.error}}}if(Di(oe))throw gn(400,{type:"defer-action"});return{pendingActionData:{[Z.route.id]:oe.data}}}async function le(T,P,k,j,Q,J,oe,Z,G){let Ae=j||Rd(P,Q),Oe=Q||J||I0(Ae),pe=a||o,[Pe,at]=m0(e.history,y,k,Oe,P,ve,_e,Y,W,$,pe,l,Z,G);if(Yh(Se=>!(k&&k.some(In=>In.route.id===Se))||Pe&&Pe.some(In=>In.route.id===Se)),te=++H,Pe.length===0&&at.length===0){let Se=Qy();return hn(P,Ke({matches:k,loaderData:{},errors:G||null},Z?{actionData:Z}:{},Se?{fetchers:new Map(y.fetchers)}:{})),{shortCircuited:!0}}if(!ie){at.forEach(In=>{let xr=y.fetchers.get(In.key),Ye=Fo(void 0,xr?xr.data:void 0);y.fetchers.set(In.key,Ye)});let Se=Z||y.actionData;Ie(Ke({navigation:Ae},Se?Object.keys(Se).length===0?{actionData:null}:{actionData:Se}:{},at.length>0?{fetchers:new Map(y.fetchers)}:{}))}at.forEach(Se=>{U.has(Se.key)&&Ar(Se.key),Se.controller&&U.set(Se.key,Se.controller)});let _i=()=>at.forEach(Se=>Ar(Se.key));A&&A.signal.addEventListener("abort",_i);let{results:wi,loaderResults:Ao,fetcherResults:Xh}=await Ol(y.matches,k,Pe,at,T);if(T.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",_i),at.forEach(Se=>U.delete(Se.key));let tr=T0(wi);if(tr){if(tr.idx>=Pe.length){let Se=at[tr.idx-Pe.length].key;$.add(Se)}return await jn(y,tr.result,{replace:oe}),{shortCircuited:!0}}let{loaderData:Pr,errors:$l}=_0(y,k,Pe,Ao,G,at,Xh,Le);Le.forEach((Se,In)=>{Se.subscribe(xr=>{(xr||Se.done)&&Le.delete(In)})});let Jh=Qy(),Zh=Yy(te),ed=Jh||Zh||at.length>0;return Ke({loaderData:Pr,errors:$l},ed?{fetchers:new Map(y.fetchers)}:{})}function Me(T){return u.v7_fetcherPersist&&(B.set(T,(B.get(T)||0)+1),ce.has(T)&&ce.delete(T)),y.fetchers.get(T)||C2}function qe(T,P,k,j){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");U.has(T)&&Ar(T);let Q=a||o,J=fp(y.location,y.matches,l,u.v7_prependBasename,k,P,j==null?void 0:j.relative),oe=Rs(Q,J,l);if(!oe){Io(T,P,gn(404,{pathname:J}));return}let{path:Z,submission:G,error:Ae}=p0(u.v7_normalizeFormMethod,!0,J,j);if(Ae){Io(T,P,Ae);return}let Oe=mp(oe,Z);if(R=(j&&j.preventScrollReset)===!0,G&&Rn(G.formMethod)){dn(T,P,Z,Oe,oe,G);return}W.set(T,{routeId:P,path:Z}),fn(T,P,Z,Oe,oe,G)}async function dn(T,P,k,j,Q,J){if(Qh(),W.delete(T),!j.route.action&&!j.route.lazy){let Ye=gn(405,{method:J.formMethod,pathname:k,routeId:P});Io(T,P,Ye);return}let oe=y.fetchers.get(T),Z=$2(J,oe);y.fetchers.set(T,Z),Ie({fetchers:new Map(y.fetchers)});let G=new AbortController,Ae=Oo(e.history,k,G.signal,J);U.set(T,G);let Oe=H,pe=await Lo("action",Ae,j,Q,s,i,l);if(Ae.signal.aborted){U.get(T)===G&&U.delete(T);return}if(ce.has(T)){y.fetchers.set(T,Rr(void 0)),Ie({fetchers:new Map(y.fetchers)});return}if(Us(pe))if(U.delete(T),te>Oe){let Ye=Rr(void 0);y.fetchers.set(T,Ye),Ie({fetchers:new Map(y.fetchers)});return}else{$.add(T);let Ye=Fo(J);return y.fetchers.set(T,Ye),Ie({fetchers:new Map(y.fetchers)}),jn(y,pe,{fetcherSubmission:J})}if(fa(pe)){Io(T,P,pe.error);return}if(Di(pe))throw gn(400,{type:"defer-action"});let Pe=y.navigation.location||y.location,at=Oo(e.history,Pe,G.signal),_i=a||o,wi=y.navigation.state!=="idle"?Rs(_i,y.navigation.location,l):y.matches;ue(wi,"Didn't find any matches after fetcher action");let Ao=++H;V.set(T,Ao);let Xh=Fo(J,pe.data);y.fetchers.set(T,Xh);let[tr,Pr]=m0(e.history,y,wi,J,Pe,ve,_e,Y,W,$,_i,l,{[j.route.id]:pe.data},void 0);Pr.filter(Ye=>Ye.key!==T).forEach(Ye=>{let Po=Ye.key,tv=y.fetchers.get(Po),Ix=Fo(void 0,tv?tv.data:void 0);y.fetchers.set(Po,Ix),U.has(Po)&&Ar(Po),Ye.controller&&U.set(Po,Ye.controller)}),Ie({fetchers:new Map(y.fetchers)});let $l=()=>Pr.forEach(Ye=>Ar(Ye.key));G.signal.addEventListener("abort",$l);let{results:Jh,loaderResults:Zh,fetcherResults:ed}=await Ol(y.matches,wi,tr,Pr,at);if(G.signal.aborted)return;G.signal.removeEventListener("abort",$l),V.delete(T),U.delete(T),Pr.forEach(Ye=>U.delete(Ye.key));let Se=T0(Jh);if(Se){if(Se.idx>=tr.length){let Ye=Pr[Se.idx-tr.length].key;$.add(Ye)}return jn(y,Se.result)}let{loaderData:In,errors:xr}=_0(y,y.matches,tr,Zh,void 0,Pr,ed,Le);if(y.fetchers.has(T)){let Ye=Rr(pe.data);y.fetchers.set(T,Ye)}Yy(Ao),y.navigation.state==="loading"&&Ao>te?(ue(I,"Expected pending action"),A&&A.abort(),hn(y.navigation.location,{matches:wi,loaderData:In,errors:xr,fetchers:new Map(y.fetchers)})):(Ie({errors:xr,loaderData:w0(y.loaderData,In,wi,xr),fetchers:new Map(y.fetchers)}),ve=!1)}async function fn(T,P,k,j,Q,J){let oe=y.fetchers.get(T),Z=Fo(J,oe?oe.data:void 0);y.fetchers.set(T,Z),Ie({fetchers:new Map(y.fetchers)});let G=new AbortController,Ae=Oo(e.history,k,G.signal);U.set(T,G);let Oe=H,pe=await Lo("loader",Ae,j,Q,s,i,l);if(Di(pe)&&(pe=await VT(pe,Ae.signal,!0)||pe),U.get(T)===G&&U.delete(T),Ae.signal.aborted)return;if(ce.has(T)){y.fetchers.set(T,Rr(void 0)),Ie({fetchers:new Map(y.fetchers)});return}if(Us(pe))if(te>Oe){let at=Rr(void 0);y.fetchers.set(T,at),Ie({fetchers:new Map(y.fetchers)});return}else{$.add(T),await jn(y,pe);return}if(fa(pe)){Io(T,P,pe.error);return}ue(!Di(pe),"Unhandled fetcher deferred data");let Pe=Rr(pe.data);y.fetchers.set(T,Pe),Ie({fetchers:new Map(y.fetchers)})}async function jn(T,P,k){let{submission:j,fetcherSubmission:Q,replace:J}=k===void 0?{}:k;P.revalidate&&(ve=!0);let oe=Ba(T.location,P.location,{_isRedirect:!0});if(ue(oe,"Expected a location on the redirect navigation"),n){let Pe=!1;if(P.reloadDocument)Pe=!0;else if(CT.test(P.location)){const at=e.history.createURL(P.location);Pe=at.origin!==t.location.origin||go(at.pathname,l)==null}if(Pe){J?t.location.replace(P.location):t.location.assign(P.location);return}}A=null;let Z=J===!0?Je.Replace:Je.Push,{formMethod:G,formAction:Ae,formEncType:Oe}=T.navigation;!j&&!Q&&G&&Ae&&Oe&&(j=I0(T.navigation));let pe=j||Q;if(x2.has(P.status)&&pe&&Rn(pe.formMethod))await Ut(Z,oe,{submission:Ke({},pe,{formAction:P.location}),preventScrollReset:R});else{let Pe=Rd(oe,j);await Ut(Z,oe,{overrideNavigation:Pe,fetcherSubmission:Q,preventScrollReset:R})}}async function Ol(T,P,k,j,Q){let J=await Promise.all([...k.map(G=>Lo("loader",Q,G,P,s,i,l)),...j.map(G=>G.matches&&G.match&&G.controller?Lo("loader",Oo(e.history,G.path,G.controller.signal),G.match,G.matches,s,i,l):{type:Ze.error,error:gn(404,{pathname:G.path})})]),oe=J.slice(0,k.length),Z=J.slice(k.length);return await Promise.all([S0(T,k,oe,oe.map(()=>Q.signal),!1,y.loaderData),S0(T,j.map(G=>G.match),Z,j.map(G=>G.controller?G.controller.signal:null),!0)]),{results:J,loaderResults:oe,fetcherResults:Z}}function Qh(){ve=!0,_e.push(...Yh()),W.forEach((T,P)=>{U.has(P)&&(Y.push(P),Ar(P))})}function Io(T,P,k){let j=da(y.matches,P);Fl(T),Ie({errors:{[j.route.id]:k},fetchers:new Map(y.fetchers)})}function Fl(T){let P=y.fetchers.get(T);U.has(T)&&!(P&&P.state==="loading"&&V.has(T))&&Ar(T),W.delete(T),V.delete(T),$.delete(T),ce.delete(T),y.fetchers.delete(T)}function _x(T){if(u.v7_fetcherPersist){let P=(B.get(T)||0)-1;P<=0?(B.delete(T),ce.add(T)):B.set(T,P)}else Fl(T);Ie({fetchers:new Map(y.fetchers)})}function Ar(T){let P=U.get(T);ue(P,"Expected fetch controller: "+T),P.abort(),U.delete(T)}function Gy(T){for(let P of T){let k=Me(P),j=Rr(k.data);y.fetchers.set(P,j)}}function Qy(){let T=[],P=!1;for(let k of $){let j=y.fetchers.get(k);ue(j,"Expected fetcher: "+k),j.state==="loading"&&($.delete(k),T.push(k),P=!0)}return Gy(T),P}function Yy(T){let P=[];for(let[k,j]of V)if(j<T){let Q=y.fetchers.get(k);ue(Q,"Expected fetcher: "+k),Q.state==="loading"&&(Ar(k),V.delete(k),P.push(k))}return Gy(P),P.length>0}function wx(T,P){let k=y.blockers.get(T)||No;return ze.get(T)!==P&&ze.set(T,P),k}function Xy(T){y.blockers.delete(T),ze.delete(T)}function jl(T,P){let k=y.blockers.get(T)||No;ue(k.state==="unblocked"&&P.state==="blocked"||k.state==="blocked"&&P.state==="blocked"||k.state==="blocked"&&P.state==="proceeding"||k.state==="blocked"&&P.state==="unblocked"||k.state==="proceeding"&&P.state==="unblocked","Invalid blocker state transition: "+k.state+" -> "+P.state);let j=new Map(y.blockers);j.set(T,P),Ie({blockers:j})}function Jy(T){let{currentLocation:P,nextLocation:k,historyAction:j}=T;if(ze.size===0)return;ze.size>1&&qi(!1,"A router only supports one blocker at a time");let Q=Array.from(ze.entries()),[J,oe]=Q[Q.length-1],Z=y.blockers.get(J);if(!(Z&&Z.state==="proceeding")&&oe({currentLocation:P,nextLocation:k,historyAction:j}))return J}function Yh(T){let P=[];return Le.forEach((k,j)=>{(!T||T(j))&&(k.cancel(),P.push(j),Le.delete(j))}),P}function Ex(T,P,k){if(d=T,g=P,f=k||null,!v&&y.navigation===Cd){v=!0;let j=ev(y.location,y.matches);j!=null&&Ie({restoreScrollPosition:j})}return()=>{d=null,g=null,f=null}}function Zy(T,P){return f&&f(T,P.map(j=>r2(j,y.loaderData)))||T.key}function Tx(T,P){if(d&&g){let k=Zy(T,P);d[k]=g()}}function ev(T,P){if(d){let k=Zy(T,P),j=d[k];if(typeof j=="number")return j}return null}function Sx(T){s={},a=dp(T,i,void 0,s)}return _={get basename(){return l},get state(){return y},get routes(){return o},get window(){return t},initialize:He,subscribe:On,enableScrollRestoration:Ex,navigate:Xt,fetch:qe,revalidate:cs,createHref:T=>e.history.createHref(T),encodeLocation:T=>e.history.encodeLocation(T),getFetcher:Me,deleteFetcher:_x,dispose:cn,getBlocker:wx,deleteBlocker:Xy,_internalFetchControllers:U,_internalActiveDeferreds:Le,_internalSetRoutes:Sx},_}function D2(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function fp(e,t,n,r,i,s,o){let a,l;if(s!=null&&o!=="path"){a=[];for(let c of t)if(a.push(c),c.route.id===s){l=c;break}}else a=t,l=t[t.length-1];let u=ug(i||".",ih(a).map(c=>c.pathnameBase),go(e.pathname,n)||e.pathname,o==="path");return i==null&&(u.search=e.search,u.hash=e.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!hg(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:ur([n,u.pathname])),Wi(u)}function p0(e,t,n,r){if(!r||!D2(r))return{path:n};if(r.formMethod&&!F2(r.formMethod))return{path:n,error:gn(405,{method:r.formMethod})};let i=()=>({path:n,error:gn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=e?s.toUpperCase():s.toLowerCase(),a=DT(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Rn(o))return i();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,g)=>{let[v,w]=g;return""+f+v+"="+w+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!Rn(o))return i();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return i()}}}ue(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=pp(r.formData),u=r.formData;else if(r.body instanceof FormData)l=pp(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=v0(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=v0(l)}catch{return i()}let c={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Rn(c.formMethod))return{path:n,submission:c};let h=Tr(n);return t&&h.search&&hg(h.search)&&l.append("index",""),h.search="?"+l,{path:Wi(h),submission:c}}function V2(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function m0(e,t,n,r,i,s,o,a,l,u,c,h,d,f){let g=f?Object.values(f)[0]:d?Object.values(d)[0]:void 0,v=e.createURL(t.location),w=e.createURL(i),p=f?Object.keys(f)[0]:void 0,_=V2(n,p).filter((I,R)=>{if(I.route.lazy)return!0;if(I.route.loader==null)return!1;if(b2(t.loaderData,t.matches[R],I)||o.some(N=>N===I.route.id))return!0;let A=t.matches[R],x=I;return g0(I,Ke({currentUrl:v,currentParams:A.params,nextUrl:w,nextParams:x.params},r,{actionResult:g,defaultShouldRevalidate:s||v.pathname+v.search===w.pathname+w.search||v.search!==w.search||kT(A,x)}))}),y=[];return l.forEach((I,R)=>{if(!n.some(ie=>ie.route.id===I.routeId))return;let A=Rs(c,I.path,h);if(!A){y.push({key:R,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let x=t.fetchers.get(R),N=mp(A,I.path),F=!1;u.has(R)?F=!1:a.includes(R)?F=!0:x&&x.state!=="idle"&&x.data===void 0?F=s:F=g0(N,Ke({currentUrl:v,currentParams:t.matches[t.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:g,defaultShouldRevalidate:s})),F&&y.push({key:R,routeId:I.routeId,path:I.path,matches:A,match:N,controller:new AbortController})}),[_,y]}function b2(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function kT(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function g0(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function y0(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];ue(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";qi(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!t2.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Ke({},t(i),{lazy:void 0}))}async function Lo(e,t,n,r,i,s,o,a){a===void 0&&(a={});let l,u,c,h=g=>{let v,w=new Promise((p,m)=>v=m);return c=()=>v(),t.signal.addEventListener("abort",c),Promise.race([g({request:t,params:n.params,context:a.requestContext}),w])};try{let g=n.route[e];if(n.route.lazy)if(g){let v,w=await Promise.all([h(g).catch(p=>{v=p}),y0(n.route,s,i)]);if(v)throw v;u=w[0]}else if(await y0(n.route,s,i),g=n.route[e],g)u=await h(g);else if(e==="action"){let v=new URL(t.url),w=v.pathname+v.search;throw gn(405,{method:t.method,pathname:w,routeId:n.route.id})}else return{type:Ze.data,data:void 0};else if(g)u=await h(g);else{let v=new URL(t.url),w=v.pathname+v.search;throw gn(404,{pathname:w})}ue(u!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(g){l=Ze.error,u=g}finally{c&&t.signal.removeEventListener("abort",c)}if(O2(u)){let g=u.status;if(P2.has(g)){let p=u.headers.get("Location");if(ue(p,"Redirects returned/thrown from loaders/actions must have a Location header"),!CT.test(p))p=fp(new URL(t.url),r.slice(0,r.indexOf(n)+1),o,!0,p);else if(!a.isStaticRequest){let m=new URL(t.url),_=p.startsWith("//")?new URL(m.protocol+p):new URL(p),y=go(_.pathname,o)!=null;_.origin===m.origin&&y&&(p=_.pathname+_.search+_.hash)}if(a.isStaticRequest)throw u.headers.set("Location",p),u;return{type:Ze.redirect,status:g,location:p,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(a.isRouteRequest)throw{type:l===Ze.error?Ze.error:Ze.data,response:u};let v,w=u.headers.get("Content-Type");return w&&/\bapplication\/json\b/.test(w)?v=await u.json():v=await u.text(),l===Ze.error?{type:l,error:new cg(g,u.statusText,v),headers:u.headers}:{type:Ze.data,data:v,statusCode:u.status,headers:u.headers}}if(l===Ze.error)return{type:l,error:u};if(L2(u)){var d,f;return{type:Ze.deferred,deferredData:u,statusCode:(d=u.init)==null?void 0:d.status,headers:((f=u.init)==null?void 0:f.headers)&&new Headers(u.init.headers)}}return{type:Ze.data,data:u}}function Oo(e,t,n,r){let i=e.createURL(DT(t)).toString(),s={signal:n};if(r&&Rn(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=pp(r.formData):s.body=r.formData}return new Request(i,s)}function pp(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function v0(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function M2(e,t,n,r,i){let s={},o=null,a,l=!1,u={};return n.forEach((c,h)=>{let d=t[h].route.id;if(ue(!Us(c),"Cannot handle redirect results in processLoaderData"),fa(c)){let f=da(e,d),g=c.error;r&&(g=Object.values(r)[0],r=void 0),o=o||{},o[f.route.id]==null&&(o[f.route.id]=g),s[d]=void 0,l||(l=!0,a=PT(c.error)?c.error.status:500),c.headers&&(u[d]=c.headers)}else Di(c)?(i.set(d,c.deferredData),s[d]=c.deferredData.data):s[d]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[d]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function _0(e,t,n,r,i,s,o,a){let{loaderData:l,errors:u}=M2(t,n,r,i,a);for(let c=0;c<s.length;c++){let{key:h,match:d,controller:f}=s[c];ue(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let g=o[c];if(!(f&&f.signal.aborted))if(fa(g)){let v=da(e.matches,d==null?void 0:d.route.id);u&&u[v.route.id]||(u=Ke({},u,{[v.route.id]:g.error})),e.fetchers.delete(h)}else if(Us(g))ue(!1,"Unhandled fetcher revalidation redirect");else if(Di(g))ue(!1,"Unhandled fetcher deferred data");else{let v=Rr(g.data);e.fetchers.set(h,v)}}return{loaderData:l,errors:u}}function w0(e,t,n,r){let i=Ke({},t);for(let s of n){let o=s.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(i[o]=t[o]):e[o]!==void 0&&s.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function da(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function E0(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function gn(e,t){let{pathname:n,routeId:r,method:i,type:s}=t===void 0?{}:t,o="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):e===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):e===404?(o="Not Found",a='No route matches URL "'+n+'"'):e===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new cg(e||500,o,new Error(a),!0)}function T0(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Us(n))return{result:n,idx:t}}}function DT(e){let t=typeof e=="string"?Tr(e):e;return Wi(Ke({},t,{hash:""}))}function N2(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Di(e){return e.type===Ze.deferred}function fa(e){return e.type===Ze.error}function Us(e){return(e&&e.type)===Ze.redirect}function L2(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function O2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function F2(e){return A2.has(e.toLowerCase())}function Rn(e){return S2.has(e.toLowerCase())}async function S0(e,t,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=t[o];if(!l)continue;let u=e.find(h=>h.route.id===l.route.id),c=u!=null&&!kT(u,l)&&(s&&s[l.route.id])!==void 0;if(Di(a)&&(i||c)){let h=r[o];ue(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await VT(a,h,i).then(d=>{d&&(n[o]=d||n[o])})}}}async function VT(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Ze.data,data:e.deferredData.unwrappedData}}catch(i){return{type:Ze.error,error:i}}return{type:Ze.data,data:e.deferredData.data}}}function hg(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function mp(e,t){let n=typeof t=="string"?Tr(t).search:t.search;if(e[e.length-1].route.index&&hg(n||""))return e[e.length-1];let r=ih(e);return r[r.length-1]}function I0(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Rd(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function j2(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Fo(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function $2(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Rr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function B2(e,t){try{let n=e.sessionStorage.getItem(RT);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function U2(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(RT,JSON.stringify(n))}catch(r){qi(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uc(){return uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uc.apply(this,arguments)}const sh=E.createContext(null),bT=E.createContext(null),yo=E.createContext(null),oh=E.createContext(null),rs=E.createContext({outlet:null,matches:[],isDataRoute:!1}),MT=E.createContext(null);function z2(e,t){let{relative:n}=t===void 0?{}:t;pl()||ue(!1);let{basename:r,navigator:i}=E.useContext(yo),{hash:s,pathname:o,search:a}=LT(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ur([r,o])),i.createHref({pathname:l,search:a,hash:s})}function pl(){return E.useContext(oh)!=null}function ml(){return pl()||ue(!1),E.useContext(oh).location}function NT(e){E.useContext(yo).static||E.useLayoutEffect(e)}function H2(){let{isDataRoute:e}=E.useContext(rs);return e?nk():q2()}function q2(){pl()||ue(!1);let e=E.useContext(sh),{basename:t,navigator:n}=E.useContext(yo),{matches:r}=E.useContext(rs),{pathname:i}=ml(),s=JSON.stringify(ih(r).map(l=>l.pathnameBase)),o=E.useRef(!1);return NT(()=>{o.current=!0}),E.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=ug(l,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:ur([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,s,i,e])}function LT(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=E.useContext(rs),{pathname:i}=ml(),s=JSON.stringify(ih(r).map(o=>o.pathnameBase));return E.useMemo(()=>ug(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function W2(e,t,n){pl()||ue(!1);let{navigator:r}=E.useContext(yo),{matches:i}=E.useContext(rs),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=ml(),u;if(t){var c;let v=typeof t=="string"?Tr(t):t;a==="/"||(c=v.pathname)!=null&&c.startsWith(a)||ue(!1),u=v}else u=l;let h=u.pathname||"/",d=a==="/"?h:h.slice(a.length)||"/",f=Rs(e,{pathname:d}),g=X2(f&&f.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:ur([a,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:ur([a,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n);return t&&g?E.createElement(oh.Provider,{value:{location:uc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Je.Pop}},g):g}function K2(){let e=tk(),t=PT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:i},n):null,s)}const G2=E.createElement(K2,null);class Q2 extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?E.createElement(rs.Provider,{value:this.props.routeContext},E.createElement(MT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Y2(e){let{routeContext:t,match:n,children:r}=e,i=E.useContext(sh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(rs.Provider,{value:t},r)}function X2(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let s=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||ue(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||G2);let d=t.concat(s.slice(0,u+1)),f=()=>{let g;return c?g=h:l.route.Component?g=E.createElement(l.route.Component,null):l.route.element?g=l.route.element:g=a,E.createElement(Y2,{match:l,routeContext:{outlet:a,matches:d,isDataRoute:n!=null},children:g})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?E.createElement(Q2,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:f(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):f()},null)}var OT=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(OT||{}),cc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(cc||{});function J2(e){let t=E.useContext(sh);return t||ue(!1),t}function Z2(e){let t=E.useContext(bT);return t||ue(!1),t}function ek(e){let t=E.useContext(rs);return t||ue(!1),t}function FT(e){let t=ek(),n=t.matches[t.matches.length-1];return n.route.id||ue(!1),n.route.id}function tk(){var e;let t=E.useContext(MT),n=Z2(cc.UseRouteError),r=FT(cc.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function nk(){let{router:e}=J2(OT.UseNavigateStable),t=FT(cc.UseNavigateStable),n=E.useRef(!1);return NT(()=>{n.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,uc({fromRouteId:t},s)))},[e,t])}function rk(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Je.Pop,navigator:s,static:o=!1}=e;pl()&&ue(!1);let a=t.replace(/^\/*/,"/"),l=E.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Tr(r));let{pathname:u="/",search:c="",hash:h="",state:d=null,key:f="default"}=r,g=E.useMemo(()=>{let v=go(u,a);return v==null?null:{location:{pathname:v,search:c,hash:h,state:d,key:f},navigationType:i}},[a,u,c,h,d,f,i]);return g==null?null:E.createElement(yo.Provider,{value:l},E.createElement(oh.Provider,{children:n,value:g}))}new Promise(()=>{});function ik(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:E.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:E.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ua.apply(this,arguments)}function sk(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function ok(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ak(e,t){return e.button===0&&(!t||t==="_self")&&!ok(e)}const lk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];function uk(e,t){return k2({basename:t==null?void 0:t.basename,future:Ua({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:JR({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||ck(),routes:e,mapRouteProperties:ik,window:t==null?void 0:t.window}).initialize()}function ck(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Ua({},t,{errors:hk(t.errors)})),t}function hk(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new cg(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const dk=E.createContext({isTransitioning:!1}),fk=E.createContext(new Map),pk="startTransition",A0=Bx[pk];function mk(e){A0?A0(e):e()}let gk=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function yk(e){let{fallbackElement:t,router:n,future:r}=e,[i,s]=E.useState(n.state),[o,a]=E.useState(),[l,u]=E.useState({isTransitioning:!1}),[c,h]=E.useState(),[d,f]=E.useState(),[g,v]=E.useState(),w=E.useRef(new Map),{v7_startTransition:p}=r||{},m=E.useCallback(A=>{p?mk(A):A()},[p]),_=E.useCallback((A,x)=>{let{deletedFetchers:N,unstable_viewTransitionOpts:F}=x;N.forEach(ie=>w.current.delete(ie)),A.fetchers.forEach((ie,ve)=>{ie.data!==void 0&&w.current.set(ve,ie.data)}),!F||n.window==null||typeof n.window.document.startViewTransition!="function"?m(()=>s(A)):d&&c?(c.resolve(),d.skipTransition(),v({state:A,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(a(A),u({isTransitioning:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[n.window,d,c,w,m]);E.useLayoutEffect(()=>n.subscribe(_),[n,_]),E.useEffect(()=>{l.isTransitioning&&h(new gk)},[l.isTransitioning]),E.useEffect(()=>{if(c&&o&&n.window){let A=o,x=c.promise,N=n.window.document.startViewTransition(async()=>{m(()=>s(A)),await x});N.finished.finally(()=>{h(void 0),f(void 0),a(void 0),u({isTransitioning:!1})}),f(N)}},[m,o,c,n.window]),E.useEffect(()=>{c&&o&&i.location.key===o.location.key&&c.resolve()},[c,d,i.location,o]),E.useEffect(()=>{!l.isTransitioning&&g&&(a(g.state),u({isTransitioning:!0,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),v(void 0))},[l.isTransitioning,g]);let y=E.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:A=>n.navigate(A),push:(A,x,N)=>n.navigate(A,{state:x,preventScrollReset:N==null?void 0:N.preventScrollReset}),replace:(A,x,N)=>n.navigate(A,{replace:!0,state:x,preventScrollReset:N==null?void 0:N.preventScrollReset})}),[n]),I=n.basename||"/",R=E.useMemo(()=>({router:n,navigator:y,static:!1,basename:I}),[n,y,I]);return E.createElement(E.Fragment,null,E.createElement(sh.Provider,{value:R},E.createElement(bT.Provider,{value:i},E.createElement(fk.Provider,{value:w.current},E.createElement(dk.Provider,{value:l},E.createElement(rk,{basename:I,location:i.location,navigationType:i.historyAction,navigator:y},i.initialized?E.createElement(vk,{routes:n.routes,state:i}):t))))),null)}function vk(e){let{routes:t,state:n}=e;return W2(t,void 0,n)}const _k=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,za=E.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:h}=t,d=sk(t,lk),{basename:f}=E.useContext(yo),g,v=!1;if(typeof u=="string"&&wk.test(u)&&(g=u,_k))try{let _=new URL(window.location.href),y=u.startsWith("//")?new URL(_.protocol+u):new URL(u),I=go(y.pathname,f);y.origin===_.origin&&I!=null?u=I+y.search+y.hash:v=!0}catch{}let w=z2(u,{relative:i}),p=Ek(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:h});function m(_){r&&r(_),_.defaultPrevented||p(_)}return E.createElement("a",Ua({},d,{href:g||w,onClick:v||s?r:m,ref:n,target:l}))});var P0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(P0||(P0={}));var x0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(x0||(x0={}));function Ek(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=t===void 0?{}:t,l=H2(),u=ml(),c=LT(e,{relative:o});return E.useCallback(h=>{if(ak(h,n)){h.preventDefault();let d=r!==void 0?r:Wi(u)===Wi(c);l(e,{replace:d,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,e,s,o,a])}var jT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},C0=M.createContext&&M.createContext(jT),Qr=globalThis&&globalThis.__assign||function(){return Qr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Qr.apply(this,arguments)},Tk=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function $T(e){return e&&e.map(function(t,n){return M.createElement(t.tag,Qr({key:n},t.attr),$T(t.child))})}function vo(e){return function(t){return M.createElement(Sk,Qr({attr:Qr({},e.attr)},t),$T(e.child))}}function Sk(e){var t=function(n){var r=e.attr,i=e.size,s=e.title,o=Tk(e,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),M.createElement("svg",Qr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Qr(Qr({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&M.createElement("title",null,s),e.children)};return C0!==void 0?M.createElement(C0.Consumer,null,function(n){return t(n)}):t(jT)}function Ik(e){return vo({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}function Ak(e){return vo({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}const R0=({children:e,to:t})=>{const{pathname:n}=ml(),r=`link ${n===t?"active":""}`;return S.jsx(za,{className:r,to:t,children:e})};function Pk(){const e=E.useRef(),t=()=>{e.current.classList.toggle("responsive-nav")};return S.jsxs("header",{children:[S.jsxs("div",{className:"container-nav",children:[S.jsx("div",{style:{display:"flex",alignItems:"center",gap:10},children:S.jsx(za,{to:"/",className:"link",style:{textTransform:"uppercase"},children:"Registro Peliculas"})}),S.jsxs("nav",{ref:e,children:[S.jsxs("div",{className:"container-links",children:[S.jsx(R0,{to:"/",children:"Inicio"}),S.jsx(R0,{to:"/films",children:"Peliculas"})]}),S.jsx("button",{className:"nav-btn nav-close-btn","aria-label":"Close",onClick:t,children:S.jsx(Ak,{})})]})]}),S.jsx("button",{className:"nav-btn","aria-label":"Open",onClick:t,children:S.jsx(Ik,{})})]})}var BT={exports:{}},xk="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ck=xk,Rk=Ck;function UT(){}function zT(){}zT.resetWarningCache=UT;var kk=function(){function e(r,i,s,o,a,l){if(l!==Rk){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:zT,resetWarningCache:UT};return n.PropTypes=n,n};BT.exports=kk();var Dk=BT.exports;const fe=es(Dk);var Vk=typeof Element<"u",bk=typeof Map=="function",Mk=typeof Set=="function",Nk=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function ku(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!ku(e[r],t[r]))return!1;return!0}var s;if(bk&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;for(s=e.entries();!(r=s.next()).done;)if(!ku(r.value[1],t.get(r.value[0])))return!1;return!0}if(Mk&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(Nk&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(Vk&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!ku(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var Lk=function(t,n){try{return ku(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const Ok=es(Lk);var Fk=function(e,t,n,r,i,s,o,a){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,s,o,a],c=0;l=new Error(t.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},jk=Fk;const k0=es(jk);var $k=function(t,n,r,i){var s=r?r.call(i,t,n):void 0;if(s!==void 0)return!!s;if(t===n)return!0;if(typeof t!="object"||!t||typeof n!="object"||!n)return!1;var o=Object.keys(t),a=Object.keys(n);if(o.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),u=0;u<o.length;u++){var c=o[u];if(!l(c))return!1;var h=t[c],d=n[c];if(s=r?r.call(i,h,d,c):void 0,s===!1||s===void 0&&h!==d)return!1}return!0};const Bk=es($k);function Xe(){return Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xe.apply(this,arguments)}function dg(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,gp(e,t)}function gp(e,t){return gp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},gp(e,t)}function D0(e,t){if(e==null)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||(i[n]=e[n]);return i}var X={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},Uk={rel:["amphtml","canonical","alternate"]},zk={type:["application/ld+json"]},Hk={charset:"",name:["robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},V0=Object.keys(X).map(function(e){return X[e]}),hc={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},qk=Object.keys(hc).reduce(function(e,t){return e[hc[t]]=t,e},{}),zs=function(e,t){for(var n=e.length-1;n>=0;n-=1){var r=e[n];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},Wk=function(e){var t=zs(e,X.TITLE),n=zs(e,"titleTemplate");if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,function(){return t});var r=zs(e,"defaultTitle");return t||r||void 0},Kk=function(e){return zs(e,"onChangeClientState")||function(){}},kd=function(e,t){return t.filter(function(n){return n[e]!==void 0}).map(function(n){return n[e]}).reduce(function(n,r){return Xe({},n,r)},{})},Gk=function(e,t){return t.filter(function(n){return n[X.BASE]!==void 0}).map(function(n){return n[X.BASE]}).reverse().reduce(function(n,r){if(!n.length)for(var i=Object.keys(r),s=0;s<i.length;s+=1){var o=i[s].toLowerCase();if(e.indexOf(o)!==-1&&r[o])return n.concat(r)}return n},[])},jo=function(e,t,n){var r={};return n.filter(function(i){return!!Array.isArray(i[e])||(i[e]!==void 0&&console&&typeof console.warn=="function"&&console.warn("Helmet: "+e+' should be of type "Array". Instead found type "'+typeof i[e]+'"'),!1)}).map(function(i){return i[e]}).reverse().reduce(function(i,s){var o={};s.filter(function(h){for(var d,f=Object.keys(h),g=0;g<f.length;g+=1){var v=f[g],w=v.toLowerCase();t.indexOf(w)===-1||d==="rel"&&h[d].toLowerCase()==="canonical"||w==="rel"&&h[w].toLowerCase()==="stylesheet"||(d=w),t.indexOf(v)===-1||v!=="innerHTML"&&v!=="cssText"&&v!=="itemprop"||(d=v)}if(!d||!h[d])return!1;var p=h[d].toLowerCase();return r[d]||(r[d]={}),o[d]||(o[d]={}),!r[d][p]&&(o[d][p]=!0,!0)}).reverse().forEach(function(h){return i.push(h)});for(var a=Object.keys(o),l=0;l<a.length;l+=1){var u=a[l],c=Xe({},r[u],o[u]);r[u]=c}return i},[]).reverse()},Qk=function(e,t){if(Array.isArray(e)&&e.length){for(var n=0;n<e.length;n+=1)if(e[n][t])return!0}return!1},HT=function(e){return Array.isArray(e)?e.join(""):e},Dd=function(e,t){return Array.isArray(e)?e.reduce(function(n,r){return function(i,s){for(var o=Object.keys(i),a=0;a<o.length;a+=1)if(s[o[a]]&&s[o[a]].includes(i[o[a]]))return!0;return!1}(r,t)?n.priority.push(r):n.default.push(r),n},{priority:[],default:[]}):{default:e}},b0=function(e,t){var n;return Xe({},e,((n={})[t]=void 0,n))},Yk=[X.NOSCRIPT,X.SCRIPT,X.STYLE],Vd=function(e,t){return t===void 0&&(t=!0),t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},M0=function(e){return Object.keys(e).reduce(function(t,n){var r=e[n]!==void 0?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r},"")},N0=function(e,t){return t===void 0&&(t={}),Object.keys(e).reduce(function(n,r){return n[hc[r]||r]=e[r],n},t)},Du=function(e,t){return t.map(function(n,r){var i,s=((i={key:r})["data-rh"]=!0,i);return Object.keys(n).forEach(function(o){var a=hc[o]||o;a==="innerHTML"||a==="cssText"?s.dangerouslySetInnerHTML={__html:n.innerHTML||n.cssText}:s[a]=n[o]}),M.createElement(e,s)})},pn=function(e,t,n){switch(e){case X.TITLE:return{toComponent:function(){return i=t.titleAttributes,(s={key:r=t.title})["data-rh"]=!0,o=N0(i,s),[M.createElement(X.TITLE,o,r)];var r,i,s,o},toString:function(){return function(r,i,s,o){var a=M0(s),l=HT(i);return a?"<"+r+' data-rh="true" '+a+">"+Vd(l,o)+"</"+r+">":"<"+r+' data-rh="true">'+Vd(l,o)+"</"+r+">"}(e,t.title,t.titleAttributes,n)}};case"bodyAttributes":case"htmlAttributes":return{toComponent:function(){return N0(t)},toString:function(){return M0(t)}};default:return{toComponent:function(){return Du(e,t)},toString:function(){return function(r,i,s){return i.reduce(function(o,a){var l=Object.keys(a).filter(function(h){return!(h==="innerHTML"||h==="cssText")}).reduce(function(h,d){var f=a[d]===void 0?d:d+'="'+Vd(a[d],s)+'"';return h?h+" "+f:f},""),u=a.innerHTML||a.cssText||"",c=Yk.indexOf(r)===-1;return o+"<"+r+' data-rh="true" '+l+(c?"/>":">"+u+"</"+r+">")},"")}(e,t,n)}}}},yp=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,s=e.noscriptTags,o=e.styleTags,a=e.title,l=a===void 0?"":a,u=e.titleAttributes,c=e.linkTags,h=e.metaTags,d=e.scriptTags,f={toComponent:function(){},toString:function(){return""}};if(e.prioritizeSeoTags){var g=function(v){var w=v.linkTags,p=v.scriptTags,m=v.encode,_=Dd(v.metaTags,Hk),y=Dd(w,Uk),I=Dd(p,zk);return{priorityMethods:{toComponent:function(){return[].concat(Du(X.META,_.priority),Du(X.LINK,y.priority),Du(X.SCRIPT,I.priority))},toString:function(){return pn(X.META,_.priority,m)+" "+pn(X.LINK,y.priority,m)+" "+pn(X.SCRIPT,I.priority,m)}},metaTags:_.default,linkTags:y.default,scriptTags:I.default}}(e);f=g.priorityMethods,c=g.linkTags,h=g.metaTags,d=g.scriptTags}return{priority:f,base:pn(X.BASE,t,r),bodyAttributes:pn("bodyAttributes",n,r),htmlAttributes:pn("htmlAttributes",i,r),link:pn(X.LINK,c,r),meta:pn(X.META,h,r),noscript:pn(X.NOSCRIPT,s,r),script:pn(X.SCRIPT,d,r),style:pn(X.STYLE,o,r),title:pn(X.TITLE,{title:l,titleAttributes:u},r)}},iu=[],vp=function(e,t){var n=this;t===void 0&&(t=typeof document<"u"),this.instances=[],this.value={setHelmet:function(r){n.context.helmet=r},helmetInstances:{get:function(){return n.canUseDOM?iu:n.instances},add:function(r){(n.canUseDOM?iu:n.instances).push(r)},remove:function(r){var i=(n.canUseDOM?iu:n.instances).indexOf(r);(n.canUseDOM?iu:n.instances).splice(i,1)}}},this.context=e,this.canUseDOM=t,t||(e.helmet=yp({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))},qT=M.createContext({}),Xk=fe.shape({setHelmet:fe.func,helmetInstances:fe.shape({get:fe.func,add:fe.func,remove:fe.func})}),Jk=typeof document<"u",ks=function(e){function t(n){var r;return(r=e.call(this,n)||this).helmetData=new vp(r.props.context,t.canUseDOM),r}return dg(t,e),t.prototype.render=function(){return M.createElement(qT.Provider,{value:this.helmetData.value},this.props.children)},t}(E.Component);ks.canUseDOM=Jk,ks.propTypes={context:fe.shape({helmet:fe.shape()}),children:fe.node.isRequired},ks.defaultProps={context:{}},ks.displayName="HelmetProvider";var ds=function(e,t){var n,r=document.head||document.querySelector(X.HEAD),i=r.querySelectorAll(e+"[data-rh]"),s=[].slice.call(i),o=[];return t&&t.length&&t.forEach(function(a){var l=document.createElement(e);for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(u==="innerHTML"?l.innerHTML=a.innerHTML:u==="cssText"?l.styleSheet?l.styleSheet.cssText=a.cssText:l.appendChild(document.createTextNode(a.cssText)):l.setAttribute(u,a[u]===void 0?"":a[u]));l.setAttribute("data-rh","true"),s.some(function(c,h){return n=h,l.isEqualNode(c)})?s.splice(n,1):o.push(l)}),s.forEach(function(a){return a.parentNode.removeChild(a)}),o.forEach(function(a){return r.appendChild(a)}),{oldTags:s,newTags:o}},bd=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute("data-rh"),i=r?r.split(","):[],s=[].concat(i),o=Object.keys(t),a=0;a<o.length;a+=1){var l=o[a],u=t[l]||"";n.getAttribute(l)!==u&&n.setAttribute(l,u),i.indexOf(l)===-1&&i.push(l);var c=s.indexOf(l);c!==-1&&s.splice(c,1)}for(var h=s.length-1;h>=0;h-=1)n.removeAttribute(s[h]);i.length===s.length?n.removeAttribute("data-rh"):n.getAttribute("data-rh")!==o.join(",")&&n.setAttribute("data-rh",o.join(","))}},L0=function(e,t){var n=e.baseTag,r=e.htmlAttributes,i=e.linkTags,s=e.metaTags,o=e.noscriptTags,a=e.onChangeClientState,l=e.scriptTags,u=e.styleTags,c=e.title,h=e.titleAttributes;bd(X.BODY,e.bodyAttributes),bd(X.HTML,r),function(v,w){v!==void 0&&document.title!==v&&(document.title=HT(v)),bd(X.TITLE,w)}(c,h);var d={baseTag:ds(X.BASE,n),linkTags:ds(X.LINK,i),metaTags:ds(X.META,s),noscriptTags:ds(X.NOSCRIPT,o),scriptTags:ds(X.SCRIPT,l),styleTags:ds(X.STYLE,u)},f={},g={};Object.keys(d).forEach(function(v){var w=d[v],p=w.newTags,m=w.oldTags;p.length&&(f[v]=p),m.length&&(g[v]=d[v].oldTags)}),t&&t(),a(e,f,g)},$o=null,dc=function(e){function t(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(r=e.call.apply(e,[this].concat(s))||this).rendered=!1,r}dg(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(r){return!Bk(r,this.props)},n.componentDidUpdate=function(){this.emitChange()},n.componentWillUnmount=function(){this.props.context.helmetInstances.remove(this),this.emitChange()},n.emitChange=function(){var r,i,s=this.props.context,o=s.setHelmet,a=null,l=(r=s.helmetInstances.get().map(function(u){var c=Xe({},u.props);return delete c.context,c}),{baseTag:Gk(["href"],r),bodyAttributes:kd("bodyAttributes",r),defer:zs(r,"defer"),encode:zs(r,"encodeSpecialCharacters"),htmlAttributes:kd("htmlAttributes",r),linkTags:jo(X.LINK,["rel","href"],r),metaTags:jo(X.META,["name","charset","http-equiv","property","itemprop"],r),noscriptTags:jo(X.NOSCRIPT,["innerHTML"],r),onChangeClientState:Kk(r),scriptTags:jo(X.SCRIPT,["src","innerHTML"],r),styleTags:jo(X.STYLE,["cssText"],r),title:Wk(r),titleAttributes:kd("titleAttributes",r),prioritizeSeoTags:Qk(r,"prioritizeSeoTags")});ks.canUseDOM?(i=l,$o&&cancelAnimationFrame($o),i.defer?$o=requestAnimationFrame(function(){L0(i,function(){$o=null})}):(L0(i),$o=null)):yp&&(a=yp(l)),o(a)},n.init=function(){this.rendered||(this.rendered=!0,this.props.context.helmetInstances.add(this),this.emitChange())},n.render=function(){return this.init(),null},t}(E.Component);dc.propTypes={context:Xk.isRequired},dc.displayName="HelmetDispatcher";var Zk=["children"],eD=["children"],Vu=function(e){function t(){return e.apply(this,arguments)||this}dg(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(r){return!Ok(b0(this.props,"helmetData"),b0(r,"helmetData"))},n.mapNestedChildrenToProps=function(r,i){if(!i)return null;switch(r.type){case X.SCRIPT:case X.NOSCRIPT:return{innerHTML:i};case X.STYLE:return{cssText:i};default:throw new Error("<"+r.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")}},n.flattenArrayTypeChildren=function(r){var i,s=r.child,o=r.arrayTypeChildren;return Xe({},o,((i={})[s.type]=[].concat(o[s.type]||[],[Xe({},r.newChildProps,this.mapNestedChildrenToProps(s,r.nestedChildren))]),i))},n.mapObjectTypeChildren=function(r){var i,s,o=r.child,a=r.newProps,l=r.newChildProps,u=r.nestedChildren;switch(o.type){case X.TITLE:return Xe({},a,((i={})[o.type]=u,i.titleAttributes=Xe({},l),i));case X.BODY:return Xe({},a,{bodyAttributes:Xe({},l)});case X.HTML:return Xe({},a,{htmlAttributes:Xe({},l)});default:return Xe({},a,((s={})[o.type]=Xe({},l),s))}},n.mapArrayTypeChildrenToProps=function(r,i){var s=Xe({},i);return Object.keys(r).forEach(function(o){var a;s=Xe({},s,((a={})[o]=r[o],a))}),s},n.warnOnInvalidChildren=function(r,i){return k0(V0.some(function(s){return r.type===s}),typeof r.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types "+V0.join(", ")+" are allowed. Helmet does not support rendering <"+r.type+"> elements. Refer to our API for more information."),k0(!i||typeof i=="string"||Array.isArray(i)&&!i.some(function(s){return typeof s!="string"}),"Helmet expects a string as a child of <"+r.type+">. Did you forget to wrap your children in braces? ( <"+r.type+">{``}</"+r.type+"> ) Refer to our API for more information."),!0},n.mapChildrenToProps=function(r,i){var s=this,o={};return M.Children.forEach(r,function(a){if(a&&a.props){var l=a.props,u=l.children,c=D0(l,Zk),h=Object.keys(c).reduce(function(f,g){return f[qk[g]||g]=c[g],f},{}),d=a.type;switch(typeof d=="symbol"?d=d.toString():s.warnOnInvalidChildren(a,u),d){case X.FRAGMENT:i=s.mapChildrenToProps(u,i);break;case X.LINK:case X.META:case X.NOSCRIPT:case X.SCRIPT:case X.STYLE:o=s.flattenArrayTypeChildren({child:a,arrayTypeChildren:o,newChildProps:h,nestedChildren:u});break;default:i=s.mapObjectTypeChildren({child:a,newProps:i,newChildProps:h,nestedChildren:u})}}}),this.mapArrayTypeChildrenToProps(o,i)},n.render=function(){var r=this.props,i=r.children,s=D0(r,eD),o=Xe({},s),a=s.helmetData;return i&&(o=this.mapChildrenToProps(i,o)),!a||a instanceof vp||(a=new vp(a.context,a.instances)),a?M.createElement(dc,Xe({},o,{context:a.value,helmetData:void 0})):M.createElement(qT.Consumer,null,function(l){return M.createElement(dc,Xe({},o,{context:l}))})},t}(E.Component);Vu.propTypes={base:fe.object,bodyAttributes:fe.object,children:fe.oneOfType([fe.arrayOf(fe.node),fe.node]),defaultTitle:fe.string,defer:fe.bool,encodeSpecialCharacters:fe.bool,htmlAttributes:fe.object,link:fe.arrayOf(fe.object),meta:fe.arrayOf(fe.object),noscript:fe.arrayOf(fe.object),onChangeClientState:fe.func,script:fe.arrayOf(fe.object),style:fe.arrayOf(fe.object),title:fe.string,titleAttributes:fe.object,titleTemplate:fe.string,prioritizeSeoTags:fe.bool,helmetData:fe.object},Vu.defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1},Vu.displayName="Helmet";function tD(e){return vo({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0 0 48.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2z"}}]})(e)}function nD(e){return vo({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M868 545.5L536.1 163a31.96 31.96 0 0 0-48.3 0L156 545.5a7.97 7.97 0 0 0 6 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]})(e)}function rD(e){return vo({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]})(e)}function iD(){return S.jsxs("footer",{className:"footer",children:[S.jsx("div",{className:"container",children:S.jsx("div",{className:"row",children:S.jsxs("div",{className:"footer-col",children:[S.jsx("h4",{children:"Registro Peliculas"}),S.jsxs("ul",{children:[S.jsx("li",{children:S.jsx(za,{to:"/",children:"Inicio"})}),S.jsx("li",{children:S.jsx(za,{to:"/films",children:"Peliculas"})})]})]})})}),S.jsx("div",{className:"container-brand",children:S.jsx("p",{children:"© Registro Peliculas"})})]})}function sD(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var _p=E,Bo=sD(_p);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wp=function(){return wp=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},wp.apply(this,arguments)};function oD(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function aD(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var lD=`.scroll-to-top {
  background-color: white;
  right: 40px;
  bottom: 40px;
  position: fixed;
  z-index: 2;
  cursor: pointer;
  border-radius: 7px;
  width: 40px;
  height: 40px;
  box-shadow: 0 9px 25px 0 rgba(132, 128, 177, 0.28);
  border: none;
}

.scroll-to-top:active {
  transform: matrix(0.95, 0, 0, 0.95, 0, 0);
}
`;aD(lD);function uD(e){e===void 0&&(e=!1),e?window.scrollTo({top:0,behavior:"smooth"}):document.documentElement.scrollTop=0}var cD=function(e){var t=e.top,n=t===void 0?20:t,r=e.className,i=r===void 0?"":r,s=e.color,o=s===void 0?"black":s,a=e.smooth,l=a===void 0?!1:a,u=e.component,c=u===void 0?"":u,h=e.viewBox,d=h===void 0?"0 0 256 256":h,f=e.svgPath,g=f===void 0?"M222.138,91.475l-89.6-89.6c-2.5-2.5-6.551-2.5-9.051,0l-89.6,89.6c-2.5,2.5-2.5,6.551,0,9.051s6.744,2.5,9.244,0L122,21.85  V249.6c0,3.535,2.466,6.4,6,6.4s6-2.865,6-6.4V21.85l78.881,78.676c1.25,1.25,2.992,1.875,4.629,1.875s3.326-0.625,4.576-1.875  C224.586,98.025,224.638,93.975,222.138,91.475z":f,v=e.width,w=v===void 0?"28":v,p=e.height,m=p===void 0?"28":p,_=oD(e,["top","className","color","smooth","component","viewBox","svgPath","width","height"]),y=_p.useState(!1),I=y[0],R=y[1];return _p.useEffect(function(){var A=function(){R(document.documentElement.scrollTop>=n)};return A(),document.addEventListener("scroll",A),function(){return document.removeEventListener("scroll",A)}},[n]),Bo.createElement(Bo.Fragment,null,I&&Bo.createElement("button",wp({className:"scroll-to-top "+i,onClick:function(){return uD(l)},"aria-label":"Scroll to top"},_),c||Bo.createElement("svg",{width:w,height:m,fill:o,viewBox:d},Bo.createElement("path",{d:g}))))},hD=cD;const dD=es(hD);function fD(e){return vo({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z"}}]})(e)}function pD(){return S.jsx(S.Fragment,{children:S.jsx(dD,{top:250,smooth:!0,color:"#0089e4",component:S.jsx(fD,{style:{color:"rgb(88, 129, 153)"},size:20})})})}const fg=({children:e,title:t,pageDescription:n})=>S.jsxs(S.Fragment,{children:[S.jsx(ks,{children:S.jsxs(Vu,{children:[S.jsx("title",{children:t}),S.jsx("meta",{name:"og:title",content:t}),S.jsx("meta",{name:"og:description",content:n})]})}),S.jsx(Pk,{}),S.jsx("section",{className:"section",children:e}),S.jsx(pD,{}),S.jsx(iD,{})]}),mD=()=>S.jsx(S.Fragment,{children:S.jsx(fg,{title:"Inicio",children:"Home"})});function gD(){return S.jsx(S.Fragment,{children:S.jsx(mD,{})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},yD=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},KT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(d=64)),r.push(n[c],n[h],n[d],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(WT(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):yD(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new vD;const d=s<<2|a>>4;if(r.push(d),u!==64){const f=a<<4&240|u>>2;if(r.push(f),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class vD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _D=function(e){const t=WT(e);return KT.encodeByteArray(t,!0)},fc=function(e){return _D(e).replace(/\./g,"")},wD=function(e){try{return KT.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=()=>ED().__FIREBASE_DEFAULTS__,SD=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},ID=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&wD(e[1]);return t&&JSON.parse(t)},GT=()=>{try{return TD()||SD()||ID()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},AD=e=>{var t,n;return(n=(t=GT())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},PD=e=>{const t=AD(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},QT=()=>{var e;return(e=GT())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[fc(JSON.stringify(n)),fc(JSON.stringify(o)),a].join(".")}function RD(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function YT(){try{return typeof indexedDB=="object"}catch{return!1}}function XT(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}function kD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="FirebaseError";class pi extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=DD,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ah.prototype.create)}}class ah{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?VD(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new pi(i,a,r)}}function VD(e,t){return e.replace(bD,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const bD=/\{\$([^}]+)}/g;function pc(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(O0(s)&&O0(o)){if(!pc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function O0(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=1e3,ND=2,LD=4*60*60*1e3,OD=.5;function F0(e,t=MD,n=ND){const r=t*Math.pow(n,e),i=Math.round(OD*r*(Math.random()-.5)*2);return Math.min(LD,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(e){return e&&e._delegate?e._delegate:e}class gr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new xD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if($D(t))try{this.getOrInitializeService({instanceIdentifier:Ai})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Ai){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ai){return this.instances.has(t)}getOptions(t=Ai){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jD(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ai){return this.component?this.component.multipleInstances?t:Ai:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jD(e){return e===Ai?void 0:e}function $D(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new FD(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ge||(ge={}));const UD={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},zD=ge.INFO,HD={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},qD=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=HD[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class pg{constructor(t){this.name=t,this._logLevel=zD,this._logHandler=qD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ge))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?UD[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...t),this._logHandler(this,ge.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...t),this._logHandler(this,ge.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...t),this._logHandler(this,ge.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...t),this._logHandler(this,ge.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...t),this._logHandler(this,ge.ERROR,...t)}}const WD=(e,t)=>t.some(n=>e instanceof n);let j0,$0;function KD(){return j0||(j0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GD(){return $0||($0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JT=new WeakMap,Ep=new WeakMap,ZT=new WeakMap,Md=new WeakMap,mg=new WeakMap;function QD(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Yr(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&JT.set(n,e)}).catch(()=>{}),mg.set(t,e),t}function YD(e){if(Ep.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Ep.set(e,t)}let Tp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ep.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ZT.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function XD(e){Tp=e(Tp)}function JD(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Nd(this),t,...n);return ZT.set(r,t.sort?t.sort():[t]),Yr(r)}:GD().includes(e)?function(...t){return e.apply(Nd(this),t),Yr(JT.get(this))}:function(...t){return Yr(e.apply(Nd(this),t))}}function ZD(e){return typeof e=="function"?JD(e):(e instanceof IDBTransaction&&YD(e),WD(e,KD())?new Proxy(e,Tp):e)}function Yr(e){if(e instanceof IDBRequest)return QD(e);if(Md.has(e))return Md.get(e);const t=ZD(e);return t!==e&&(Md.set(e,t),mg.set(t,e)),t}const Nd=e=>mg.get(e);function eV(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Yr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Yr(o.result),l.oldVersion,l.newVersion,Yr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const tV=["get","getKey","getAll","getAllKeys","count"],nV=["put","add","delete","clear"],Ld=new Map;function B0(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ld.get(t))return Ld.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=nV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tV.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Ld.set(t,s),s}XD(e=>({...e,get:(t,n,r)=>B0(t,n)||e.get(t,n,r),has:(t,n)=>!!B0(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function iV(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Sp="@firebase/app",U0="0.9.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new pg("@firebase/app"),sV="@firebase/app-compat",oV="@firebase/analytics-compat",aV="@firebase/analytics",lV="@firebase/app-check-compat",uV="@firebase/app-check",cV="@firebase/auth",hV="@firebase/auth-compat",dV="@firebase/database",fV="@firebase/database-compat",pV="@firebase/functions",mV="@firebase/functions-compat",gV="@firebase/installations",yV="@firebase/installations-compat",vV="@firebase/messaging",_V="@firebase/messaging-compat",wV="@firebase/performance",EV="@firebase/performance-compat",TV="@firebase/remote-config",SV="@firebase/remote-config-compat",IV="@firebase/storage",AV="@firebase/storage-compat",PV="@firebase/firestore",xV="@firebase/firestore-compat",CV="firebase",RV="10.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="[DEFAULT]",kV={[Sp]:"fire-core",[sV]:"fire-core-compat",[aV]:"fire-analytics",[oV]:"fire-analytics-compat",[uV]:"fire-app-check",[lV]:"fire-app-check-compat",[cV]:"fire-auth",[hV]:"fire-auth-compat",[dV]:"fire-rtdb",[fV]:"fire-rtdb-compat",[pV]:"fire-fn",[mV]:"fire-fn-compat",[gV]:"fire-iid",[yV]:"fire-iid-compat",[vV]:"fire-fcm",[_V]:"fire-fcm-compat",[wV]:"fire-perf",[EV]:"fire-perf-compat",[TV]:"fire-rc",[SV]:"fire-rc-compat",[IV]:"fire-gcs",[AV]:"fire-gcs-compat",[PV]:"fire-fst",[xV]:"fire-fst-compat","fire-js":"fire-js",[CV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=new Map,Ap=new Map;function DV(e,t){try{e.container.addComponent(t)}catch(n){Ki.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function si(e){const t=e.name;if(Ap.has(t))return Ki.debug(`There were multiple attempts to register component ${t}.`),!1;Ap.set(t,e);for(const n of mc.values())DV(n,e);return!0}function gl(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Xr=new ah("app","Firebase",VV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=RV;function eS(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Ip,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Xr.create("bad-app-name",{appName:String(i)});if(n||(n=QT()),!n)throw Xr.create("no-options");const s=mc.get(i);if(s){if(pc(n,s.options)&&pc(r,s.config))return s;throw Xr.create("duplicate-app",{appName:i})}const o=new BD(i);for(const l of Ap.values())o.addComponent(l);const a=new bV(n,r,o);return mc.set(i,a),a}function tS(e=Ip){const t=mc.get(e);if(!t&&e===Ip&&QT())return eS();if(!t)throw Xr.create("no-app",{appName:e});return t}function Qn(e,t,n){var r;let i=(r=kV[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ki.warn(a.join(" "));return}si(new gr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV="firebase-heartbeat-database",LV=1,Ha="firebase-heartbeat-store";let Od=null;function nS(){return Od||(Od=eV(NV,LV,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ha)}}}).catch(e=>{throw Xr.create("idb-open",{originalErrorMessage:e.message})})),Od}async function OV(e){try{return await(await nS()).transaction(Ha).objectStore(Ha).get(rS(e))}catch(t){if(t instanceof pi)Ki.warn(t.message);else{const n=Xr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ki.warn(n.message)}}}async function z0(e,t){try{const r=(await nS()).transaction(Ha,"readwrite");await r.objectStore(Ha).put(t,rS(e)),await r.done}catch(n){if(n instanceof pi)Ki.warn(n.message);else{const r=Xr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ki.warn(r.message)}}}function rS(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=1024,jV=30*24*60*60*1e3;class $V{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=H0();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=jV}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=H0(),{heartbeatsToSend:n,unsentEntries:r}=BV(this._heartbeatsCache.heartbeats),i=fc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function H0(){return new Date().toISOString().substring(0,10)}function BV(e,t=FV){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),q0(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),q0(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class UV{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YT()?XT().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await OV(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return z0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return z0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function q0(e){return fc(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(e){si(new gr("platform-logger",t=>new rV(t),"PRIVATE")),si(new gr("heartbeat",t=>new $V(t),"PRIVATE")),Qn(Sp,U0,e),Qn(Sp,U0,"esm2017"),Qn("fire-js","")}zV("");var HV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},L,gg=gg||{},re=HV||self;function lh(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function yl(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function qV(e){return Object.prototype.hasOwnProperty.call(e,Fd)&&e[Fd]||(e[Fd]=++WV)}var Fd="closure_uid_"+(1e9*Math.random()>>>0),WV=0;function KV(e,t,n){return e.call.apply(e.bind,arguments)}function GV(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function kt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?kt=KV:kt=GV,kt.apply(null,arguments)}function su(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function mt(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function mi(){this.s=this.s,this.o=this.o}var QV=0;mi.prototype.s=!1;mi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),QV!=0)&&qV(this)};mi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const iS=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function yg(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function W0(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(lh(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function Dt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Dt.prototype.h=function(){this.defaultPrevented=!0};var YV=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{re.addEventListener("test",()=>{},t),re.removeEventListener("test",()=>{},t)}catch{}return e}();function qa(e){return/^[\s\xa0]*$/.test(e)}function uh(){var e=re.navigator;return e&&(e=e.userAgent)?e:""}function Hn(e){return uh().indexOf(e)!=-1}function vg(e){return vg[" "](e),e}vg[" "]=function(){};function XV(e,t){var n=zb;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var JV=Hn("Opera"),to=Hn("Trident")||Hn("MSIE"),sS=Hn("Edge"),Pp=sS||to,oS=Hn("Gecko")&&!(uh().toLowerCase().indexOf("webkit")!=-1&&!Hn("Edge"))&&!(Hn("Trident")||Hn("MSIE"))&&!Hn("Edge"),ZV=uh().toLowerCase().indexOf("webkit")!=-1&&!Hn("Edge");function aS(){var e=re.document;return e?e.documentMode:void 0}var xp;e:{var jd="",$d=function(){var e=uh();if(oS)return/rv:([^\);]+)(\)|;)/.exec(e);if(sS)return/Edge\/([\d\.]+)/.exec(e);if(to)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(ZV)return/WebKit\/(\S+)/.exec(e);if(JV)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if($d&&(jd=$d?$d[1]:""),to){var Bd=aS();if(Bd!=null&&Bd>parseFloat(jd)){xp=String(Bd);break e}}xp=jd}var Cp;if(re.document&&to){var K0=aS();Cp=K0||parseInt(xp,10)||void 0}else Cp=void 0;var eb=Cp;function Wa(e,t){if(Dt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(oS){e:{try{vg(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:tb[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Wa.$.h.call(this)}}mt(Wa,Dt);var tb={2:"touch",3:"pen",4:"mouse"};Wa.prototype.h=function(){Wa.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var vl="closure_listenable_"+(1e6*Math.random()|0),nb=0;function rb(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++nb,this.fa=this.ia=!1}function ch(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function _g(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function ib(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function lS(e){const t={};for(const n in e)t[n]=e[n];return t}const G0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function uS(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<G0.length;s++)n=G0[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function hh(e){this.src=e,this.g={},this.h=0}hh.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=kp(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new rb(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function Rp(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=iS(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ch(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function kp(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var wg="closure_lm_"+(1e6*Math.random()|0),Ud={};function cS(e,t,n,r,i){if(r&&r.once)return dS(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)cS(e,t[s],n,r,i);return null}return n=Sg(n),e&&e[vl]?e.O(t,n,yl(r)?!!r.capture:!!r,i):hS(e,t,n,!1,r,i)}function hS(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=yl(i)?!!i.capture:!!i,a=Tg(e);if(a||(e[wg]=a=new hh(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=sb(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)YV||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(pS(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function sb(){function e(n){return t.call(e.src,e.listener,n)}const t=ob;return e}function dS(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)dS(e,t[s],n,r,i);return null}return n=Sg(n),e&&e[vl]?e.P(t,n,yl(r)?!!r.capture:!!r,i):hS(e,t,n,!0,r,i)}function fS(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)fS(e,t[s],n,r,i);else r=yl(r)?!!r.capture:!!r,n=Sg(n),e&&e[vl]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=kp(s,n,r,i),-1<n&&(ch(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Tg(e))&&(t=e.g[t.toString()],e=-1,t&&(e=kp(t,n,r,i)),(n=-1<e?t[e]:null)&&Eg(n))}function Eg(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[vl])Rp(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(pS(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Tg(t))?(Rp(n,e),n.h==0&&(n.src=null,t[wg]=null)):ch(e)}}}function pS(e){return e in Ud?Ud[e]:Ud[e]="on"+e}function ob(e,t){if(e.fa)e=!0;else{t=new Wa(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Eg(e),e=n.call(r,t)}return e}function Tg(e){return e=e[wg],e instanceof hh?e:null}var zd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sg(e){return typeof e=="function"?e:(e[zd]||(e[zd]=function(t){return e.handleEvent(t)}),e[zd])}function pt(){mi.call(this),this.i=new hh(this),this.S=this,this.J=null}mt(pt,mi);pt.prototype[vl]=!0;pt.prototype.removeEventListener=function(e,t,n,r){fS(this,e,t,n,r)};function Et(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new Dt(t,e);else if(t instanceof Dt)t.target=t.target||e;else{var i=t;t=new Dt(r,e),uS(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ou(o,r,!0,t)&&i}if(o=t.g=e,i=ou(o,r,!0,t)&&i,i=ou(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=ou(o,r,!1,t)&&i}pt.prototype.N=function(){if(pt.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)ch(n[r]);delete e.g[t],e.h--}}this.J=null};pt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};pt.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function ou(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Rp(e.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Ig=re.JSON.stringify;class ab{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function lb(){var e=Ag;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class ub{constructor(){this.h=this.g=null}add(t,n){const r=mS.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var mS=new ab(()=>new cb,e=>e.reset());class cb{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function hb(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function db(e){re.setTimeout(()=>{throw e},0)}let Ka,Ga=!1,Ag=new ub,gS=()=>{const e=re.Promise.resolve(void 0);Ka=()=>{e.then(fb)}};var fb=()=>{for(var e;e=lb();){try{e.h.call(e.g)}catch(n){db(n)}var t=mS;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ga=!1};function dh(e,t){pt.call(this),this.h=e||1,this.g=t||re,this.j=kt(this.qb,this),this.l=Date.now()}mt(dh,pt);L=dh.prototype;L.ga=!1;L.T=null;L.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Et(this,"tick"),this.ga&&(Pg(this),this.start()))}};L.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Pg(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}L.N=function(){dh.$.N.call(this),Pg(this),delete this.g};function xg(e,t,n){if(typeof e=="function")n&&(e=kt(e,n));else if(e&&typeof e.handleEvent=="function")e=kt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:re.setTimeout(e,t||0)}function yS(e){e.g=xg(()=>{e.g=null,e.i&&(e.i=!1,yS(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class pb extends mi{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:yS(this)}N(){super.N(),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qa(e){mi.call(this),this.h=e,this.g={}}mt(Qa,mi);var Q0=[];function vS(e,t,n,r){Array.isArray(n)||(n&&(Q0[0]=n.toString()),n=Q0);for(var i=0;i<n.length;i++){var s=cS(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function _S(e){_g(e.g,function(t,n){this.g.hasOwnProperty(n)&&Eg(t)},e),e.g={}}Qa.prototype.N=function(){Qa.$.N.call(this),_S(this)};Qa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function fh(){this.g=!0}fh.prototype.Ea=function(){this.g=!1};function mb(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function gb(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function Ds(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+vb(e,n)+(r?" "+r:"")})}function yb(e,t){e.info(function(){return"TIMEOUT: "+t})}fh.prototype.info=function(){};function vb(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Ig(n)}catch{return t}}var is={},Y0=null;function ph(){return Y0=Y0||new pt}is.Ta="serverreachability";function wS(e){Dt.call(this,is.Ta,e)}mt(wS,Dt);function Ya(e){const t=ph();Et(t,new wS(t))}is.STAT_EVENT="statevent";function ES(e,t){Dt.call(this,is.STAT_EVENT,e),this.stat=t}mt(ES,Dt);function Lt(e){const t=ph();Et(t,new ES(t,e))}is.Ua="timingevent";function TS(e,t){Dt.call(this,is.Ua,e),this.size=t}mt(TS,Dt);function _l(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){e()},t)}var mh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},SS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Cg(){}Cg.prototype.h=null;function X0(e){return e.h||(e.h=e.i())}function IS(){}var wl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Rg(){Dt.call(this,"d")}mt(Rg,Dt);function kg(){Dt.call(this,"c")}mt(kg,Dt);var Dp;function gh(){}mt(gh,Cg);gh.prototype.g=function(){return new XMLHttpRequest};gh.prototype.i=function(){return{}};Dp=new gh;function El(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Qa(this),this.P=_b,e=Pp?125:void 0,this.V=new dh(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new AS}function AS(){this.i=null,this.g="",this.h=!1}var _b=45e3,Vp={},gc={};L=El.prototype;L.setTimeout=function(e){this.P=e};function bp(e,t,n){e.L=1,e.v=vh(yr(t)),e.s=n,e.S=!0,PS(e,null)}function PS(e,t){e.G=Date.now(),Tl(e),e.A=yr(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),MS(n.i,"t",r),e.C=0,n=e.l.J,e.h=new AS,e.g=tI(e.l,n?t:null,!e.s),0<e.O&&(e.M=new pb(kt(e.Pa,e,e.g),e.O)),vS(e.U,e.g,"readystatechange",e.nb),t=e.I?lS(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Ya(),mb(e.j,e.u,e.A,e.m,e.W,e.s)}L.nb=function(e){e=e.target;const t=this.M;t&&qn(e)==3?t.l():this.Pa(e)};L.Pa=function(e){try{if(e==this.g)e:{const c=qn(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||Pp||this.g&&(this.h.h||this.g.ja()||t1(this.g)))){this.J||c!=4||t==7||(t==8||0>=h?Ya(3):Ya(2)),yh(this);var n=this.g.da();this.ca=n;t:if(xS(this)){var r=t1(this.g);e="";var i=r.length,s=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vi(this),pa(this);var o="";break t}this.h.i=new re.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,gb(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qa(a)){var u=a;break t}}u=null}if(n=u)Ds(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mp(this,n);else{this.i=!1,this.o=3,Lt(12),Vi(this),pa(this);break e}}this.S?(CS(this,c,o),Pp&&this.i&&c==3&&(vS(this.U,this.V,"tick",this.mb),this.V.start())):(Ds(this.j,this.m,o,null),Mp(this,o)),c==4&&Vi(this),this.i&&!this.J&&(c==4?XS(this.l,this):(this.i=!1,Tl(this)))}else $b(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Lt(12)):(this.o=0,Lt(13)),Vi(this),pa(this)}}}catch{}finally{}};function xS(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function CS(e,t,n){let r=!0,i;for(;!e.J&&e.C<n.length;)if(i=wb(e,n),i==gc){t==4&&(e.o=4,Lt(14),r=!1),Ds(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Vp){e.o=4,Lt(15),Ds(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Ds(e.j,e.m,i,null),Mp(e,i);xS(e)&&i!=gc&&i!=Vp&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Lt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Lg(t),t.M=!0,Lt(11))):(Ds(e.j,e.m,n,"[Invalid Chunked Response]"),Vi(e),pa(e))}L.mb=function(){if(this.g){var e=qn(this.g),t=this.g.ja();this.C<t.length&&(yh(this),CS(this,e,t),this.i&&e!=4&&Tl(this))}};function wb(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?gc:(n=Number(t.substring(n,r)),isNaN(n)?Vp:(r+=1,r+n>t.length?gc:(t=t.slice(r,r+n),e.C=r+n,t)))}L.cancel=function(){this.J=!0,Vi(this)};function Tl(e){e.Y=Date.now()+e.P,RS(e,e.P)}function RS(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=_l(kt(e.lb,e),t)}function yh(e){e.B&&(re.clearTimeout(e.B),e.B=null)}L.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(yb(this.j,this.A),this.L!=2&&(Ya(),Lt(17)),Vi(this),this.o=2,pa(this)):RS(this,this.Y-e)};function pa(e){e.l.H==0||e.J||XS(e.l,e)}function Vi(e){yh(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Pg(e.V),_S(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Mp(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||Np(n.i,e))){if(!e.K&&Np(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)_c(n),Eh(n);else break e;Ng(n),Lt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=_l(kt(n.ib,n),6e3));if(1>=OS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else bi(n,11)}else if((e.K||n.g==e)&&_c(n),!qa(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=e.g;if(f){const g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Dg(s,s.h),s.h=null))}if(r.F){const v=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,De(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=eI(r,r.J?r.pa:null,r.Y),o.K){FS(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(yh(a),Tl(a)),r.g=o}else QS(r);0<n.j.length&&Th(n)}else u[0]!="stop"&&u[0]!="close"||bi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?bi(n,7):Mg(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ya(4)}catch{}}function Eb(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(lh(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function Tb(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(lh(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function kS(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(lh(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=Tb(e),r=Eb(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var DS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sb(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ji(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ji){this.h=e.h,yc(this,e.j),this.s=e.s,this.g=e.g,vc(this,e.m),this.l=e.l;var t=e.i,n=new Xa;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),J0(this,n),this.o=e.o}else e&&(t=String(e).match(DS))?(this.h=!1,yc(this,t[1]||"",!0),this.s=Xo(t[2]||""),this.g=Xo(t[3]||"",!0),vc(this,t[4]),this.l=Xo(t[5]||"",!0),J0(this,t[6]||"",!0),this.o=Xo(t[7]||"")):(this.h=!1,this.i=new Xa(null,this.h))}ji.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Jo(t,Z0,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Jo(t,Z0,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Jo(n,n.charAt(0)=="/"?Pb:Ab,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Jo(n,Cb)),e.join("")};function yr(e){return new ji(e)}function yc(e,t,n){e.j=n?Xo(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function vc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function J0(e,t,n){t instanceof Xa?(e.i=t,Rb(e.i,e.h)):(n||(t=Jo(t,xb)),e.i=new Xa(t,e.h))}function De(e,t,n){e.i.set(t,n)}function vh(e){return De(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Xo(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Jo(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,Ib),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ib(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Z0=/[#\/\?@]/g,Ab=/[#\?:]/g,Pb=/[#\?]/g,xb=/[#\?@]/g,Cb=/#/g;function Xa(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function gi(e){e.g||(e.g=new Map,e.h=0,e.i&&Sb(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}L=Xa.prototype;L.add=function(e,t){gi(this),this.i=null,e=_o(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function VS(e,t){gi(e),t=_o(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function bS(e,t){return gi(e),t=_o(e,t),e.g.has(t)}L.forEach=function(e,t){gi(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};L.ta=function(){gi(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};L.Z=function(e){gi(this);let t=[];if(typeof e=="string")bS(this,e)&&(t=t.concat(this.g.get(_o(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};L.set=function(e,t){return gi(this),this.i=null,e=_o(this,e),bS(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};L.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function MS(e,t,n){VS(e,t),0<n.length&&(e.i=null,e.g.set(_o(e,t),yg(n)),e.h+=n.length)}L.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function _o(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Rb(e,t){t&&!e.j&&(gi(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(VS(this,r),MS(this,i,n))},e)),e.j=t}var kb=class{constructor(e,t){this.g=e,this.map=t}};function NS(e){this.l=e||Db,re.PerformanceNavigationTiming?(e=re.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(re.g&&re.g.Ka&&re.g.Ka()&&re.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Db=10;function LS(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function OS(e){return e.h?1:e.g?e.g.size:0}function Np(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Dg(e,t){e.g?e.g.add(t):e.h=t}function FS(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}NS.prototype.cancel=function(){if(this.i=jS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function jS(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return yg(e.i)}var Vb=class{stringify(e){return re.JSON.stringify(e,void 0)}parse(e){return re.JSON.parse(e,void 0)}};function bb(){this.g=new Vb}function Mb(e,t,n){const r=n||"";try{kS(e,function(i,s){let o=i;yl(i)&&(o=Ig(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Nb(e,t){const n=new fh;if(re.Image){const r=new Image;r.onload=su(au,n,r,"TestLoadImage: loaded",!0,t),r.onerror=su(au,n,r,"TestLoadImage: error",!1,t),r.onabort=su(au,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=su(au,n,r,"TestLoadImage: timeout",!1,t),re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function au(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Sl(e){this.l=e.ec||null,this.j=e.ob||!1}mt(Sl,Cg);Sl.prototype.g=function(){return new _h(this.l,this.j)};Sl.prototype.i=function(e){return function(){return e}}({});function _h(e,t){pt.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Vg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mt(_h,pt);var Vg=0;L=_h.prototype;L.open=function(e,t){if(this.readyState!=Vg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ja(this)};L.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||re).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};L.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Il(this)),this.readyState=Vg};L.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ja(this)),this.g&&(this.readyState=3,Ja(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof re.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$S(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function $S(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}L.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Il(this):Ja(this),this.readyState==3&&$S(this)}};L.Za=function(e){this.g&&(this.response=this.responseText=e,Il(this))};L.Ya=function(e){this.g&&(this.response=e,Il(this))};L.ka=function(){this.g&&Il(this)};function Il(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ja(e)}L.setRequestHeader=function(e,t){this.v.append(e,t)};L.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};L.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Ja(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(_h.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var Lb=re.JSON.parse;function Qe(e){pt.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=BS,this.L=this.M=!1}mt(Qe,pt);var BS="",Ob=/^https?$/i,Fb=["POST","PUT"];L=Qe.prototype;L.Oa=function(e){this.M=e};L.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Dp.g(),this.C=this.u?X0(this.u):X0(Dp),this.g.onreadystatechange=kt(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){e1(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=re.FormData&&e instanceof re.FormData,!(0<=iS(Fb,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{HS(this),0<this.B&&((this.L=jb(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kt(this.ua,this)):this.A=xg(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){e1(this,s)}};function jb(e){return to&&typeof e.timeout=="number"&&e.ontimeout!==void 0}L.ua=function(){typeof gg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Et(this,"timeout"),this.abort(8))};function e1(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,US(e),wh(e)}function US(e){e.F||(e.F=!0,Et(e,"complete"),Et(e,"error"))}L.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Et(this,"complete"),Et(this,"abort"),wh(this))};L.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wh(this,!0)),Qe.$.N.call(this)};L.La=function(){this.s||(this.G||this.v||this.l?zS(this):this.kb())};L.kb=function(){zS(this)};function zS(e){if(e.h&&typeof gg<"u"&&(!e.C[1]||qn(e)!=4||e.da()!=2)){if(e.v&&qn(e)==4)xg(e.La,0,e);else if(Et(e,"readystatechange"),qn(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(DS)[1]||null;!i&&re.self&&re.self.location&&(i=re.self.location.protocol.slice(0,-1)),r=!Ob.test(i?i.toLowerCase():"")}n=r}if(n)Et(e,"complete"),Et(e,"success");else{e.m=6;try{var s=2<qn(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",US(e)}}finally{wh(e)}}}}function wh(e,t){if(e.g){HS(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Et(e,"ready");try{n.onreadystatechange=r}catch{}}}function HS(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(re.clearTimeout(e.A),e.A=null)}L.isActive=function(){return!!this.g};function qn(e){return e.g?e.g.readyState:0}L.da=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}};L.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};L.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Lb(t)}};function t1(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case BS:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function $b(e){const t={};e=(e.g&&2<=qn(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(qa(e[r]))continue;var n=hb(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}ib(t,function(r){return r.join(", ")})}L.Ia=function(){return this.m};L.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function qS(e){let t="";return _g(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function bg(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=qS(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):De(e,t,n))}function Uo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function WS(e){this.Ga=0,this.j=[],this.l=new fh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Uo("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Uo("baseRetryDelayMs",5e3,e),this.hb=Uo("retryDelaySeedMs",1e4,e),this.eb=Uo("forwardChannelMaxRetries",2,e),this.xa=Uo("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new NS(e&&e.concurrentRequestLimit),this.Ja=new bb,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}L=WS.prototype;L.ra=8;L.H=1;function Mg(e){if(KS(e),e.H==3){var t=e.W++,n=yr(e.I);if(De(n,"SID",e.K),De(n,"RID",t),De(n,"TYPE","terminate"),Al(e,n),t=new El(e,e.l,t),t.L=2,t.v=vh(yr(n)),n=!1,re.navigator&&re.navigator.sendBeacon)try{n=re.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&re.Image&&(new Image().src=t.v,n=!0),n||(t.g=tI(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Tl(t)}ZS(e)}function Eh(e){e.g&&(Lg(e),e.g.cancel(),e.g=null)}function KS(e){Eh(e),e.u&&(re.clearTimeout(e.u),e.u=null),_c(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&re.clearTimeout(e.m),e.m=null)}function Th(e){if(!LS(e.i)&&!e.m){e.m=!0;var t=e.Na;Ka||gS(),Ga||(Ka(),Ga=!0),Ag.add(t,e),e.C=0}}function Bb(e,t){return OS(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=_l(kt(e.Na,e,t),JS(e,e.C)),e.C++,!0)}L.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new El(this,this.l,e);let s=this.s;if(this.U&&(s?(s=lS(s),uS(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=GS(this,i,t),n=yr(this.I),De(n,"RID",e),De(n,"CVER",22),this.F&&De(n,"X-HTTP-Session-Id",this.F),Al(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(qS(s)))+"&"+t:this.o&&bg(n,this.o,s)),Dg(this.i,i),this.bb&&De(n,"TYPE","init"),this.P?(De(n,"$req",t),De(n,"SID","null"),i.aa=!0,bp(i,n,null)):bp(i,n,t),this.H=2}}else this.H==3&&(e?n1(this,e):this.j.length==0||LS(this.i)||n1(this))};function n1(e,t){var n;t?n=t.m:n=e.W++;const r=yr(e.I);De(r,"SID",e.K),De(r,"RID",n),De(r,"AID",e.V),Al(e,r),e.o&&e.s&&bg(r,e.o,e.s),n=new El(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=GS(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Dg(e.i,n),bp(n,r,t)}function Al(e,t){e.na&&_g(e.na,function(n,r){De(t,r,n)}),e.h&&kS({},function(n,r){De(t,r,n)})}function GS(e,t,n){n=Math.min(e.j.length,n);var r=e.h?kt(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{Mb(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function QS(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Ka||gS(),Ga||(Ka(),Ga=!0),Ag.add(t,e),e.A=0}}function Ng(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=_l(kt(e.Ma,e),JS(e,e.A)),e.A++,!0)}L.Ma=function(){if(this.u=null,YS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=_l(kt(this.jb,this),e)}};L.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Lt(10),Eh(this),YS(this))};function Lg(e){e.B!=null&&(re.clearTimeout(e.B),e.B=null)}function YS(e){e.g=new El(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=yr(e.wa);De(t,"RID","rpc"),De(t,"SID",e.K),De(t,"AID",e.V),De(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&De(t,"TO",e.qa),De(t,"TYPE","xmlhttp"),Al(e,t),e.o&&e.s&&bg(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=vh(yr(t)),n.s=null,n.S=!0,PS(n,e)}L.ib=function(){this.v!=null&&(this.v=null,Eh(this),Ng(this),Lt(19))};function _c(e){e.v!=null&&(re.clearTimeout(e.v),e.v=null)}function XS(e,t){var n=null;if(e.g==t){_c(e),Lg(e),e.g=null;var r=2}else if(Np(e.i,t))n=t.F,FS(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;r=ph(),Et(r,new TS(r,n)),Th(e)}else QS(e);else if(i=t.o,i==3||i==0&&0<t.ca||!(r==1&&Bb(e,t)||r==2&&Ng(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:bi(e,5);break;case 4:bi(e,10);break;case 3:bi(e,6);break;default:bi(e,2)}}}function JS(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function bi(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=kt(e.pb,e);n||(n=new ji("//www.google.com/images/cleardot.gif"),re.location&&re.location.protocol=="http"||yc(n,"https"),vh(n)),Nb(n.toString(),r)}else Lt(2);e.H=0,e.h&&e.h.za(t),ZS(e),KS(e)}L.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Lt(2)):(this.l.info("Failed to ping google.com"),Lt(1))};function ZS(e){if(e.H=0,e.ma=[],e.h){const t=jS(e.i);(t.length!=0||e.j.length!=0)&&(W0(e.ma,t),W0(e.ma,e.j),e.i.i.length=0,yg(e.j),e.j.length=0),e.h.ya()}}function eI(e,t,n){var r=n instanceof ji?yr(n):new ji(n);if(r.g!="")t&&(r.g=t+"."+r.g),vc(r,r.m);else{var i=re.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new ji(null);r&&yc(s,r),t&&(s.g=t),i&&vc(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&De(r,n,t),De(r,"VER",e.ra),Al(e,r),r}function tI(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new Qe(new Sl({ob:!0})):new Qe(e.va),t.Oa(e.J),t}L.isActive=function(){return!!this.h&&this.h.isActive(this)};function nI(){}L=nI.prototype;L.Ba=function(){};L.Aa=function(){};L.za=function(){};L.ya=function(){};L.isActive=function(){return!0};L.Va=function(){};function wc(){if(to&&!(10<=Number(eb)))throw Error("Environmental error: no available transport.")}wc.prototype.g=function(e,t){return new on(e,t)};function on(e,t){pt.call(this),this.g=new WS(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!qa(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!qa(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new wo(this)}mt(on,pt);on.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Lt(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=eI(e,null,e.Y),Th(e)};on.prototype.close=function(){Mg(this.g)};on.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Ig(e),e=n);t.j.push(new kb(t.fb++,e)),t.H==3&&Th(t)};on.prototype.N=function(){this.g.h=null,delete this.j,Mg(this.g),delete this.g,on.$.N.call(this)};function rI(e){Rg.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}mt(rI,Rg);function iI(){kg.call(this),this.status=1}mt(iI,kg);function wo(e){this.g=e}mt(wo,nI);wo.prototype.Ba=function(){Et(this.g,"a")};wo.prototype.Aa=function(e){Et(this.g,new rI(e))};wo.prototype.za=function(e){Et(this.g,new iI)};wo.prototype.ya=function(){Et(this.g,"b")};function Ub(){this.blockSize=-1}function Nn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}mt(Nn,Ub);Nn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Hd(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}Nn.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)Hd(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Hd(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Hd(this,r),i=0;break}}this.h=i,this.i+=t};Nn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function Te(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var zb={};function Og(e){return-128<=e&&128>e?XV(e,function(t){return new Te([t|0],0>t?-1:0)}):new Te([e|0],0>e?-1:0)}function Wn(e){if(isNaN(e)||!isFinite(e))return Hs;if(0>e)return vt(Wn(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Lp;return new Te(t,0)}function sI(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return vt(sI(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Wn(Math.pow(t,8)),r=Hs,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=Wn(Math.pow(t,s)),r=r.R(s).add(Wn(o))):(r=r.R(n),r=r.add(Wn(o)))}return r}var Lp=4294967296,Hs=Og(0),Op=Og(1),r1=Og(16777216);L=Te.prototype;L.ea=function(){if(_n(this))return-vt(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Lp+r)*t,t*=Lp}return e};L.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(or(this))return"0";if(_n(this))return"-"+vt(this).toString(e);for(var t=Wn(Math.pow(e,6)),n=this,r="";;){var i=Tc(n,t).g;n=Ec(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,or(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};L.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function or(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function _n(e){return e.h==-1}L.X=function(e){return e=Ec(this,e),_n(e)?-1:or(e)?0:1};function vt(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Te(n,~e.h).add(Op)}L.abs=function(){return _n(this)?vt(this):this};L.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Te(n,n[n.length-1]&-2147483648?-1:0)};function Ec(e,t){return e.add(vt(t))}L.R=function(e){if(or(this)||or(e))return Hs;if(_n(this))return _n(e)?vt(this).R(vt(e)):vt(vt(this).R(e));if(_n(e))return vt(this.R(vt(e)));if(0>this.X(r1)&&0>e.X(r1))return Wn(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,l=e.D(i)&65535;n[2*r+2*i]+=o*l,lu(n,2*r+2*i),n[2*r+2*i+1]+=s*l,lu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,lu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,lu(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Te(n,0)};function lu(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function zo(e,t){this.g=e,this.h=t}function Tc(e,t){if(or(t))throw Error("division by zero");if(or(e))return new zo(Hs,Hs);if(_n(e))return t=Tc(vt(e),t),new zo(vt(t.g),vt(t.h));if(_n(t))return t=Tc(e,vt(t)),new zo(vt(t.g),t.h);if(30<e.g.length){if(_n(e)||_n(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Op,r=t;0>=r.X(e);)n=i1(n),r=i1(r);var i=fs(n,1),s=fs(r,1);for(r=fs(r,2),n=fs(n,2);!or(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=fs(r,1),n=fs(n,1)}return t=Ec(e,i.R(t)),new zo(i,t)}for(i=Hs;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Wn(n),o=s.R(t);_n(o)||0<o.X(e);)n-=r,s=Wn(n),o=s.R(t);or(s)&&(s=Op),i=i.add(s),e=Ec(e,o)}return new zo(i,e)}L.gb=function(e){return Tc(this,e).h};L.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Te(n,this.h&e.h)};L.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Te(n,this.h|e.h)};L.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Te(n,this.h^e.h)};function i1(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Te(n,e.h)}function fs(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Te(i,e.h)}wc.prototype.createWebChannel=wc.prototype.g;on.prototype.send=on.prototype.u;on.prototype.open=on.prototype.m;on.prototype.close=on.prototype.close;mh.NO_ERROR=0;mh.TIMEOUT=8;mh.HTTP_ERROR=6;SS.COMPLETE="complete";IS.EventType=wl;wl.OPEN="a";wl.CLOSE="b";wl.ERROR="c";wl.MESSAGE="d";pt.prototype.listen=pt.prototype.O;Qe.prototype.listenOnce=Qe.prototype.P;Qe.prototype.getLastError=Qe.prototype.Sa;Qe.prototype.getLastErrorCode=Qe.prototype.Ia;Qe.prototype.getStatus=Qe.prototype.da;Qe.prototype.getResponseJson=Qe.prototype.Wa;Qe.prototype.getResponseText=Qe.prototype.ja;Qe.prototype.send=Qe.prototype.ha;Qe.prototype.setWithCredentials=Qe.prototype.Oa;Nn.prototype.digest=Nn.prototype.l;Nn.prototype.reset=Nn.prototype.reset;Nn.prototype.update=Nn.prototype.j;Te.prototype.add=Te.prototype.add;Te.prototype.multiply=Te.prototype.R;Te.prototype.modulo=Te.prototype.gb;Te.prototype.compare=Te.prototype.X;Te.prototype.toNumber=Te.prototype.ea;Te.prototype.toString=Te.prototype.toString;Te.prototype.getBits=Te.prototype.D;Te.fromNumber=Wn;Te.fromString=sI;var Hb=function(){return new wc},qb=function(){return ph()},qd=mh,Wb=SS,Kb=is,s1={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Gb=Sl,uu=IS,Qb=Qe,Yb=Nn,qs=Te;const o1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}xt.UNAUTHENTICATED=new xt(null),xt.GOOGLE_CREDENTIALS=new xt("google-credentials-uid"),xt.FIRST_PARTY=new xt("first-party-uid"),xt.MOCK_USER=new xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eo="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new pg("@firebase/firestore");function Ho(){return Gi.logLevel}function q(e,...t){if(Gi.logLevel<=ge.DEBUG){const n=t.map(Fg);Gi.debug(`Firestore (${Eo}): ${e}`,...n)}}function vr(e,...t){if(Gi.logLevel<=ge.ERROR){const n=t.map(Fg);Gi.error(`Firestore (${Eo}): ${e}`,...n)}}function no(e,...t){if(Gi.logLevel<=ge.WARN){const n=t.map(Fg);Gi.warn(`Firestore (${Eo}): ${e}`,...n)}}function Fg(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(e="Unexpected state"){const t=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: `+e;throw vr(t),new Error(t)}function be(e,t){e||ne()}function ae(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class O extends pi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Xb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(xt.UNAUTHENTICATED))}shutdown(){}}class Jb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Zb{constructor(t){this.t=t,this.currentUser=xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Jr,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Jr)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string"),new oI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return be(t===null||typeof t=="string"),new xt(t)}}class eM{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=xt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class tM{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new eM(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nM{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rM{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(be(typeof n.token=="string"),this.R=n.token,new nM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=iM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function we(e,t){return e<t?-1:e>t?1:0}function ro(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new O(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new O(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new O(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new O(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ot.fromMillis(Date.now())}static fromDate(t){return ot.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new ot(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?we(this.nanoseconds,t.nanoseconds):we(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t){this.timestamp=t}static fromTimestamp(t){return new se(t)}static min(){return new se(new ot(0,0))}static max(){return new se(new ot(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t,n,r){n===void 0?n=0:n>t.length&&ne(),r===void 0?r=t.length-n:r>t.length-n&&ne(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Za.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Za?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class xe extends Za{construct(t,n,r){return new xe(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new O(C.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new xe(n)}static emptyPath(){return new xe([])}}const sM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _t extends Za{construct(t,n,r){return new _t(t,n,r)}static isValidIdentifier(t){return sM.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_t.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _t(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new O(C.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new O(C.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new O(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new O(C.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new _t(n)}static emptyPath(){return new _t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.path=t}static fromPath(t){return new K(xe.fromString(t))}static fromName(t){return new K(xe.fromString(t).popFirst(5))}static empty(){return new K(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&xe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return xe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new K(new xe(t.slice()))}}function oM(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new oi(i,K.empty(),t)}function aM(e){return new oi(e.readTime,e.key,-1)}class oi{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new oi(se.min(),K.empty(),-1)}static max(){return new oi(se.max(),K.empty(),-1)}}function lM(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=K.comparator(e.documentKey,t.documentKey),n!==0?n:we(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(e){if(e.code!==C.FAILED_PRECONDITION||e.message!==uM)throw e;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new D((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof D?n:D.resolve(n)}catch(n){return D.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):D.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):D.reject(n)}static resolve(t){return new D((n,r)=>{n(t)})}static reject(t){return new D((n,r)=>{r(t)})}static waitFor(t){return new D((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=D.resolve(!1);for(const r of t)n=n.next(i=>i?D.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new D((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new D((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function xl(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}jg._e=-1;function Sh(e){return e==null}function Sc(e){return e===0&&1/e==-1/0}function hM(e){return typeof e=="number"&&Number.isInteger(e)&&!Sc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ss(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function lI(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(t,n){this.comparator=t,this.root=n||yt.EMPTY}insert(t,n){return new Ue(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,yt.BLACK,null,null))}remove(t){return new Ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,yt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new cu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new cu(this.root,t,this.comparator,!1)}getReverseIterator(){return new cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new cu(this.root,t,this.comparator,!0)}}class cu{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class yt{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??yt.RED,this.left=i??yt.EMPTY,this.right=s??yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new yt(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();const t=this.left.check();if(t!==this.right.check())throw ne();return t+(this.isRed()?0:1)}}yt.EMPTY=null,yt.RED=!0,yt.BLACK=!1;yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(t,n,r,i,s){return this}insert(t,n,r){return new yt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(t){this.comparator=t,this.data=new Ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new l1(this.data.getIterator())}getIteratorFrom(t){return new l1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Tt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Tt(this.comparator);return n.data=t,n}}class l1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.fields=t,t.sort(_t.comparator)}static empty(){return new en([])}unionWith(t){let n=new Tt(_t.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new en(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ro(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new uI("Invalid base64 string: "+s):s}}(t);return new bt(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new bt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return we(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const dM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ai(e){if(be(!!e),typeof e=="string"){let t=0;const n=dM.exec(e);if(be(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:rt(e.seconds),nanos:rt(e.nanos)}}function rt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Qi(e){return typeof e=="string"?bt.fromBase64String(e):bt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function $g(e){const t=e.mapValue.fields.__previous_value__;return Ih(t)?$g(t):t}function el(e){const t=ai(e.mapValue.fields.__local_write_time__.timestampValue);return new ot(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(t,n,r,i,s,o,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class tl{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new tl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof tl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Yi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ih(e)?4:pM(e)?9007199254740991:10:ne()}function er(e,t){if(e===t)return!0;const n=Yi(e);if(n!==Yi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return el(e).isEqual(el(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ai(i.timestampValue),a=ai(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return Qi(i.bytesValue).isEqual(Qi(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return rt(i.geoPointValue.latitude)===rt(s.geoPointValue.latitude)&&rt(i.geoPointValue.longitude)===rt(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return rt(i.integerValue)===rt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=rt(i.doubleValue),a=rt(s.doubleValue);return o===a?Sc(o)===Sc(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return ro(e.arrayValue.values||[],t.arrayValue.values||[],er);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(a1(o)!==a1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!er(o[l],a[l])))return!1;return!0}(e,t);default:return ne()}}function nl(e,t){return(e.values||[]).find(n=>er(n,t))!==void 0}function io(e,t){if(e===t)return 0;const n=Yi(e),r=Yi(t);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=rt(s.integerValue||s.doubleValue),l=rt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return u1(e.timestampValue,t.timestampValue);case 4:return u1(el(e),el(t));case 5:return we(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Qi(s),l=Qi(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=we(a[u],l[u]);if(c!==0)return c}return we(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=we(rt(s.latitude),rt(o.latitude));return a!==0?a:we(rt(s.longitude),rt(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=io(a[u],l[u]);if(c)return c}return we(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===hu.mapValue&&o===hu.mapValue)return 0;if(s===hu.mapValue)return 1;if(o===hu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const d=we(l[h],c[h]);if(d!==0)return d;const f=io(a[l[h]],u[c[h]]);if(f!==0)return f}return we(l.length,c.length)}(e.mapValue,t.mapValue);default:throw ne()}}function u1(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return we(e,t);const n=ai(e),r=ai(t),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function so(e){return Fp(e)}function Fp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=ai(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Qi(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return K.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Fp(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Fp(n.fields[o])}`;return i+"}"}(e.mapValue):ne()}function Ic(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function jp(e){return!!e&&"integerValue"in e}function Bg(e){return!!e&&"arrayValue"in e}function c1(e){return!!e&&"nullValue"in e}function h1(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function bu(e){return!!e&&"mapValue"in e}function ma(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ss(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=ma(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ma(e.arrayValue.values[n]);return t}return Object.assign({},e)}function pM(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t){this.value=t}static empty(){return new Ht({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!bu(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ma(n)}setAll(t){let n=_t.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ma(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());bu(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return er(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];bu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){ss(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Ht(ma(this.value))}}function cI(e){const t=[];return ss(e.fields,(n,r)=>{const i=new _t([n]);if(bu(r)){const s=cI(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new en(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Rt(t,0,se.min(),se.min(),se.min(),Ht.empty(),0)}static newFoundDocument(t,n,r,i){return new Rt(t,1,n,se.min(),r,i,0)}static newNoDocument(t,n){return new Rt(t,2,n,se.min(),se.min(),Ht.empty(),0)}static newUnknownDocument(t,n){return new Rt(t,3,n,se.min(),se.min(),Ht.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ht.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Rt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t,n){this.position=t,this.inclusive=n}}function d1(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=K.comparator(K.fromName(o.referenceValue),n.key):r=io(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function f1(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!er(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(t,n="asc"){this.field=t,this.dir=n}}function mM(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{}class st extends hI{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new yM(t,n,r):n==="array-contains"?new wM(t,r):n==="in"?new EM(t,r):n==="not-in"?new TM(t,r):n==="array-contains-any"?new SM(t,r):new st(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new vM(t,r):new _M(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(io(n,this.value)):n!==null&&Yi(this.value)===Yi(n)&&this.matchesComparison(io(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends hI{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new Ln(t,n)}matches(t){return dI(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function dI(e){return e.op==="and"}function fI(e){return gM(e)&&dI(e)}function gM(e){for(const t of e.filters)if(t instanceof Ln)return!1;return!0}function $p(e){if(e instanceof st)return e.field.canonicalString()+e.op.toString()+so(e.value);if(fI(e))return e.filters.map(t=>$p(t)).join(",");{const t=e.filters.map(n=>$p(n)).join(",");return`${e.op}(${t})`}}function pI(e,t){return e instanceof st?function(r,i){return i instanceof st&&r.op===i.op&&r.field.isEqual(i.field)&&er(r.value,i.value)}(e,t):e instanceof Ln?function(r,i){return i instanceof Ln&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&pI(o,i.filters[a]),!0):!1}(e,t):void ne()}function mI(e){return e instanceof st?function(n){return`${n.field.canonicalString()} ${n.op} ${so(n.value)}`}(e):e instanceof Ln?function(n){return n.op.toString()+" {"+n.getFilters().map(mI).join(" ,")+"}"}(e):"Filter"}class yM extends st{constructor(t,n,r){super(t,n,r),this.key=K.fromName(r.referenceValue)}matches(t){const n=K.comparator(t.key,this.key);return this.matchesComparison(n)}}class vM extends st{constructor(t,n){super(t,"in",n),this.keys=gI("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class _M extends st{constructor(t,n){super(t,"not-in",n),this.keys=gI("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function gI(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class wM extends st{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Bg(n)&&nl(n.arrayValue,this.value)}}class EM extends st{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&nl(this.value.arrayValue,n)}}class TM extends st{constructor(t,n){super(t,"not-in",n)}matches(t){if(nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!nl(this.value.arrayValue,n)}}class SM extends st{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Bg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function p1(e,t=null,n=[],r=[],i=null,s=null,o=null){return new IM(e,t,n,r,i,s,o)}function Ug(e){const t=ae(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>$p(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Sh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>so(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>so(r)).join(",")),t.ce=n}return t.ce}function zg(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!mM(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!pI(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!f1(e.startAt,t.startAt)&&f1(e.endAt,t.endAt)}function Bp(e){return K.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function AM(e,t,n,r,i,s,o,a){return new os(e,t,n,r,i,s,o,a)}function Ah(e){return new os(e)}function m1(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Hg(e){return e.collectionGroup!==null}function Ws(e){const t=ae(e);if(t.le===null){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Tt(_t.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new rl(s,r))}),n.has(_t.keyField().canonicalString())||t.le.push(new rl(_t.keyField(),r))}return t.le}function Yn(e){const t=ae(e);return t.he||(t.he=PM(t,Ws(e))),t.he}function PM(e,t){if(e.limitType==="F")return p1(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new rl(i.field,s)});const n=e.endAt?new oo(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new oo(e.startAt.position,e.startAt.inclusive):null;return p1(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Up(e,t){const n=e.filters.concat([t]);return new os(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ac(e,t,n){return new os(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ph(e,t){return zg(Yn(e),Yn(t))&&e.limitType===t.limitType}function yI(e){return`${Ug(Yn(e))}|lt:${e.limitType}`}function ps(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>mI(i)).join(", ")}]`),Sh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>so(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>so(i)).join(",")),`Target(${r})`}(Yn(e))}; limitType=${e.limitType})`}function xh(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):K.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of Ws(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=d1(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Ws(r),i)||r.endAt&&!function(o,a,l){const u=d1(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Ws(r),i))}(e,t)}function xM(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function vI(e){return(t,n)=>{let r=!1;for(const i of Ws(e)){const s=CM(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function CM(e,t,n){const r=e.field.isKeyField()?K.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?io(l,u):ne()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){ss(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return lI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=new Ue(K.comparator);function _r(){return RM}const _I=new Ue(K.comparator);function Zo(...e){let t=_I;for(const n of e)t=t.insert(n.key,n);return t}function wI(e){let t=_I;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Mi(){return ga()}function EI(){return ga()}function ga(){return new To(e=>e.toString(),(e,t)=>e.isEqual(t))}const kM=new Ue(K.comparator),DM=new Tt(K.comparator);function he(...e){let t=DM;for(const n of e)t=t.add(n);return t}const VM=new Tt(we);function bM(){return VM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sc(t)?"-0":t}}function SI(e){return{integerValue:""+e}}function MM(e,t){return hM(t)?SI(t):TI(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(){this._=void 0}}function NM(e,t,n){return e instanceof Pc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ih(s)&&(s=$g(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof il?AI(e,t):e instanceof sl?PI(e,t):function(i,s){const o=II(i,s),a=g1(o)+g1(i.Ie);return jp(o)&&jp(i.Ie)?SI(a):TI(i.serializer,a)}(e,t)}function LM(e,t,n){return e instanceof il?AI(e,t):e instanceof sl?PI(e,t):n}function II(e,t){return e instanceof xc?function(r){return jp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class Pc extends Ch{}class il extends Ch{constructor(t){super(),this.elements=t}}function AI(e,t){const n=xI(t);for(const r of e.elements)n.some(i=>er(i,r))||n.push(r);return{arrayValue:{values:n}}}class sl extends Ch{constructor(t){super(),this.elements=t}}function PI(e,t){let n=xI(t);for(const r of e.elements)n=n.filter(i=>!er(i,r));return{arrayValue:{values:n}}}class xc extends Ch{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function g1(e){return rt(e.integerValue||e.doubleValue)}function xI(e){return Bg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function OM(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof il&&i instanceof il||r instanceof sl&&i instanceof sl?ro(r.elements,i.elements,er):r instanceof xc&&i instanceof xc?er(r.Ie,i.Ie):r instanceof Pc&&i instanceof Pc}(e.transform,t.transform)}class FM{constructor(t,n){this.version=t,this.transformResults=n}}class bn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new bn}static exists(t){return new bn(void 0,t)}static updateTime(t){return new bn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Mu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Rh{}function CI(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new qg(e.key,bn.none()):new Cl(e.key,e.data,bn.none());{const n=e.data,r=Ht.empty();let i=new Tt(_t.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new yi(e.key,r,new en(i.toArray()),bn.none())}}function jM(e,t,n){e instanceof Cl?function(i,s,o){const a=i.value.clone(),l=v1(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof yi?function(i,s,o){if(!Mu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=v1(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(RI(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function ya(e,t,n,r){return e instanceof Cl?function(s,o,a,l){if(!Mu(s.precondition,o))return a;const u=s.value.clone(),c=_1(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof yi?function(s,o,a,l){if(!Mu(s.precondition,o))return a;const u=_1(s.fieldTransforms,l,o),c=o.data;return c.setAll(RI(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(e,t,n,r):function(s,o,a){return Mu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function $M(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=II(r.transform,i||null);s!=null&&(n===null&&(n=Ht.empty()),n.set(r.field,s))}return n||null}function y1(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ro(r,i,(s,o)=>OM(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Cl extends Rh{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class yi extends Rh{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function RI(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function v1(e,t,n){const r=new Map;be(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,LM(o,a,n[i]))}return r}function _1(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,NM(s,o,t))}return r}class qg extends Rh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BM extends Rh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&jM(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=ya(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=ya(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=EI();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=CI(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),he())}isEqual(t){return this.batchId===t.batchId&&ro(this.mutations,t.mutations,(n,r)=>y1(n,r))&&ro(this.baseMutations,t.baseMutations,(n,r)=>y1(n,r))}}class Wg{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){be(t.mutations.length===r.length);let i=function(){return kM}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Wg(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt,me;function qM(e){switch(e){default:return ne();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0}}function kI(e){if(e===void 0)return vr("GRPC error has no .code"),C.UNKNOWN;switch(e){case tt.OK:return C.OK;case tt.CANCELLED:return C.CANCELLED;case tt.UNKNOWN:return C.UNKNOWN;case tt.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case tt.INTERNAL:return C.INTERNAL;case tt.UNAVAILABLE:return C.UNAVAILABLE;case tt.UNAUTHENTICATED:return C.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case tt.NOT_FOUND:return C.NOT_FOUND;case tt.ALREADY_EXISTS:return C.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return C.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case tt.ABORTED:return C.ABORTED;case tt.OUT_OF_RANGE:return C.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return C.UNIMPLEMENTED;case tt.DATA_LOSS:return C.DATA_LOSS;default:return ne()}}(me=tt||(tt={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=new qs([4294967295,4294967295],0);function w1(e){const t=WM().encode(e),n=new Yb;return n.update(t),new Uint8Array(n.digest())}function E1(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new qs([n,r],0),new qs([i,s],0)]}class Kg{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ea(`Invalid padding: ${n}`);if(r<0)throw new ea(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new ea(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new ea(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=qs.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(qs.fromNumber(r)));return i.compare(KM)===1&&(i=new qs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=w1(t),[r,i]=E1(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new Kg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=w1(t),[r,i]=E1(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class ea extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Rl.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new kh(se.min(),i,new Ue(we),_r(),he())}}class Rl{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Rl(r,n,he(),he(),he())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(t,n,r,i){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i}}class DI{constructor(t,n){this.targetId=t,this.fe=n}}class VI{constructor(t,n,r=bt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class T1{constructor(){this.ge=0,this.pe=I1(),this.ye=bt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=he(),n=he(),r=he();return this.pe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new Rl(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=I1()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class GM{constructor(t){this.Le=t,this.ke=new Map,this.qe=_r(),this.Qe=S1(),this.Ke=new Ue(we)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:ne()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Bp(s))if(r===0){const o=new K(s.path);this.We(n,o,Rt.newNoDocument(o,se.min()))}else be(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),l=a?this.et(a,t,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Qi(r).toUint8Array()}catch(l){if(l instanceof uI)return no("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Kg(o,i,s)}catch(l){return no(l instanceof ea?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(n,s,null),i++)}),i}it(t){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Bp(a.target)){const l=new K(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Rt.newNoDocument(l,t))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=he();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const i=new kh(t,n,this.Ke,this.qe,r);return this.qe=_r(),this.Qe=S1(),this.Ke=new Ue(we),i}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.st(t,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new T1,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new Tt(we),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||q("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new T1),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function S1(){return new Ue(K.comparator)}function I1(){return new Ue(K.comparator)}const QM=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),YM=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),XM=(()=>({and:"AND",or:"OR"}))();class JM{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function zp(e,t){return e.useProto3Json||Sh(t)?t:{value:t}}function Cc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function bI(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ZM(e,t){return Cc(e,t.toTimestamp())}function Xn(e){return be(!!e),se.fromTimestamp(function(n){const r=ai(n);return new ot(r.seconds,r.nanos)}(e))}function Gg(e,t){return function(r){return new xe(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function MI(e){const t=xe.fromString(e);return be(FI(t)),t}function Hp(e,t){return Gg(e.databaseId,t.path)}function Wd(e,t){const n=MI(t);if(n.get(1)!==e.databaseId.projectId)throw new O(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new O(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new K(NI(n))}function qp(e,t){return Gg(e.databaseId,t)}function eN(e){const t=MI(e);return t.length===4?xe.emptyPath():NI(t)}function Wp(e){return new xe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function NI(e){return be(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function A1(e,t,n){return{name:Hp(e,t),fields:n.value.mapValue.fields}}function tN(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ne()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(be(c===void 0||typeof c=="string"),bt.fromBase64String(c||"")):(be(c===void 0||c instanceof Uint8Array),bt.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(u){const c=u.code===void 0?C.UNKNOWN:kI(u.code);return new O(c,u.message||"")}(o);n=new VI(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Wd(e,r.document.name),s=Xn(r.document.updateTime),o=r.document.createTime?Xn(r.document.createTime):se.min(),a=new Ht({mapValue:{fields:r.document.fields}}),l=Rt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Nu(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Wd(e,r.document),s=r.readTime?Xn(r.readTime):se.min(),o=Rt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Nu([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Wd(e,r.document),s=r.removedTargetIds||[];n=new Nu([],s,i,null)}else{if(!("filter"in t))return ne();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new HM(i,s),a=r.targetId;n=new DI(a,o)}}return n}function nN(e,t){let n;if(t instanceof Cl)n={update:A1(e,t.key,t.value)};else if(t instanceof qg)n={delete:Hp(e,t.key)};else if(t instanceof yi)n={update:A1(e,t.key,t.data),updateMask:hN(t.fieldMask)};else{if(!(t instanceof BM))return ne();n={verify:Hp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Pc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof il)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof sl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof xc)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ne()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:ZM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ne()}(e,t.precondition)),n}function rN(e,t){return e&&e.length>0?(be(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?Xn(i.updateTime):Xn(s);return o.isEqual(se.min())&&(o=Xn(s)),new FM(o,i.transformResults||[])}(n,t))):[]}function iN(e,t){return{documents:[qp(e,t.path)]}}function sN(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=qp(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=qp(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return OI(Ln.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:ms(h.field),direction:lN(h.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=zp(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function oN(e){let t=eN(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){be(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(h){const d=LI(h);return d instanceof Ln&&fI(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(d=>function(g){return new rl(gs(g.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,Sh(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,f=h.values||[];return new oo(f,d)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const d=!h.before,f=h.values||[];return new oo(f,d)}(n.endAt)),AM(t,i,o,s,a,"F",l,u)}function aN(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function LI(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=gs(n.unaryFilter.field);return st.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=gs(n.unaryFilter.field);return st.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=gs(n.unaryFilter.field);return st.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=gs(n.unaryFilter.field);return st.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(e):e.fieldFilter!==void 0?function(n){return st.create(gs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Ln.create(n.compositeFilter.filters.map(r=>LI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne()}}(n.compositeFilter.op))}(e):ne()}function lN(e){return QM[e]}function uN(e){return YM[e]}function cN(e){return XM[e]}function ms(e){return{fieldPath:e.canonicalString()}}function gs(e){return _t.fromServerFormat(e.fieldPath)}function OI(e){return e instanceof st?function(n){if(n.op==="=="){if(h1(n.value))return{unaryFilter:{field:ms(n.field),op:"IS_NAN"}};if(c1(n.value))return{unaryFilter:{field:ms(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(h1(n.value))return{unaryFilter:{field:ms(n.field),op:"IS_NOT_NAN"}};if(c1(n.value))return{unaryFilter:{field:ms(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ms(n.field),op:uN(n.op),value:n.value}}}(e):e instanceof Ln?function(n){const r=n.getFilters().map(i=>OI(i));return r.length===1?r[0]:{compositeFilter:{op:cN(n.op),filters:r}}}(e):ne()}function hN(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function FI(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(t,n,r,i,s=se.min(),o=se.min(),a=bt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new $r(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(t){this.ut=t}}function fN(e){const t=oN({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ac(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.on=new mN}addToCollectionParentIndex(t,n){return this.on.add(n),D.resolve()}getCollectionParents(t,n){return D.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return D.resolve()}deleteFieldIndex(t,n){return D.resolve()}deleteAllFieldIndexes(t){return D.resolve()}createTargetIndexes(t,n){return D.resolve()}getDocumentsMatchingTarget(t,n){return D.resolve(null)}getIndexType(t,n){return D.resolve(0)}getFieldIndexes(t,n){return D.resolve([])}getNextCollectionGroupToUpdate(t){return D.resolve(null)}getMinOffset(t,n){return D.resolve(oi.min())}getMinOffsetFromCollectionGroup(t,n){return D.resolve(oi.min())}updateCollectionGroup(t,n,r){return D.resolve()}updateIndexEntries(t,n){return D.resolve()}}class mN{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Tt(xe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Tt(xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new ao(0)}static Nn(){return new ao(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(){this.changes=new To(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Rt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?D.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&ya(r.mutation,i,en.empty(),ot.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,he()).next(()=>r))}getLocalViewOfDocuments(t,n,r=he()){const i=Mi();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=Zo();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Mi();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,he()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=_r();const o=ga(),a=function(){return ga()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof yi)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),ya(c.mutation,u,c.mutation.getFieldMask(),ot.now())):o.set(u.key,en.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new yN(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const r=ga();let i=new Ue((o,a)=>o-a),s=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||en.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||he()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=EI();c.forEach(d=>{if(!s.has(d)){const f=CI(n.get(d),r.get(d));f!==null&&h.set(d,f),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,h))}return D.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return K.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Hg(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):D.resolve(Mi());let a=-1,l=s;return o.next(u=>D.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?D.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,he())).next(c=>({batchId:a,changes:wI(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new K(n)).next(r=>{let i=Zo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=Zo();return this.indexManager.getCollectionParents(t,s).next(a=>D.forEach(a,l=>{const u=function(h,d){return new os(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Rt.newInvalidDocument(c)))});let a=Zo();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&ya(c.mutation,u,en.empty(),ot.now()),xh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return D.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Xn(i.createTime)}}(n)),D.resolve()}getNamedQuery(t,n){return D.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(i){return{name:i.name,query:fN(i.bundledQuery),readTime:Xn(i.readTime)}}(n)),D.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.overlays=new Ue(K.comparator),this.lr=new Map}getOverlay(t,n){return D.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Mi();return D.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.lt(t,n,s)}),D.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),D.resolve()}getOverlaysForCollection(t,n,r){const i=Mi(),s=n.length+1,o=new K(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return D.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new Ue((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Mi(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Mi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return D.resolve(a)}lt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new zM(n,r));let s=this.lr.get(n);s===void 0&&(s=he(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(){this.hr=new Tt(ht.Pr),this.Ir=new Tt(ht.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const r=new ht(t,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.dr(new ht(t,n))}Ar(t,n){t.forEach(r=>this.removeReference(r,n))}Rr(t){const n=new K(new xe([])),r=new ht(n,t),i=new ht(n,t+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new K(new xe([])),r=new ht(n,t),i=new ht(n,t+1);let s=he();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new ht(t,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ht{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return K.comparator(t.key,n.key)||we(t.gr,n.gr)}static Tr(t,n){return we(t.gr,n.gr)||K.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Tt(ht.Pr)}checkEmpty(t){return D.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new UM(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new ht(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return D.resolve(o)}lookupMutationBatch(t,n){return D.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return D.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return D.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return D.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ht(n,0),i=new ht(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),D.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Tt(we);return n.forEach(i=>{const s=new ht(i,0),o=new ht(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),D.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;K.isDocumentKey(s)||(s=s.child(""));const o=new ht(new K(s),0);let a=new Tt(we);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),D.resolve(this.br(a))}br(t){const n=[];return t.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){be(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return D.forEach(n.mutations,i=>{const s=new ht(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.yr=r})}Fn(t){}containsKey(t,n){const r=new ht(n,0),i=this.yr.firstAfterOrEqual(r);return D.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,D.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(t){this.Cr=t,this.docs=function(){return new Ue(K.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return D.resolve(r?r.document.mutableCopy():Rt.newInvalidDocument(n))}getEntries(t,n){let r=_r();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Rt.newInvalidDocument(i))}),D.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=_r();const o=n.path,a=new K(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||lM(aM(c),r)<=0||(i.has(c.key)||xh(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return D.resolve(s)}getAllFromCollectionGroup(t,n,r,i){ne()}vr(t,n){return D.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new SN(this)}getSize(t){return D.resolve(this.size)}}class SN extends gN{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(t,i)):this._r.removeEntry(r)}),D.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(t){this.persistence=t,this.Fr=new To(n=>Ug(n),zg),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Qg,this.targetCount=0,this.Nr=ao.On()}forEachTarget(t,n){return this.Fr.forEach((r,i)=>n(i)),D.resolve()}getLastRemoteSnapshotVersion(t){return D.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return D.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),D.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),D.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new ao(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,D.resolve()}updateTargetData(t,n){return this.kn(n),D.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,D.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),D.waitFor(s).next(()=>i)}getTargetCount(t){return D.resolve(this.targetCount)}getTargetData(t,n){const r=this.Fr.get(n)||null;return D.resolve(r)}addMatchingKeys(t,n,r){return this.Or.Er(n,r),D.resolve()}removeMatchingKeys(t,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),D.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),D.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Or.mr(n);return D.resolve(r)}containsKey(t,n){return D.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(t,n){this.Br={},this.overlays={},this.Lr=new jg(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new IN(this),this.indexManager=new pN,this.remoteDocumentCache=function(i){return new TN(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new dN(n),this.Kr=new _N(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new wN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new EN(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,r){q("MemoryPersistence","Starting transaction:",t);const i=new PN(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(t,n){return D.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class PN extends cM{constructor(t){super(),this.currentSequenceNumber=t}}class Yg{constructor(t){this.persistence=t,this.Gr=new Qg,this.zr=null}static jr(t){return new Yg(t)}get Hr(){if(this.zr)return this.zr;throw ne()}addReference(t,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),D.resolve()}removeReference(t,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),D.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),D.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return D.forEach(this.Hr,r=>{const i=K.fromPath(r);return this.Jr(t,i).next(s=>{s||n.removeEntry(i,se.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return D.or([()=>D.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}static Qi(t,n){let r=he(),i=he();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Xg(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.zi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new xN;return this.Hi(t,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(t,n,o,a.size)})}).next(()=>s.result)}Ji(t,n,r,i){return r.documentReadCount<this.Ui?(Ho()<=ge.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",ps(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),D.resolve()):(Ho()<=ge.DEBUG&&q("QueryEngine","Query:",ps(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Ho()<=ge.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",ps(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Yn(n))):D.resolve())}zi(t,n){if(m1(n))return D.resolve(null);let r=Yn(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ac(n,null,"F"),r=Yn(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=he(...s);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(t,Ac(n,null,"F")):this.Xi(t,u,n,l)}))})))}ji(t,n,r,i){return m1(n)||i.isEqual(se.min())?D.resolve(null):this.Gi.getDocuments(t,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?D.resolve(null):(Ho()<=ge.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ps(n)),this.Xi(t,o,n,oM(i,-1)).next(a=>a))})}Yi(t,n){let r=new Tt(vI(t));return n.forEach((i,s)=>{xh(t,s)&&(r=r.add(s))}),r}Zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(t,n,r){return Ho()<=ge.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",ps(n)),this.Gi.getDocumentsMatchingQuery(t,n,oi.min(),r)}Xi(t,n,r,i){return this.Gi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(t,n,r,i){this.persistence=t,this.es=n,this.serializer=i,this.ts=new Ue(we),this.ns=new To(s=>Ug(s),zg),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new vN(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function kN(e,t,n,r){return new RN(e,t,n,r)}async function jI(e,t){const n=ae(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=he();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}function DN(e,t){const n=ae(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,d=h.keys();let f=D.resolve();return d.forEach(g=>{f=f.next(()=>c.getEntry(l,g)).next(v=>{const w=u.docVersions.get(g);be(w!==null),v.version.compareTo(w)<0&&(h.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),c.addEntry(v)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=he();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function $I(e){const t=ae(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function VN(e,t){const n=ae(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];t.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,h)));let f=d.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(h)!==null?f=f.withResumeToken(bt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(h,f),function(v,w,p){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:p.addedDocuments.size+p.modifiedDocuments.size+p.removedDocuments.size>0}(d,f,c)&&a.push(n.qr.updateTargetData(s,f))});let l=_r(),u=he();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(bN(s,o,t.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(se.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(h=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return D.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ts=i,s))}function bN(e,t,n){let r=he(),i=he();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=_r();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(se.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}function MN(e,t){const n=ae(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function NN(e,t){const n=ae(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,t).next(s=>s?(i=s,D.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new $r(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(t,r.targetId)),r})}async function Kp(e,t,n){const r=ae(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!xl(o))throw o;q("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function P1(e,t,n){const r=ae(e);let i=se.min(),s=he();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=ae(l),d=h.ns.get(c);return d!==void 0?D.resolve(h.ts.get(d)):h.qr.getTargetData(u,c)}(r,o,Yn(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,t,n?i:se.min(),n?s:he())).next(a=>(LN(r,xM(t),a),{documents:a,ls:s})))}function LN(e,t,n){let r=e.rs.get(t)||se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.rs.set(t,r)}class x1{constructor(){this.activeTargetIds=bM()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ON{constructor(){this.eo=new x1,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,r){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new x1,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du=null;function Kd(){return du===null?du=function(){return 268435456+Math.round(2147483648*Math.random())}():du++,"0x"+du.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt="WebChannelConnection";class BN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=Kd(),l=this.So(n,r);q("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,l,u,i).then(c=>(q("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw no("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Eo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=jN[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,r,i){const s=Kd();return new Promise((o,a)=>{const l=new Qb;l.setWithCredentials(!0),l.listenOnce(Wb.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case qd.NO_ERROR:const c=l.getResponseJson();q(Pt,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case qd.TIMEOUT:q(Pt,`RPC '${t}' ${s} timed out`),a(new O(C.DEADLINE_EXCEEDED,"Request time out"));break;case qd.HTTP_ERROR:const h=l.getStatus();if(q(Pt,`RPC '${t}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const g=function(w){const p=w.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(p)>=0?p:C.UNKNOWN}(f.status);a(new O(g,f.message))}else a(new O(C.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new O(C.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{q(Pt,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);q(Pt,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}vo(t,n,r){const i=Kd(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Hb(),a=qb(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new Gb({})),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");q(Pt,`Creating RPC '${t}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let d=!1,f=!1;const g=new $N({co:w=>{f?q(Pt,`Not sending because RPC '${t}' stream ${i} is closed:`,w):(d||(q(Pt,`Opening RPC '${t}' stream ${i} transport.`),h.open(),d=!0),q(Pt,`RPC '${t}' stream ${i} sending:`,w),h.send(w))},lo:()=>h.close()}),v=(w,p,m)=>{w.listen(p,_=>{try{m(_)}catch(y){setTimeout(()=>{throw y},0)}})};return v(h,uu.EventType.OPEN,()=>{f||q(Pt,`RPC '${t}' stream ${i} transport opened.`)}),v(h,uu.EventType.CLOSE,()=>{f||(f=!0,q(Pt,`RPC '${t}' stream ${i} transport closed`),g.Ro())}),v(h,uu.EventType.ERROR,w=>{f||(f=!0,no(Pt,`RPC '${t}' stream ${i} transport errored:`,w),g.Ro(new O(C.UNAVAILABLE,"The operation could not be completed")))}),v(h,uu.EventType.MESSAGE,w=>{var p;if(!f){const m=w.data[0];be(!!m);const _=m,y=_.error||((p=_[0])===null||p===void 0?void 0:p.error);if(y){q(Pt,`RPC '${t}' stream ${i} received error:`,y);const I=y.status;let R=function(N){const F=tt[N];if(F!==void 0)return kI(F)}(I),A=y.message;R===void 0&&(R=C.INTERNAL,A="Unknown error status: "+I+" with message "+y.message),f=!0,g.Ro(new O(R,A)),h.close()}else q(Pt,`RPC '${t}' stream ${i} received:`,m),g.Vo(m)}}),v(a,Kb.STAT_EVENT,w=>{w.stat===s1.PROXY?q(Pt,`RPC '${t}' stream ${i} detected buffering proxy`):w.stat===s1.NOPROXY&&q(Pt,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ao()},0),g}}function Gd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(e){return new JM(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(t,n,r=1e3,i=1.5,s=6e4){this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(t,n,r,i,s,o,a,l){this.si=t,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new BI(t,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(t,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,t!==4?this.zo.reset():n&&n.code===C.RESOURCE_EXHAUSTED?(vr(n.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===C.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Io(n)}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{t(()=>{const i=new O(C.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(t,n){const r=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(t){return q("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UN extends UI{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();const n=tN(this.serializer,t),r=function(s){if(!("targetChange"in s))return se.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?Xn(o.readTime):se.min()}(t);return this.listener.a_(n,r)}u_(t){const n={};n.database=Wp(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Bp(l)?{documents:iN(s,l)}:{query:sN(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=bI(s,o.resumeToken);const u=zp(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(se.min())>0){a.readTime=Cc(s,o.snapshotVersion.toTimestamp());const u=zp(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=aN(this.serializer,t);r&&(n.labels=r),this.e_(n)}c_(t){const n={};n.database=Wp(this.serializer),n.removeTarget=t,this.e_(n)}}class zN extends UI{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,n){return this.connection.vo("Write",t,n)}onMessage(t){if(be(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const n=rN(t.writeResults,t.commitTime),r=Xn(t.commitTime);return this.listener.I_(r,n)}return be(!t.writeResults||t.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=Wp(this.serializer),this.e_(t)}P_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>nN(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new O(C.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new O(C.UNKNOWN,i.toString())})}Co(t,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new O(C.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class qN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,t==="Online"&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(vr(n),this.f_=!1):q("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{as(this)&&(q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ae(l);u.C_.add(4),await kl(u),u.M_.set("Unknown"),u.C_.delete(4),await Vh(u)}(this))})}),this.M_=new qN(r,i)}}async function Vh(e){if(as(e))for(const t of e.v_)await t(!0)}async function kl(e){for(const t of e.v_)await t(!1)}function zI(e,t){const n=ae(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),ey(n)?Zg(n):So(n).Ho()&&Jg(n,t))}function HI(e,t){const n=ae(e),r=So(n);n.D_.delete(t),r.Ho()&&qI(n,t),n.D_.size===0&&(r.Ho()?r.Zo():as(n)&&n.M_.set("Unknown"))}function Jg(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(se.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}So(e).u_(t)}function qI(e,t){e.x_.Oe(t),So(e).c_(t)}function Zg(e){e.x_=new GM({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),So(e).start(),e.M_.g_()}function ey(e){return as(e)&&!So(e).jo()&&e.D_.size>0}function as(e){return ae(e).C_.size===0}function WI(e){e.x_=void 0}async function KN(e){e.D_.forEach((t,n)=>{Jg(e,t)})}async function GN(e,t){WI(e),ey(e)?(e.M_.w_(t),Zg(e)):e.M_.set("Unknown")}async function QN(e,t,n){if(e.M_.set("Online"),t instanceof VI&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(e,t)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Rc(e,r)}else if(t instanceof Nu?e.x_.$e(t):t instanceof DI?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(se.min()))try{const r=await $I(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.D_.get(u);c&&s.D_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.D_.get(l);if(!c)return;s.D_.set(l,c.withResumeToken(bt.EMPTY_BYTE_STRING,c.snapshotVersion)),qI(s,l);const h=new $r(c.target,l,u,c.sequenceNumber);Jg(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){q("RemoteStore","Failed to raise snapshot:",r),await Rc(e,r)}}async function Rc(e,t,n){if(!xl(t))throw t;e.C_.add(1),await kl(e),e.M_.set("Offline"),n||(n=()=>$I(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{q("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await Vh(e)})}function KI(e,t){return t().catch(n=>Rc(e,n,t))}async function bh(e){const t=ae(e),n=li(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;YN(t);)try{const i=await MN(t.localStore,r);if(i===null){t.b_.length===0&&n.Zo();break}r=i.batchId,XN(t,i)}catch(i){await Rc(t,i)}GI(t)&&QI(t)}function YN(e){return as(e)&&e.b_.length<10}function XN(e,t){e.b_.push(t);const n=li(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function GI(e){return as(e)&&!li(e).jo()&&e.b_.length>0}function QI(e){li(e).start()}async function JN(e){li(e).E_()}async function ZN(e){const t=li(e);for(const n of e.b_)t.P_(n.mutations)}async function eL(e,t,n){const r=e.b_.shift(),i=Wg.from(r,t,n);await KI(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await bh(e)}async function tL(e,t){t&&li(e).h_&&await async function(r,i){if(function(o){return qM(o)&&o!==C.ABORTED}(i.code)){const s=r.b_.shift();li(r).Yo(),await KI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await bh(r)}}(e,t),GI(e)&&QI(e)}async function R1(e,t){const n=ae(e);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");const r=as(n);n.C_.add(3),await kl(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await Vh(n)}async function nL(e,t){const n=ae(e);t?(n.C_.delete(2),await Vh(n)):t||(n.C_.add(2),await kl(n),n.M_.set("Unknown"))}function So(e){return e.O_||(e.O_=function(n,r,i){const s=ae(n);return s.A_(),new UN(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:KN.bind(null,e),Io:GN.bind(null,e),a_:QN.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),ey(e)?Zg(e):e.M_.set("Unknown")):(await e.O_.stop(),WI(e))})),e.O_}function li(e){return e.N_||(e.N_=function(n,r,i){const s=ae(n);return s.A_(),new zN(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:JN.bind(null,e),Io:tL.bind(null,e),T_:ZN.bind(null,e),I_:eL.bind(null,e)}),e.v_.push(async t=>{t?(e.N_.Yo(),await bh(e)):(await e.N_.stop(),e.b_.length>0&&(q("RemoteStore",`Stopping write stream with ${e.b_.length} pending writes`),e.b_=[]))})),e.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new ty(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new O(C.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ny(e,t){if(vr("AsyncQueue",`${t}: ${e}`),xl(e))return new O(C.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(t){this.comparator=t?(n,r)=>t(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=Zo(),this.sortedSet=new Ue(this.comparator)}static emptySet(t){return new Ks(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ks)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Ks;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.B_=new Ue(K.comparator)}track(t){const n=t.doc.key,r=this.B_.get(n);r?t.type!==0&&r.type===3?this.B_=this.B_.insert(n,t):t.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.B_=this.B_.remove(n):t.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):ne():this.B_=this.B_.insert(n,t)}L_(){const t=[];return this.B_.inorderTraversal((n,r)=>{t.push(r)}),t}}class lo{constructor(t,n,r,i,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new lo(t,n,Ks.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ph(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(){this.k_=void 0,this.listeners=[]}}class iL{constructor(){this.queries=new To(t=>yI(t),Ph),this.onlineState="Unknown",this.q_=new Set}}async function YI(e,t){const n=ae(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new rL),i)try{s.k_=await n.onListen(r)}catch(o){const a=ny(o,`Initialization of query '${ps(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&ry(n)}async function XI(e,t){const n=ae(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function sL(e,t){const n=ae(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&ry(n)}function oL(e,t,n){const r=ae(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function ry(e){e.q_.forEach(t=>{t.next()})}class JI{constructor(t,n,r){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new lo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}z_(t){if(t.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(t){t=lo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(t){this.key=t}}class eA{constructor(t){this.key=t}}class aL{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=he(),this.mutatedKeys=he(),this._a=vI(t),this.aa=new Ks(this._a)}get ua(){return this.ia}ca(t,n){const r=n?n.la:new k1,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,h)=>{const d=i.get(c),f=xh(this.query,h)?h:null,g=!!d&&this.mutatedKeys.has(d.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let w=!1;d&&f?d.data.isEqual(f.data)?g!==v&&(r.track({type:3,doc:f}),w=!0):this.ha(d,f)||(r.track({type:2,doc:f}),w=!0,(l&&this._a(f,l)>0||u&&this._a(f,u)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),w=!0):d&&!f&&(r.track({type:1,doc:d}),w=!0,(l||u)&&(a=!0)),w&&(f?(o=o.add(f),s=v?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const s=t.la.L_();s.sort((u,c)=>function(d,f){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return g(d)-g(f)}(u.type,c.type)||this._a(u.doc,c.doc)),this.Pa(r);const o=n?this.Ia():[],a=this.oa.size===0&&this.current?1:0,l=a!==this.sa;return this.sa=a,s.length!==0||l?{snapshot:new lo(this.query,t.aa,i,s,t.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new k1,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=he(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return t.forEach(r=>{this.oa.has(r)||n.push(new eA(r))}),this.oa.forEach(r=>{t.has(r)||n.push(new ZI(r))}),n}da(t){this.ia=t.ls,this.oa=he();const n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return lo.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class lL{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class uL{constructor(t){this.key=t,this.Ra=!1}}class cL{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new To(a=>yI(a),Ph),this.fa=new Map,this.ga=new Set,this.pa=new Ue(K.comparator),this.ya=new Map,this.wa=new Qg,this.Sa={},this.ba=new Map,this.Da=ao.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function hL(e,t){const n=EL(e);let r,i;const s=n.ma.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await NN(n.localStore,Yn(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await dL(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&zI(n.remoteStore,o)}return i}async function dL(e,t,n,r,i){e.va=(h,d,f)=>async function(v,w,p,m){let _=w.view.ca(p);_.Zi&&(_=await P1(v.localStore,w.query,!1).then(({documents:R})=>w.view.ca(R,_)));const y=m&&m.targetChanges.get(w.targetId),I=w.view.applyChanges(_,v.isPrimaryClient,y);return V1(v,w.targetId,I.Ta),I.snapshot}(e,h,d,f);const s=await P1(e.localStore,t,!0),o=new aL(t,s.ls),a=o.ca(s.documents),l=Rl.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(a,e.isPrimaryClient,l);V1(e,n,u.Ta);const c=new lL(t,n,o);return e.ma.set(t,c),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),u.snapshot}async function fL(e,t){const n=ae(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Ph(s,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Kp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),HI(n.remoteStore,r.targetId),Gp(n,r.targetId)}).catch(Pl)):(Gp(n,r.targetId),await Kp(n.localStore,r.targetId,!0))}async function pL(e,t,n){const r=TL(e);try{const i=await function(o,a){const l=ae(o),u=ot.now(),c=a.reduce((f,g)=>f.add(g.key),he());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=_r(),v=he();return l.ss.getEntries(f,c).next(w=>{g=w,g.forEach((p,m)=>{m.isValidDocument()||(v=v.add(p))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,g)).next(w=>{h=w;const p=[];for(const m of a){const _=$M(m,h.get(m.key).overlayedDocument);_!=null&&p.push(new yi(m.key,_,cI(_.value.mapValue),bn.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,p,a)}).next(w=>{d=w;const p=w.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(f,w.batchId,p)})}).then(()=>({batchId:d.batchId,changes:wI(h)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Sa[o.currentUser.toKey()];u||(u=new Ue(we)),u=u.insert(a,l),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,n),await Dl(r,i.changes),await bh(r.remoteStore)}catch(i){const s=ny(i,"Failed to persist write");n.reject(s)}}async function tA(e,t){const n=ae(e);try{const r=await VN(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?be(o.Ra):i.removedDocuments.size>0&&(be(o.Ra),o.Ra=!1))}),await Dl(n,r,t)}catch(r){await Pl(r)}}function D1(e,t,n){const r=ae(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ae(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const d of h.listeners)d.Q_(a)&&(u=!0)}),u&&ry(l)}(r.eventManager,t),i.length&&r.Va.a_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function mL(e,t,n){const r=ae(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),s=i&&i.key;if(s){let o=new Ue(K.comparator);o=o.insert(s,Rt.newNoDocument(s,se.min()));const a=he().add(s),l=new kh(se.min(),new Map,new Ue(we),o,a);await tA(r,l),r.pa=r.pa.remove(s),r.ya.delete(t),iy(r)}else await Kp(r.localStore,t,!1).then(()=>Gp(r,t,n)).catch(Pl)}async function gL(e,t){const n=ae(e),r=t.batch.batchId;try{const i=await DN(n.localStore,t);rA(n,r,null),nA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Dl(n,i)}catch(i){await Pl(i)}}async function yL(e,t,n){const r=ae(e);try{const i=await function(o,a){const l=ae(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(be(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);rA(r,t,n),nA(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Dl(r,i)}catch(i){await Pl(i)}}function nA(e,t){(e.ba.get(t)||[]).forEach(n=>{n.resolve()}),e.ba.delete(t)}function rA(e,t,n){const r=ae(e);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function Gp(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(r=>{e.wa.containsKey(r)||iA(e,r)})}function iA(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);n!==null&&(HI(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),iy(e))}function V1(e,t,n){for(const r of n)r instanceof ZI?(e.wa.addReference(r.key,t),vL(e,r)):r instanceof eA?(q("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||iA(e,r.key)):ne()}function vL(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(q("SyncEngine","New document in limbo: "+n),e.ga.add(r),iy(e))}function iy(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new K(xe.fromString(t)),r=e.Da.next();e.ya.set(r,new uL(n)),e.pa=e.pa.insert(n,r),zI(e.remoteStore,new $r(Yn(Ah(n.path)),r,"TargetPurposeLimboResolution",jg._e))}}async function Dl(e,t,n){const r=ae(e),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Xg.Qi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,u){const c=ae(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>D.forEach(u,d=>D.forEach(d.ki,f=>c.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>D.forEach(d.qi,f=>c.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!xl(h))throw h;q("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const f=c.ts.get(d),g=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(g);c.ts=c.ts.insert(d,v)}}}(r.localStore,s))}async function _L(e,t){const n=ae(e);if(!n.currentUser.isEqual(t)){q("SyncEngine","User change. New user:",t.toKey());const r=await jI(n.localStore,t);n.currentUser=t,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new O(C.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Dl(n,r._s)}}function wL(e,t){const n=ae(e),r=n.ya.get(t);if(r&&r.Ra)return he().add(r.key);{let i=he();const s=n.fa.get(t);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function EL(e){const t=ae(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=tA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mL.bind(null,t),t.Va.a_=sL.bind(null,t.eventManager),t.Va.Fa=oL.bind(null,t.eventManager),t}function TL(e){const t=ae(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=gL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yL.bind(null,t),t}class b1{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Dh(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return kN(this.persistence,new CN,t.initialUser,this.serializer)}createPersistence(t){return new AN(Yg.jr,this.serializer)}createSharedClientState(t){return new ON}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class SL{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>D1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_L.bind(null,this.syncEngine),await nL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new iL}()}createDatastore(t){const n=Dh(t.databaseInfo.databaseId),r=function(s){return new BN(s)}(t.databaseInfo);return function(s,o,a,l){return new HN(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new WN(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>D1(this.syncEngine,n,0),function(){return C1.D()?new C1:new FN}())}createSyncEngine(t,n){return function(i,s,o,a,l,u,c){const h=new cL(i,s,o,a,l,u);return c&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ae(n);q("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await kl(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):vr("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xt.UNAUTHENTICATED,this.clientId=aI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{q("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new O(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=ny(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Qd(e,t){e.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await jI(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function M1(e,t){e.asyncQueue.verifyOperationInProgress();const n=await PL(e);q("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>R1(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>R1(t.remoteStore,s)),e._onlineComponents=t}function AL(e){return e.name==="FirebaseError"?e.code===C.FAILED_PRECONDITION||e.code===C.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function PL(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Qd(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!AL(n))throw n;no("Error using user provided cache. Falling back to memory cache: "+n),await Qd(e,new b1)}}else q("FirestoreClient","Using default OfflineComponentProvider"),await Qd(e,new b1);return e._offlineComponents}async function oA(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),await M1(e,e._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),await M1(e,new SL))),e._onlineComponents}function xL(e){return oA(e).then(t=>t.syncEngine)}async function Qp(e){const t=await oA(e),n=t.eventManager;return n.onListen=hL.bind(null,t.syncEngine),n.onUnlisten=fL.bind(null,t.syncEngine),n}function CL(e,t,n={}){const r=new Jr;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new sA({next:d=>{o.enqueueAndForget(()=>XI(s,h));const f=d.docs.has(a);!f&&d.fromCache?u.reject(new O(C.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&l&&l.source==="server"?u.reject(new O(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new JI(Ah(a.path),c,{includeMetadataChanges:!0,J_:!0});return YI(s,h)}(await Qp(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(e,t,n){if(!n)throw new O(C.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function RL(e,t,n,r){if(t===!0&&r===!0)throw new O(C.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function L1(e){if(!K.isDocumentKey(e))throw new O(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function O1(e){if(K.isDocumentKey(e))throw new O(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Mh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":ne()}function Jn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new O(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mh(e);throw new O(C.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function kL(e,t){if(t<=0)throw new O(C.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new O(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new O(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}RL("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aA((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new O(C.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new O(C.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new O(C.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Nh{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new O(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new O(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F1(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Xb;switch(r.type){case"firstParty":return new tM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new O(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=N1.get(n);r&&(q("ComponentProvider","Removing Datastore"),N1.delete(n),r.terminate())}(this),Promise.resolve()}}function DL(e,t,n,r={}){var i;const s=(e=Jn(e,Nh))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=xt.MOCK_USER;else{a=CD(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new O(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new xt(u)}e._authCredentials=new Jb(new oI(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Sr(this.firestore,t,this._query)}}class Ft{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ft(this.firestore,t,this._key)}}class Zr extends Sr{constructor(t,n,r){super(t,n,Ah(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ft(this.firestore,null,new K(t))}withConverter(t){return new Zr(this.firestore,t,this._path)}}function fu(e,t,...n){if(e=sn(e),lA("collection","path",t),e instanceof Nh){const r=xe.fromString(t,...n);return O1(r),new Zr(e,null,r)}{if(!(e instanceof Ft||e instanceof Zr))throw new O(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(xe.fromString(t,...n));return O1(r),new Zr(e.firestore,null,r)}}function va(e,t,...n){if(e=sn(e),arguments.length===1&&(t=aI.newId()),lA("doc","path",t),e instanceof Nh){const r=xe.fromString(t,...n);return L1(r),new Ft(e,null,new K(r))}{if(!(e instanceof Ft||e instanceof Zr))throw new O(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(xe.fromString(t,...n));return L1(r),new Ft(e.firestore,e instanceof Zr?e.converter:null,new K(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new BI(this,"async_queue_retry"),this.iu=()=>{const n=Gd();n&&q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=Gd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=Gd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new Jr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!xl(t))throw t;q("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw vr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(t,n,r){this.su(),this.ru.indexOf(t)>-1&&(n=0);const i=ty.createAndSchedule(this,t,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&ne()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}function j1(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(e,["next","error","complete"])}class Xi extends Nh{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new VL}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||uA(this),this._firestoreClient.terminate()}}function bL(e,t){const n=typeof e=="object"?e:tS(),r=typeof e=="string"?e:t||"(default)",i=gl(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=PD("firestore");s&&DL(i,...s)}return i}function sy(e){return e._firestoreClient||uA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function uA(e){var t,n,r;const i=e._freezeSettings(),s=function(a,l,u,c){return new fM(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,aA(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new IL(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new uo(bt.fromBase64String(t))}catch(n){throw new O(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new uo(bt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new O(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new O(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new O(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return we(this._lat,t._lat)||we(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=/^__.*__$/;class NL{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new yi(t,this.data,this.fieldMask,n,this.fieldTransforms):new Cl(t,this.data,n,this.fieldTransforms)}}class cA{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new yi(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function hA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}class ly{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new ly(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Au(t),i}Ru(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return kc(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(t.length===0)throw this.mu("Document fields must not be empty");if(hA(this.Iu)&&ML.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class LL{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Dh(t)}pu(t,n,r,i=!1){return new ly({Iu:t,methodName:n,gu:r,path:_t.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oh(e){const t=e._freezeSettings(),n=Dh(e._databaseId);return new LL(e._databaseId,!!t.ignoreUndefinedProperties,n)}function OL(e,t,n,r,i,s={}){const o=e.pu(s.merge||s.mergeFields?2:0,t,n,i);uy("Data must be an object, but it was:",o,r);const a=fA(r,o);let l,u;if(s.merge)l=new en(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const d=Yp(t,h,n);if(!o.contains(d))throw new O(C.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);mA(c,d)||c.push(d)}l=new en(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new NL(new Ht(a),l,u)}class Fh extends oy{_toFieldTransform(t){if(t.Iu!==2)throw t.Iu===1?t.mu(`${this._methodName}() can only appear at the top level of your update data`):t.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Fh}}function FL(e,t,n,r){const i=e.pu(1,t,n);uy("Data must be an object, but it was:",i,r);const s=[],o=Ht.empty();ss(r,(l,u)=>{const c=cy(t,l,n);u=sn(u);const h=i.Ru(c);if(u instanceof Fh)s.push(c);else{const d=Vl(u,h);d!=null&&(s.push(c),o.set(c,d))}});const a=new en(s);return new cA(o,a,i.fieldTransforms)}function jL(e,t,n,r,i,s){const o=e.pu(1,t,n),a=[Yp(t,r,n)],l=[i];if(s.length%2!=0)throw new O(C.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(Yp(t,s[d])),l.push(s[d+1]);const u=[],c=Ht.empty();for(let d=a.length-1;d>=0;--d)if(!mA(u,a[d])){const f=a[d];let g=l[d];g=sn(g);const v=o.Ru(f);if(g instanceof Fh)u.push(f);else{const w=Vl(g,v);w!=null&&(u.push(f),c.set(f,w))}}const h=new en(u);return new cA(c,h,o.fieldTransforms)}function dA(e,t,n,r=!1){return Vl(n,e.pu(r?4:3,t))}function Vl(e,t){if(pA(e=sn(e)))return uy("Unsupported field value:",t,e),fA(e,t);if(e instanceof oy)return function(r,i){if(!hA(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&t.Iu!==4)throw t.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Vl(a,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return MM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ot.fromDate(r);return{timestampValue:Cc(i.serializer,s)}}if(r instanceof ot){const s=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cc(i.serializer,s)}}if(r instanceof ay)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof uo)return{bytesValue:bI(i.serializer,r._byteString)};if(r instanceof Ft){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Gg(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Mh(r)}`)}(e,t)}function fA(e,t){const n={};return lI(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ss(e,(r,i)=>{const s=Vl(i,t.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function pA(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ot||e instanceof ay||e instanceof uo||e instanceof Ft||e instanceof oy)}function uy(e,t,n){if(!pA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Mh(n);throw r==="an object"?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function Yp(e,t,n){if((t=sn(t))instanceof Lh)return t._internalPath;if(typeof t=="string")return cy(e,t);throw kc("Field path arguments must be of type string or ",e,!1,void 0,n)}const $L=new RegExp("[~\\*/\\[\\]]");function cy(e,t,n){if(t.search($L)>=0)throw kc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Lh(...t.split("."))._internalPath}catch{throw kc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function kc(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new O(C.INVALID_ARGUMENT,a+e+l)}function mA(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new BL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(dy("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BL extends hy{data(){return super.data()}}function dy(e,t){return typeof t=="string"?cy(e,t):t instanceof Lh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new O(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fy{}class jh extends fy{}function Yd(e,t,...n){let r=[];t instanceof fy&&r.push(t),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof my).length,a=s.filter(l=>l instanceof py).length;if(o>1||o>0&&a>0)throw new O(C.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class py extends jh{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new py(t,n,r)}_apply(t){const n=this._parse(t);return gA(t._query,n),new Sr(t.firestore,t.converter,Up(t._query,n))}_parse(t){const n=Oh(t.firestore);return function(s,o,a,l,u,c,h){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new O(C.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){U1(h,c);const f=[];for(const g of h)f.push(B1(l,s,g));d={arrayValue:{values:f}}}else d=B1(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||U1(h,c),d=dA(a,o,h,c==="in"||c==="not-in");return st.create(u,c,d)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class my extends fy{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new my(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ln.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)gA(o,l),o=Up(o,l)}(t._query,n),new Sr(t.firestore,t.converter,Up(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gy extends jh{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new gy(t,n)}_apply(t){const n=function(i,s,o){if(i.startAt!==null)throw new O(C.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new O(C.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rl(s,o)}(t._query,this._field,this._direction);return new Sr(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new os(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function Xd(e,t="asc"){const n=t,r=dy("orderBy",e);return gy._create(r,n)}class yy extends jh{constructor(t,n,r){super(),this.type=t,this._limit=n,this._limitType=r}static _create(t,n,r){return new yy(t,n,r)}_apply(t){return new Sr(t.firestore,t.converter,Ac(t._query,this._limit,this._limitType))}}function $1(e){return kL("limit",e),yy._create("limit",e,"F")}class vy extends jh{constructor(t,n,r){super(),this.type=t,this._docOrFields=n,this._inclusive=r}static _create(t,n,r){return new vy(t,n,r)}_apply(t){const n=HL(t,this.type,this._docOrFields,this._inclusive);return new Sr(t.firestore,t.converter,function(i,s){return new os(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(t._query,n))}}function zL(...e){return vy._create("startAfter",e,!1)}function HL(e,t,n,r){if(n[0]=sn(n[0]),n[0]instanceof hy)return function(s,o,a,l,u){if(!l)throw new O(C.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const h of Ws(s))if(h.field.isKeyField())c.push(Ic(o,l.key));else{const d=l.data.field(h.field);if(Ih(d))throw new O(C.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){const f=h.field.canonicalString();throw new O(C.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}c.push(d)}return new oo(c,u)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Oh(e.firestore);return function(o,a,l,u,c,h){const d=o.explicitOrderBy;if(c.length>d.length)throw new O(C.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let g=0;g<c.length;g++){const v=c[g];if(d[g].field.isKeyField()){if(typeof v!="string")throw new O(C.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof v}`);if(!Hg(o)&&v.indexOf("/")!==-1)throw new O(C.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${v}' contains a slash.`);const w=o.path.child(xe.fromString(v));if(!K.isDocumentKey(w))throw new O(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);const p=new K(w);f.push(Ic(a,p))}else{const w=dA(l,u,v);f.push(w)}}return new oo(f,h)}(e._query,e.firestore._databaseId,i,t,n,r)}}function B1(e,t,n){if(typeof(n=sn(n))=="string"){if(n==="")throw new O(C.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hg(t)&&n.indexOf("/")!==-1)throw new O(C.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(xe.fromString(n));if(!K.isDocumentKey(r))throw new O(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ic(e,new K(r))}if(n instanceof Ft)return Ic(e,n._key);throw new O(C.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mh(n)}.`)}function U1(e,t){if(!Array.isArray(e)||e.length===0)throw new O(C.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function gA(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new O(C.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new O(C.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class qL{convertValue(t,n="none"){switch(Yi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return rt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Qi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ne()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return ss(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new ay(rt(t.latitude),rt(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=$g(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(el(t));default:return null}}convertTimestamp(t){const n=ai(t);return new ot(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=xe.fromString(t);be(FI(r));const i=new tl(r.get(1),r.get(3)),s=new K(r.popFirst(5));return i.isEqual(n)||vr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class yA extends hy{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Lu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(dy("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Lu extends yA{data(t={}){return super.data(t)}}class KL{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new ta(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Lu(this._firestore,this._userDataWriter,r.key,r,new ta(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new O(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Lu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ta(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Lu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ta(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:GL(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function GL(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(e){e=Jn(e,Ft);const t=Jn(e.firestore,Xi);return CL(sy(t),e._key).then(n=>_A(t,e,n))}class vA extends qL{constructor(t){super(),this.firestore=t}convertBytes(t){return new uo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function z1(e,t,n,...r){e=Jn(e,Ft);const i=Jn(e.firestore,Xi),s=Oh(i);let o;return o=typeof(t=sn(t))=="string"||t instanceof Lh?jL(s,"updateDoc",e._key,t,n,r):FL(s,"updateDoc",e._key,t),_y(i,[o.toMutation(e._key,bn.exists(!0))])}function YL(e){return _y(Jn(e.firestore,Xi),[new qg(e._key,bn.none())])}function XL(e,t){const n=Jn(e.firestore,Xi),r=va(e),i=WL(e.converter,t);return _y(n,[OL(Oh(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,bn.exists(!1))]).then(()=>r)}function Jd(e,...t){var n,r,i;e=sn(e);let s={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||j1(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(j1(t[o])){const h=t[o];t[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),t[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),t[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(e instanceof Ft)u=Jn(e.firestore,Xi),c=Ah(e._key.path),l={next:h=>{t[o]&&t[o](_A(u,e,h))},error:t[o+1],complete:t[o+2]};else{const h=Jn(e,Sr);u=Jn(h.firestore,Xi),c=h._query;const d=new vA(u);l={next:f=>{t[o]&&t[o](new KL(u,d,h,f))},error:t[o+1],complete:t[o+2]},UL(e._query)}return function(d,f,g,v){const w=new sA(v),p=new JI(f,w,g);return d.asyncQueue.enqueueAndForget(async()=>YI(await Qp(d),p)),()=>{w.Na(),d.asyncQueue.enqueueAndForget(async()=>XI(await Qp(d),p))}}(sy(u),c,a,l)}function _y(e,t){return function(r,i){const s=new Jr;return r.asyncQueue.enqueueAndForget(async()=>pL(await xL(r),i,s)),s.promise}(sy(e),t)}function _A(e,t,n){const r=n.docs.get(t._key),i=new vA(e);return new yA(e,i,t._key,r,new ta(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){Eo=i})(MV),si(new gr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Xi(new Zb(r.getProvider("auth-internal")),new rM(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new O(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tl(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Qn(o1,"4.3.2",t),Qn(o1,"4.3.2","esm2017")})();var JL="firebase",ZL="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qn(JL,ZL,"app");const eO=(e,t)=>t.some(n=>e instanceof n);let H1,q1;function tO(){return H1||(H1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nO(){return q1||(q1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wA=new WeakMap,Xp=new WeakMap,EA=new WeakMap,Zd=new WeakMap,wy=new WeakMap;function rO(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(ei(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&wA.set(n,e)}).catch(()=>{}),wy.set(t,e),t}function iO(e){if(Xp.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Xp.set(e,t)}let Jp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Xp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||EA.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ei(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function sO(e){Jp=e(Jp)}function oO(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(ef(this),t,...n);return EA.set(r,t.sort?t.sort():[t]),ei(r)}:nO().includes(e)?function(...t){return e.apply(ef(this),t),ei(wA.get(this))}:function(...t){return ei(e.apply(ef(this),t))}}function aO(e){return typeof e=="function"?oO(e):(e instanceof IDBTransaction&&iO(e),eO(e,tO())?new Proxy(e,Jp):e)}function ei(e){if(e instanceof IDBRequest)return rO(e);if(Zd.has(e))return Zd.get(e);const t=aO(e);return t!==e&&(Zd.set(e,t),wy.set(t,e)),t}const ef=e=>wy.get(e);function lO(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=ei(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ei(o.result),l.oldVersion,l.newVersion,ei(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const uO=["get","getKey","getAll","getAllKeys","count"],cO=["put","add","delete","clear"],tf=new Map;function W1(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(tf.get(t))return tf.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=cO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return tf.set(t,s),s}sO(e=>({...e,get:(t,n,r)=>W1(t,n)||e.get(t,n,r),has:(t,n)=>!!W1(t,n)||e.has(t,n)}));const TA="@firebase/installations",Ey="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=1e4,IA=`w:${Ey}`,AA="FIS_v2",hO="https://firebaseinstallations.googleapis.com/v1",dO=60*60*1e3,fO="installations",pO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ji=new ah(fO,pO,mO);function PA(e){return e instanceof pi&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA({projectId:e}){return`${hO}/projects/${e}/installations`}function CA(e){return{token:e.token,requestStatus:2,expiresIn:yO(e.expiresIn),creationTime:Date.now()}}async function RA(e,t){const r=(await t.json()).error;return Ji.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function kA({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function gO(e,{refreshToken:t}){const n=kA(e);return n.append("Authorization",vO(t)),n}async function DA(e){const t=await e();return t.status>=500&&t.status<600?e():t}function yO(e){return Number(e.replace("s","000"))}function vO(e){return`${AA} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=xA(e),i=kA(e),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:AA,appId:e.appId,sdkVersion:IA},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await DA(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:CA(u.authToken)}}else throw await RA("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=/^[cdef][\w-]{21}$/,Zp="";function TO(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=SO(e);return EO.test(n)?n:Zp}catch{return Zp}}function SO(e){return wO(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=new Map;function MA(e,t){const n=$h(e);NA(n,t),IO(n,t)}function NA(e,t){const n=bA.get(e);if(n)for(const r of n)r(t)}function IO(e,t){const n=AO();n&&n.postMessage({key:e,fid:t}),PO()}let Ni=null;function AO(){return!Ni&&"BroadcastChannel"in self&&(Ni=new BroadcastChannel("[Firebase] FID Change"),Ni.onmessage=e=>{NA(e.data.key,e.data.fid)}),Ni}function PO(){bA.size===0&&Ni&&(Ni.close(),Ni=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO="firebase-installations-database",CO=1,Zi="firebase-installations-store";let nf=null;function Ty(){return nf||(nf=lO(xO,CO,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Zi)}}})),nf}async function Dc(e,t){const n=$h(e),i=(await Ty()).transaction(Zi,"readwrite"),s=i.objectStore(Zi),o=await s.get(n);return await s.put(t,n),await i.done,(!o||o.fid!==t.fid)&&MA(e,t.fid),t}async function LA(e){const t=$h(e),r=(await Ty()).transaction(Zi,"readwrite");await r.objectStore(Zi).delete(t),await r.done}async function Bh(e,t){const n=$h(e),i=(await Ty()).transaction(Zi,"readwrite"),s=i.objectStore(Zi),o=await s.get(n),a=t(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&MA(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sy(e){let t;const n=await Bh(e.appConfig,r=>{const i=RO(r),s=kO(e,i);return t=s.registrationPromise,s.installationEntry});return n.fid===Zp?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function RO(e){const t=e||{fid:TO(),registrationStatus:0};return OA(t)}function kO(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ji.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=DO(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:VO(e)}:{installationEntry:t}}async function DO(e,t){try{const n=await _O(e,t);return Dc(e.appConfig,n)}catch(n){throw PA(n)&&n.customData.serverCode===409?await LA(e.appConfig):await Dc(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function VO(e){let t=await K1(e.appConfig);for(;t.registrationStatus===1;)await VA(100),t=await K1(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Sy(e);return r||n}return t}function K1(e){return Bh(e,t=>{if(!t)throw Ji.create("installation-not-found");return OA(t)})}function OA(e){return bO(e)?{fid:e.fid,registrationStatus:0}:e}function bO(e){return e.registrationStatus===1&&e.registrationTime+SA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MO({appConfig:e,heartbeatServiceProvider:t},n){const r=NO(e,n),i=gO(e,n),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:IA,appId:e.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await DA(()=>fetch(r,a));if(l.ok){const u=await l.json();return CA(u)}else throw await RA("Generate Auth Token",l)}function NO(e,{fid:t}){return`${xA(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iy(e,t=!1){let n;const r=await Bh(e.appConfig,s=>{if(!FA(s))throw Ji.create("not-registered");const o=s.authToken;if(!t&&FO(o))return s;if(o.requestStatus===1)return n=LO(e,t),s;{if(!navigator.onLine)throw Ji.create("app-offline");const a=$O(s);return n=OO(e,a),a}});return n?await n:r.authToken}async function LO(e,t){let n=await G1(e.appConfig);for(;n.authToken.requestStatus===1;)await VA(100),n=await G1(e.appConfig);const r=n.authToken;return r.requestStatus===0?Iy(e,t):r}function G1(e){return Bh(e,t=>{if(!FA(t))throw Ji.create("not-registered");const n=t.authToken;return BO(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function OO(e,t){try{const n=await MO(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Dc(e.appConfig,r),n}catch(n){if(PA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await LA(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Dc(e.appConfig,r)}throw n}}function FA(e){return e!==void 0&&e.registrationStatus===2}function FO(e){return e.requestStatus===2&&!jO(e)}function jO(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+dO}function $O(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function BO(e){return e.requestStatus===1&&e.requestTime+SA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO(e){const t=e,{installationEntry:n,registrationPromise:r}=await Sy(t);return r?r.catch(console.error):Iy(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zO(e,t=!1){const n=e;return await HO(n),(await Iy(n,t)).token}async function HO(e){const{registrationPromise:t}=await Sy(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(e){if(!e||!e.options)throw rf("App Configuration");if(!e.name)throw rf("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw rf(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function rf(e){return Ji.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="installations",WO="installations-internal",KO=e=>{const t=e.getProvider("app").getImmediate(),n=qO(t),r=gl(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},GO=e=>{const t=e.getProvider("app").getImmediate(),n=gl(t,jA).getImmediate();return{getId:()=>UO(n),getToken:i=>zO(n,i)}};function QO(){si(new gr(jA,KO,"PUBLIC")),si(new gr(WO,GO,"PRIVATE"))}QO();Qn(TA,Ey);Qn(TA,Ey,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc="analytics",YO="firebase_id",XO="origin",JO=60*1e3,ZO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ay="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt=new pg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},nn=new ah("analytics","Analytics",e4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(e){if(!e.startsWith(Ay)){const t=nn.create("invalid-gtag-resource",{gtagURL:e});return Qt.warn(t.message),""}return e}function $A(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function n4(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function r4(e,t){const n=n4("firebase-js-sdk-policy",{createScriptURL:t4}),r=document.createElement("script"),i=`${Ay}?l=${e}&id=${t}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function i4(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function s4(e,t,n,r,i,s){const o=r[i];try{if(o)await t[o];else{const l=(await $A(n)).find(u=>u.measurementId===i);l&&await t[l.appId]}}catch(a){Qt.error(a)}e("config",i,s)}async function o4(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await $A(n);for(const l of o){const u=a.find(h=>h.measurementId===l),c=u&&t[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(s){Qt.error(s)}}function a4(e,t,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await o4(e,t,n,a,l)}else if(s==="config"){const[a,l]=o;await s4(e,t,n,r,a,l)}else if(s==="consent"){const[a]=o;e("consent","update",a)}else if(s==="get"){const[a,l,u]=o;e("get",a,l,u)}else if(s==="set"){const[a]=o;e("set",a)}else e(s,...o)}catch(a){Qt.error(a)}}return i}function l4(e,t,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=a4(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function u4(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Ay)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=30,h4=1e3;class d4{constructor(t={},n=h4){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const BA=new d4;function f4(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function p4(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:f4(r)},s=ZO.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((t=l.error)===null||t===void 0)&&t.message&&(a=l.error.message)}catch{}throw nn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function m4(e,t=BA,n){const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw nn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw nn.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new v4;return setTimeout(async()=>{a.abort()},n!==void 0?n:JO),UA({appId:r,apiKey:i,measurementId:s},o,a,t)}async function UA(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=BA){var s;const{appId:o,measurementId:a}=e;try{await g4(r,t)}catch(l){if(a)return Qt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await p4(e);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!y4(u)){if(i.deleteThrottleMetadata(o),a)return Qt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?F0(n,i.intervalMillis,c4):F0(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,h),Qt.debug(`Calling attemptFetch again in ${c} millis`),UA(e,h,r,i)}}function g4(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(nn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function y4(e){if(!(e instanceof pi)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class v4{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function _4(e,t,n,r,i){if(i&&i.global){e("event",n,r);return}else{const s=await t,o=Object.assign(Object.assign({},r),{send_to:s});e("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w4(){if(YT())try{await XT()}catch(e){return Qt.warn(nn.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Qt.warn(nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function E4(e,t,n,r,i,s,o){var a;const l=m4(e);l.then(f=>{n[f.measurementId]=f.appId,e.options.measurementId&&f.measurementId!==e.options.measurementId&&Qt.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Qt.error(f)),t.push(l);const u=w4().then(f=>{if(f)return r.getId()}),[c,h]=await Promise.all([l,u]);u4(s)||r4(s,c.measurementId),i("js",new Date);const d=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return d[XO]="firebase",d.update=!0,h!=null&&(d[YO]=h),i("config",c.measurementId,d),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(t){this.app=t}_delete(){return delete _a[this.app.options.appId],Promise.resolve()}}let _a={},Q1=[];const Y1={};let sf="dataLayer",S4="gtag",X1,zA,J1=!1;function I4(){const e=[];if(RD()&&e.push("This is a browser extension environment."),kD()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=nn.create("invalid-analytics-context",{errorInfo:t});Qt.warn(n.message)}}function A4(e,t,n){I4();const r=e.options.appId;if(!r)throw nn.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Qt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw nn.create("no-api-key");if(_a[r]!=null)throw nn.create("already-exists",{id:r});if(!J1){i4(sf);const{wrappedGtag:s,gtagCore:o}=l4(_a,Q1,Y1,sf,S4);zA=s,X1=o,J1=!0}return _a[r]=E4(e,Q1,Y1,t,X1,sf,n),new T4(e)}function P4(e=tS()){e=sn(e);const t=gl(e,Vc);return t.isInitialized()?t.getImmediate():x4(e)}function x4(e,t={}){const n=gl(e,Vc);if(n.isInitialized()){const i=n.getImmediate();if(pc(t,n.getOptions()))return i;throw nn.create("already-initialized")}return n.initialize({options:t})}function C4(e,t,n,r){e=sn(e),_4(zA,_a[e.app.options.appId],t,n,r).catch(i=>Qt.error(i))}const Z1="@firebase/analytics",e_="0.10.0";function R4(){si(new gr(Vc,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return A4(r,i,n)},"PUBLIC")),si(new gr("analytics-internal",e,"PRIVATE")),Qn(Z1,e_),Qn(Z1,e_,"esm2017");function e(t){try{const n=t.getProvider(Vc).getImmediate();return{logEvent:(r,i,s)=>C4(n,r,i,s)}}catch(n){throw nn.create("interop-component-reg-failed",{reason:n})}}}R4();const k4={apiKey:"AIzaSyACHxzWdgukPW7rolKPQclq9px0jILjFBs",authDomain:"films-26a95.firebaseapp.com",projectId:"films-26a95",storageBucket:"films-26a95.appspot.com",messagingSenderId:"147249427560",appId:"1:147249427560:web:7959102590efe25f31f7dd",measurementId:"G-QBEGWBR4ZQ"},HA=eS(k4);P4(HA);const kr=bL(HA);function D4(e,{insertAt:t}={}){if(!e||typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}D4(`html[dir=ltr],[data-sonner-toaster][dir=ltr]{--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}html[dir=rtl],[data-sonner-toaster][dir=rtl]{--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}[data-sonner-toaster][data-x-position=right]{right:max(var(--offset),env(safe-area-inset-right))}[data-sonner-toaster][data-x-position=left]{left:max(var(--offset),env(safe-area-inset-left))}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translate(-50%)}[data-sonner-toaster][data-y-position=top]{top:max(var(--offset),env(safe-area-inset-top))}[data-sonner-toaster][data-y-position=bottom]{bottom:max(var(--offset),env(safe-area-inset-bottom))}[data-sonner-toast]{--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;will-change:transform,opacity,height;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}[data-sonner-toast][data-y-position=top]{top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}[data-sonner-toast] [data-description]{font-weight:400;line-height:1.4;color:inherit}[data-sonner-toast] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast] [data-icon]>*{flex-shrink:0}[data-sonner-toast] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;transition:opacity .4s,box-shadow .2s}[data-sonner-toast] [data-button]:focus-visible{box-shadow:0 0 0 2px #0006}[data-sonner-toast] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toast][data-theme=dark] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;opacity:0;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]:focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}[data-sonner-toast] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast]:hover [data-close-button]{opacity:1}[data-sonner-toast]:focus [data-close-button]{opacity:1}[data-sonner-toast]:focus-within [data-close-button]{opacity:1}[data-sonner-toast]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]:before{content:"";position:absolute;left:0;right:0;height:100%}[data-sonner-toast][data-y-position=top][data-swiping=true]:before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]:before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]:before{content:"";position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast]:after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y: translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale: var(--toasts-before) * .05 + 1;--y: translateY( calc(var(--lift-amount) * var(--toasts-before)) ) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y: translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y: translateY( calc(var(--lift) * var(--offset) + var(--lift) * -100%) );opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]:before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - 32px)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true] [data-sonner-toast][data-type=success],[data-rich-colors=true] [data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true] [data-sonner-toast][data-type=info],[data-rich-colors=true] [data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true] [data-sonner-toast][data-type=warning],[data-rich-colors=true] [data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true] [data-sonner-toast][data-type=error],[data-rich-colors=true] [data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}
`);var V4=e=>{switch(e){case"success":return N4;case"info":return O4;case"warning":return L4;case"error":return F4;default:return null}},b4=Array(12).fill(0),M4=({visible:e})=>M.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},M.createElement("div",{className:"sonner-spinner"},b4.map((t,n)=>M.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),N4=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),L4=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),O4=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),F4=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),em=1,j4=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:em++,s=this.toasts.find(a=>a.id===i),o=e.dismissible===void 0?!0:e.dismissible;return s?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...e,id:i,title:n}),{...a,...e,id:i,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading}));let r=e instanceof Promise?e:e(),i=n!==void 0;return r.then(s=>{if(t.success!==void 0){i=!1;let o=typeof t.success=="function"?t.success(s):t.success;this.create({id:n,type:"success",message:o})}}).catch(s=>{if(t.error!==void 0){i=!1;let o=typeof t.error=="function"?t.error(s):t.error;this.create({id:n,type:"error",message:o})}}).finally(()=>{var s;i&&(this.dismiss(n),n=void 0),(s=t.finally)==null||s.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||em++;return this.publish({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},Pn=new j4,$4=(e,t)=>{let n=(t==null?void 0:t.id)||em++;return Pn.addToast({title:e,...t,id:n}),n},B4=$4,Mr=Object.assign(B4,{success:Pn.success,info:Pn.info,warning:Pn.warning,error:Pn.error,custom:Pn.custom,message:Pn.message,promise:Pn.promise,dismiss:Pn.dismiss,loading:Pn.loading}),U4=3,z4="32px",H4=4e3,q4=356,qA=14,W4=20,K4=200,G4=e=>{let{invert:t,toast:n,interacting:r,setHeights:i,visibleToasts:s,heights:o,index:a,toasts:l,expanded:u,removeToast:c,closeButton:h,style:d,className:f="",descriptionClassName:g="",duration:v,position:w,gap:p=qA,expandByDefault:m}=e,[_,y]=M.useState(!1),[I,R]=M.useState(!1),[A,x]=M.useState(!1),[N,F]=M.useState(!1),[ie,ve]=M.useState(0),[_e,Y]=M.useState(0),U=M.useRef(null),H=M.useRef(null),te=a===0,V=a+1<=s,$=n.type,W=n.dismissible!==!1,B=n.className||"",ce=n.descriptionClassName||"",Le=M.useMemo(()=>o.findIndex(le=>le.toastId===n.id)||0,[o,n.id]),ze=M.useMemo(()=>n.duration||v||H4,[n.duration,v]),Bt=M.useRef(0),He=M.useRef(0);M.useRef(ze);let cn=M.useRef(0),On=M.useRef(null),[Ie,hn]=w.split("-"),Xt=M.useMemo(()=>o.reduce((le,Me,qe)=>qe>=Le?le:le+Me.height,0),[o,Le]),cs=n.invert||t,Ut=$==="loading";He.current=M.useMemo(()=>Le*p+Xt,[Le,Xt]),M.useEffect(()=>{y(!0)},[]),M.useLayoutEffect(()=>{if(!_)return;let le=H.current,Me=le.style.height;le.style.height="auto";let qe=le.getBoundingClientRect().height;le.style.height=Me,Y(qe),i(dn=>dn.find(fn=>fn.toastId===n.id)?dn.map(fn=>fn.toastId===n.id?{...fn,height:qe}:fn):[{toastId:n.id,height:qe},...dn])},[_,n.title,n.description,i,n.id]);let Fn=M.useCallback(()=>{R(!0),ve(He.current),i(le=>le.filter(Me=>Me.toastId!==n.id)),setTimeout(()=>{c(n)},K4)},[n,c,i,He]);return M.useEffect(()=>{if(n.promise&&$==="loading"||n.duration===1/0)return;let le,Me=ze;return u||r?(()=>{if(cn.current<Bt.current){let qe=new Date().getTime()-Bt.current;Me=Me-qe}cn.current=new Date().getTime()})():(Bt.current=new Date().getTime(),le=setTimeout(()=>{var qe;(qe=n.onAutoClose)==null||qe.call(n,n),Fn()},Me)),()=>clearTimeout(le)},[u,r,m,n,ze,Fn,n.promise,$]),M.useEffect(()=>{let le=H.current;if(le){let Me=le.getBoundingClientRect().height;return Y(Me),i(qe=>[{toastId:n.id,height:Me},...qe]),()=>i(qe=>qe.filter(dn=>dn.toastId!==n.id))}},[i,n.id]),M.useEffect(()=>{n.delete&&Fn()},[Fn,n.delete]),M.createElement("li",{"aria-live":n.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:H,className:f+" "+B,"data-sonner-toast":"","data-styled":!(n.jsx||n.unstyled),"data-mounted":_,"data-promise":!!n.promise,"data-removed":I,"data-visible":V,"data-y-position":Ie,"data-x-position":hn,"data-index":a,"data-front":te,"data-swiping":A,"data-dismissible":W,"data-type":$,"data-invert":cs,"data-swipe-out":N,"data-expanded":!!(u||m&&_),style:{"--index":a,"--toasts-before":a,"--z-index":l.length-a,"--offset":`${I?ie:He.current}px`,"--initial-height":m?"auto":`${_e}px`,...d,...n.style},onPointerDown:le=>{Ut||!W||(U.current=new Date,ve(He.current),le.target.setPointerCapture(le.pointerId),le.target.tagName!=="BUTTON"&&(x(!0),On.current={x:le.clientX,y:le.clientY}))},onPointerUp:()=>{var le,Me,qe,dn;if(N||!W)return;On.current=null;let fn=Number(((le=H.current)==null?void 0:le.style.getPropertyValue("--swipe-amount").replace("px",""))||0),jn=new Date().getTime()-((Me=U.current)==null?void 0:Me.getTime()),Ol=Math.abs(fn)/jn;if(Math.abs(fn)>=W4||Ol>.11){ve(He.current),(qe=n.onDismiss)==null||qe.call(n,n),Fn(),F(!0);return}(dn=H.current)==null||dn.style.setProperty("--swipe-amount","0px"),x(!1)},onPointerMove:le=>{var Me;if(!On.current||!W)return;let qe=le.clientY-On.current.y,dn=le.clientX-On.current.x,fn=(Ie==="top"?Math.min:Math.max)(0,qe),jn=le.pointerType==="touch"?10:2;Math.abs(fn)>jn?(Me=H.current)==null||Me.style.setProperty("--swipe-amount",`${qe}px`):Math.abs(dn)>jn&&(On.current=null)}},h&&!n.jsx?M.createElement("button",{"aria-label":"Close toast","data-disabled":Ut,"data-close-button":!0,onClick:Ut||!W?()=>{}:()=>{var le;Fn(),(le=n.onDismiss)==null||le.call(n,n)}},M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},M.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),M.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,n.jsx||M.isValidElement(n.title)?n.jsx||n.title:M.createElement(M.Fragment,null,$||n.icon||n.promise?M.createElement("div",{"data-icon":""},(n.promise||n.type==="loading")&&!n.icon?M.createElement(M4,{visible:$==="loading"}):null,n.icon||V4($)):null,M.createElement("div",{"data-content":""},M.createElement("div",{"data-title":""},n.title),n.description?M.createElement("div",{"data-description":"",className:g+ce},n.description):null),n.cancel?M.createElement("button",{"data-button":!0,"data-cancel":!0,onClick:()=>{var le;W&&(Fn(),(le=n.cancel)!=null&&le.onClick&&n.cancel.onClick())}},n.cancel.label):null,n.action?M.createElement("button",{"data-button":"",onClick:le=>{var Me;(Me=n.action)==null||Me.onClick(le),!le.defaultPrevented&&Fn()}},n.action.label):null))};function t_(){if(typeof window>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var Q4=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:a,theme:l="light",richColors:u,duration:c,style:h,visibleToasts:d=U4,toastOptions:f,dir:g=t_(),gap:v}=e,[w,p]=M.useState([]),m=M.useMemo(()=>Array.from(new Set([n].concat(w.filter(H=>H.position).map(H=>H.position)))),[w,n]),[_,y]=M.useState([]),[I,R]=M.useState(!1),[A,x]=M.useState(!1),[N,F]=M.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ie=M.useRef(null),ve=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_e=M.useRef(null),Y=M.useRef(!1),U=M.useCallback(H=>p(te=>te.filter(({id:V})=>V!==H.id)),[]);return M.useEffect(()=>Pn.subscribe(H=>{if(H.dismiss){p(te=>te.map(V=>V.id===H.id?{...V,delete:!0}:V));return}setTimeout(()=>{XR.flushSync(()=>{p(te=>{let V=te.findIndex($=>$.id===H.id);return V!==-1?[...te.slice(0,V),{...te[V],...H},...te.slice(V+1)]:[H,...te]})})})}),[]),M.useEffect(()=>{if(l!=="system"){F(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:H})=>{F(H?"dark":"light")})},[l]),M.useEffect(()=>{w.length<=1&&R(!1)},[w]),M.useEffect(()=>{let H=te=>{var V,$;r.every(W=>te[W]||te.code===W)&&(R(!0),(V=ie.current)==null||V.focus()),te.code==="Escape"&&(document.activeElement===ie.current||($=ie.current)!=null&&$.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[r]),M.useEffect(()=>{if(ie.current)return()=>{_e.current&&(_e.current.focus({preventScroll:!0}),_e.current=null,Y.current=!1)}},[ie.current]),w.length?M.createElement("section",{"aria-label":`Notifications ${ve}`,tabIndex:-1},m.map((H,te)=>{var V;let[$,W]=H.split("-");return M.createElement("ol",{key:H,dir:g==="auto"?t_():g,tabIndex:-1,ref:ie,className:o,"data-sonner-toaster":!0,"data-theme":N,"data-rich-colors":u,"data-y-position":$,"data-x-position":W,style:{"--front-toast-height":`${(V=_[0])==null?void 0:V.height}px`,"--offset":typeof a=="number"?`${a}px`:a||z4,"--width":`${q4}px`,"--gap":`${qA}px`,...h},onBlur:B=>{Y.current&&!B.currentTarget.contains(B.relatedTarget)&&(Y.current=!1,_e.current&&(_e.current.focus({preventScroll:!0}),_e.current=null))},onFocus:B=>{B.target instanceof HTMLElement&&B.target.dataset.dismissible==="false"||Y.current||(Y.current=!0,_e.current=B.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{A||R(!1)},onPointerDown:B=>{B.target instanceof HTMLElement&&B.target.dataset.dismissible==="false"||x(!0)},onPointerUp:()=>x(!1)},w.filter(B=>!B.position&&te===0||B.position===H).map((B,ce)=>{var Le;return M.createElement(G4,{key:B.id,index:ce,toast:B,duration:(Le=f==null?void 0:f.duration)!=null?Le:c,className:f==null?void 0:f.className,descriptionClassName:f==null?void 0:f.descriptionClassName,invert:t,visibleToasts:d,closeButton:s,interacting:A,position:H,style:f==null?void 0:f.style,removeToast:U,toasts:w,heights:_,setHeights:y,expandByDefault:i,gap:v,expanded:I})}))})):null};const Ei="films",WA=(e,t,n)=>e.toLowerCase().trim().includes(n.toLowerCase().trim())||t.toLowerCase().trim().includes(n.toLowerCase().trim()),KA=E.createContext(),Ir=()=>{const e=E.useContext(KA);if(!e)throw new Error("useContext must be used within a FilmsProvider");return e};function Y4({children:e}){const[t,n]=E.useState([]),[r,i]=E.useState([]),[s,o]=E.useState(""),[a,l]=E.useState("created"),[u,c]=E.useState("asc"),[h,d]=E.useState(!0),[f,g]=E.useState(null),[v,w]=E.useState(!1),[p,m]=E.useState(""),[_,y]=E.useState(10),[I,R]=E.useState(0);E.useEffect(()=>{p.length>0?y(5e3):y(20)},[p]);const A=async Y=>{try{if(s==="")await XL(fu(kr,Ei),Y),Mr.success("Creado con exito!");else{const U=va(kr,Ei,s);await z1(U,Y),Mr.success("Editado con exito!"),o("")}}catch(U){Mr.error("Algo salio mal..."),console.log(U)}},x=()=>{const Y=Yd(fu(kr,Ei),Xd(a,u),$1(20),zL(f));Jd(Y,U=>{U.docs.length>0?(g(U.docs[U.docs.length-1]),n(t.concat(U.docs.map(H=>({...H.data(),id:H.id}))))):w(!1)})},N=()=>{const Y=Yd(fu(kr,Ei),Xd(a,u),$1(_));Jd(Y,U=>{U.docs.length>0?(g(U.docs[U.docs.length-1]),w(!0)):w(!1),d(!1);const H=[];U.forEach(te=>{H.push({...te.data(),id:te.id})}),n(H)})},F=()=>{const Y=Yd(fu(kr,Ei),Xd(a,u));Jd(Y,U=>{const H=[];U.forEach(te=>{H.push({...te.data(),id:te.id})}),i(H)})},ie=()=>{const Y=r.filter(te=>te.rating>0),H=Y.reduce((te,V)=>te+V.rating,0)/Y.length;if(!isNaN(H))if(H%1!==0){const te=H.toFixed(2);R(te)}else R(H)},ve=async Y=>{try{await YL(va(kr,Ei,Y)),Mr.success("Borrado con exito!")}catch(U){Mr.error("Algo salio mal..."),console.log(U)}},_e=async(Y,U)=>{try{const H=va(kr,Ei,Y);await z1(H,{rating:U})}catch(H){Mr.error("Algo salio mal..."),console.log(H)}};return E.useEffect(()=>{N(),F()},[a,u,_]),E.useEffect(()=>{ie()},[t]),S.jsx(KA.Provider,{value:{addOrEditFilm:A,onDeleteFilm:ve,setCurrentId:o,setSortBy:l,setDirection:c,getMoreFilms:x,setSearchText:m,updateRating:_e,currentId:s,films:t,direction:u,loader:h,moreFilms:v,searchText:p,getLengthFilms:r,average:I},children:e})}function X4(e){return S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 256 256",...e,children:S.jsx("path",{fill:"currentColor",d:"M216 48h-40v-8a24 24 0 0 0-24-24h-48a24 24 0 0 0-24 24v8H40a8 8 0 0 0 0 16h8v144a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16V64h8a8 8 0 0 0 0-16ZM96 40a8 8 0 0 1 8-8h48a8 8 0 0 1 8 8v8H96Zm96 168H64V64h128Zm-80-104v64a8 8 0 0 1-16 0v-64a8 8 0 0 1 16 0Zm48 0v64a8 8 0 0 1-16 0v-64a8 8 0 0 1 16 0Z"})})}function J4(e){return S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:S.jsx("path",{fill:"currentColor",d:"m19.3 8.925l-4.25-4.2l1.4-1.4q.575-.575 1.413-.575t1.412.575l1.4 1.4q.575.575.6 1.388t-.55 1.387L19.3 8.925ZM17.85 10.4L7.25 21H3v-4.25l10.6-10.6l4.25 4.25Z"})})}function Z4(e){return S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:S.jsx("path",{fill:"currentColor",d:"M21 7v12q0 .825-.588 1.413T19 21H5q-.825 0-1.413-.588T3 19V5q0-.825.588-1.413T5 3h12l4 4Zm-9 11q1.25 0 2.125-.875T15 15q0-1.25-.875-2.125T12 12q-1.25 0-2.125.875T9 15q0 1.25.875 2.125T12 18Zm-6-8h9V6H6v4Z"})})}function eF(e){return S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 36 36",...e,children:S.jsx("path",{fill:"#DD2E44",d:"M21.533 18.002L33.768 5.768a2.5 2.5 0 0 0-3.535-3.535L17.998 14.467L5.764 2.233a2.498 2.498 0 0 0-3.535 0a2.498 2.498 0 0 0 0 3.535l12.234 12.234L2.201 30.265a2.498 2.498 0 0 0 1.768 4.267c.64 0 1.28-.244 1.768-.732l12.262-12.263l12.234 12.234a2.493 2.493 0 0 0 1.768.732a2.5 2.5 0 0 0 1.768-4.267L21.533 18.002z"})})}function tF(e){return S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:S.jsx("path",{fill:"currentColor",d:"m5.825 22l1.625-7.025L2 10.25l7.2-.625L12 3l2.8 6.625l7.2.625l-5.45 4.725L18.175 22L12 18.275L5.825 22Z"})})}const nF=()=>{const{addOrEditFilm:e,currentId:t,setCurrentId:n}=Ir(),r={name:"",date:"",rating:0},[i,s]=E.useState(r),o=u=>{const{name:c,value:h}=u.target;s({...i,[c]:h,created:ot.now()})},a=u=>(u.preventDefault(),i.name===""?Mr.error("Falta ingresar el nombre"):i.date===""?Mr.error("Falta ingresar la fecha"):(e(i),s({...r}))),l=async u=>{const c=va(kr,"films",u),h=await QL(c);s({...h.data()})};return E.useEffect(()=>{t===""?s({...r}):l(t)},[t]),S.jsxs("form",{onSubmit:a,action:"",className:"form",children:[S.jsx("input",{type:"text",name:"name",placeholder:"Nombre",onChange:o,value:i.name,className:"input-form"}),S.jsx("input",{type:"number",name:"date",placeholder:"Fecha",onChange:o,value:i.date,className:"input-form"}),S.jsxs("div",{className:"form-buttons",children:[S.jsxs("button",{onClick:()=>e,children:[t?"Actualizar ":"Guardar "," ",S.jsx(Z4,{})]}),t&&S.jsx("button",{className:"cancel-button",onClick:()=>n(""),children:"Cancelar"})]})]})};const rF=({searchText:e,setSearchText:t})=>{const{films:n}=Ir(),[r,i]=E.useState(""),s=()=>{t(r)},o=e!==""?n.filter(({name:a,date:l})=>WA(a,l,e)).length:"";return S.jsxs("div",{children:[S.jsxs("div",{className:"container-search",children:[S.jsx("input",{id:"searchInput",placeholder:"Buscar pelicula...",type:"text",maxLength:70,onChange:a=>i(a.target.value),autoComplete:"off",className:"search"}),S.jsx("button",{onClick:s,children:S.jsx(rD,{size:20})})]}),S.jsx("p",{children:o!==0?S.jsxs("span",{children:[e!==""?"Resultados: ":"",o]}):S.jsxs("span",{children:['No se encontraron resultados con "',e,'"']})})]})},GA=E.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Uh=E.createContext({}),Py=E.createContext(null),zh=typeof document<"u",QA=zh?E.useLayoutEffect:E.useEffect,xy=E.createContext({strict:!1});function iF(e,t,n,r){const{visualElement:i}=E.useContext(Uh),s=E.useContext(xy),o=E.useContext(Py),a=E.useContext(GA).reducedMotion,l=E.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;E.useInsertionEffect(()=>{u&&u.update(n,o)});const c=E.useRef(!!window.HandoffAppearAnimations);return QA(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),E.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,c.current=!1)}),u}function Vs(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function sF(e,t,n){return E.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Vs(n)&&(n.current=r))},[t])}function ol(e){return typeof e=="string"||Array.isArray(e)}function Hh(e){return typeof e=="object"&&typeof e.start=="function"}const Cy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ry=["initial",...Cy];function qh(e){return Hh(e.animate)||Ry.some(t=>ol(e[t]))}function YA(e){return!!(qh(e)||e.variants)}function oF(e,t){if(qh(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ol(n)?n:void 0,animate:ol(r)?r:void 0}}return e.inherit!==!1?t:{}}function aF(e){const{initial:t,animate:n}=oF(e,E.useContext(Uh));return E.useMemo(()=>({initial:t,animate:n}),[n_(t),n_(n)])}function n_(e){return Array.isArray(e)?e.join(" "):e}const r_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},al={};for(const e in r_)al[e]={isEnabled:t=>r_[e].some(n=>!!t[n])};function tm(e){for(const t in e)al[t]={...al[t],...e[t]}}const bc=E.createContext({}),XA=E.createContext({}),JA=Symbol.for("motionComponentSymbol");function lF({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&tm(e);function s(a,l){let u;const c={...E.useContext(GA),...a,layoutId:uF(a)},{isStatic:h}=c,d=aF(a),f=r(a,h);if(!h&&zh){d.visualElement=iF(i,f,c,t);const g=E.useContext(XA),v=E.useContext(xy).strict;d.visualElement&&(u=d.visualElement.loadFeatures(c,v,e,g))}return E.createElement(Uh.Provider,{value:d},u&&d.visualElement?E.createElement(u,{visualElement:d.visualElement,...c}):null,n(i,a,sF(f,d.visualElement,l),f,h,d.visualElement))}const o=E.forwardRef(s);return o[JA]=i,o}function uF({layoutId:e}){const t=E.useContext(bc).id;return t&&e!==void 0?t+"-"+e:e}function cF(e){function t(r,i={}){return lF(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const hF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ky(e){return typeof e!="string"||e.includes("-")?!1:!!(hF.indexOf(e)>-1||/[A-Z]/.test(e))}const Mc={};function dF(e){Object.assign(Mc,e)}const bl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ls=new Set(bl);function ZA(e,{layout:t,layoutId:n}){return ls.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Mc[e]||e==="opacity")}const Yt=e=>!!(e&&e.getVelocity),fF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pF=bl.length;function mF(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<pF;o++){const a=bl[o];if(e[a]!==void 0){const l=fF[a]||a;s+=`${l}(${e[a]}) `}}return t&&!e.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(e,r?"":s):n&&r&&(s="none"),s}const eP=e=>t=>typeof t=="string"&&t.startsWith(e),tP=eP("--"),nm=eP("var(--"),gF=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,yF=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ui=(e,t,n)=>Math.min(Math.max(n,e),t),us={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},wa={...us,transform:e=>ui(0,1,e)},pu={...us,default:1},Ea=e=>Math.round(e*1e5)/1e5,Wh=/(-)?([\d]*\.?[\d])+/g,nP=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,vF=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ml(e){return typeof e=="string"}const Nl=e=>({test:t=>Ml(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Dr=Nl("deg"),Zn=Nl("%"),ee=Nl("px"),_F=Nl("vh"),wF=Nl("vw"),i_={...Zn,parse:e=>Zn.parse(e)/100,transform:e=>Zn.transform(e*100)},s_={...us,transform:Math.round},rP={borderWidth:ee,borderTopWidth:ee,borderRightWidth:ee,borderBottomWidth:ee,borderLeftWidth:ee,borderRadius:ee,radius:ee,borderTopLeftRadius:ee,borderTopRightRadius:ee,borderBottomRightRadius:ee,borderBottomLeftRadius:ee,width:ee,maxWidth:ee,height:ee,maxHeight:ee,size:ee,top:ee,right:ee,bottom:ee,left:ee,padding:ee,paddingTop:ee,paddingRight:ee,paddingBottom:ee,paddingLeft:ee,margin:ee,marginTop:ee,marginRight:ee,marginBottom:ee,marginLeft:ee,rotate:Dr,rotateX:Dr,rotateY:Dr,rotateZ:Dr,scale:pu,scaleX:pu,scaleY:pu,scaleZ:pu,skew:Dr,skewX:Dr,skewY:Dr,distance:ee,translateX:ee,translateY:ee,translateZ:ee,x:ee,y:ee,z:ee,perspective:ee,transformPerspective:ee,opacity:wa,originX:i_,originY:i_,originZ:ee,zIndex:s_,fillOpacity:wa,strokeOpacity:wa,numOctaves:s_};function Dy(e,t,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=e;let l=!1,u=!1,c=!0;for(const h in t){const d=t[h];if(tP(h)){s[h]=d;continue}const f=rP[h],g=yF(d,f);if(ls.has(h)){if(l=!0,o[h]=g,!c)continue;d!==(f.default||0)&&(c=!1)}else h.startsWith("origin")?(u=!0,a[h]=g):i[h]=g}if(t.transform||(l||r?i.transform=mF(e.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:d="50%",originZ:f=0}=a;i.transformOrigin=`${h} ${d} ${f}`}}const Vy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function iP(e,t,n){for(const r in t)!Yt(t[r])&&!ZA(r,n)&&(e[r]=t[r])}function EF({transformTemplate:e},t,n){return E.useMemo(()=>{const r=Vy();return Dy(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function TF(e,t,n){const r=e.style||{},i={};return iP(i,r,e),Object.assign(i,EF(e,t,n)),e.transformValues?e.transformValues(i):i}function SF(e,t,n){const r={},i=TF(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const IF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Nc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||IF.has(e)}let sP=e=>!Nc(e);function AF(e){e&&(sP=t=>t.startsWith("on")?!Nc(t):e(t))}try{AF(require("@emotion/is-prop-valid").default)}catch{}function PF(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(sP(i)||n===!0&&Nc(i)||!t&&!Nc(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function o_(e,t,n){return typeof e=="string"?e:ee.transform(t+n*e)}function xF(e,t,n){const r=o_(t,e.x,e.width),i=o_(n,e.y,e.height);return`${r} ${i}`}const CF={offset:"stroke-dashoffset",array:"stroke-dasharray"},RF={offset:"strokeDashoffset",array:"strokeDasharray"};function kF(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?CF:RF;e[s.offset]=ee.transform(-r);const o=ee.transform(t),a=ee.transform(n);e[s.array]=`${o} ${a}`}function by(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,h,d){if(Dy(e,u,c,d),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:g,dimensions:v}=e;f.transform&&(v&&(g.transform=f.transform),delete f.transform),v&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=xF(v,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&kF(f,o,a,l,!1)}const oP=()=>({...Vy(),attrs:{}}),My=e=>typeof e=="string"&&e.toLowerCase()==="svg";function DF(e,t,n,r){const i=E.useMemo(()=>{const s=oP();return by(s,t,{enableHardwareAcceleration:!1},My(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};iP(s,e.style,e),i.style={...s,...i.style}}return i}function VF(e=!1){return(n,r,i,{latestValues:s},o)=>{const l=(ky(n)?DF:SF)(r,s,o,n),c={...PF(r,typeof n=="string",e),...l,ref:i},{children:h}=r,d=E.useMemo(()=>Yt(h)?h.get():h,[h]);return E.createElement(n,{...c,children:d})}}const Ny=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function aP(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const lP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function uP(e,t,n,r){aP(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(lP.has(i)?i:Ny(i),t.attrs[i])}function Ly(e,t){const{style:n}=e,r={};for(const i in n)(Yt(n[i])||t.style&&Yt(t.style[i])||ZA(i,e))&&(r[i]=n[i]);return r}function cP(e,t){const n=Ly(e,t);for(const r in e)if(Yt(e[r])||Yt(t[r])){const i=bl.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function Oy(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function bF(e){const t=E.useRef(null);return t.current===null&&(t.current=e()),t.current}const Lc=e=>Array.isArray(e),MF=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),NF=e=>Lc(e)?e[e.length-1]||0:e;function Ou(e){const t=Yt(e)?e.get():e;return MF(t)?t.toValue():t}function LF({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,s){const o={latestValues:OF(r,i,s,e),renderState:t()};return n&&(o.mount=a=>n(r,a,o)),o}const hP=e=>(t,n)=>{const r=E.useContext(Uh),i=E.useContext(Py),s=()=>LF(e,t,r,i);return n?s():bF(s)};function OF(e,t,n,r){const i={},s=r(e,{});for(const d in s)i[d]=Ou(s[d]);let{initial:o,animate:a}=e;const l=qh(e),u=YA(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const h=c?a:o;return h&&typeof h!="boolean"&&!Hh(h)&&(Array.isArray(h)?h:[h]).forEach(f=>{const g=Oy(e,f);if(!g)return;const{transitionEnd:v,transition:w,...p}=g;for(const m in p){let _=p[m];if(Array.isArray(_)){const y=c?_.length-1:0;_=_[y]}_!==null&&(i[m]=_)}for(const m in v)i[m]=v[m]}),i}const Ge=e=>e;class a_{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function FF(e){let t=new a_,n=new a_,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const h=c&&i,d=h?t:n;return u&&o.add(l),d.add(l)&&h&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const c=t.order[u];c(l),o.has(c)&&(a.schedule(c),e())}i=!1,s&&(s=!1,a.process(l))}};return a}const mu=["prepare","read","update","preRender","render","postRender"],jF=40;function $F(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=mu.reduce((h,d)=>(h[d]=FF(()=>n=!0),h),{}),o=h=>s[h].process(i),a=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,jF),1),i.timestamp=h,i.isProcessing=!0,mu.forEach(o),i.isProcessing=!1,n&&t&&(r=!1,e(a))},l=()=>{n=!0,r=!0,i.isProcessing||e(a)};return{schedule:mu.reduce((h,d)=>{const f=s[d];return h[d]=(g,v=!1,w=!1)=>(n||l(),f.schedule(g,v,w)),h},{}),cancel:h=>mu.forEach(d=>s[d].cancel(h)),state:i,steps:s}}const{schedule:Re,cancel:wr,state:ct,steps:of}=$F(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ge,!0),BF={useVisualState:hP({scrapeMotionValuesFromProps:cP,createRenderState:oP,onMount:(e,t,{renderState:n,latestValues:r})=>{Re.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Re.render(()=>{by(n,r,{enableHardwareAcceleration:!1},My(t.tagName),e.transformTemplate),uP(t,n)})}})},UF={useVisualState:hP({scrapeMotionValuesFromProps:Ly,createRenderState:Vy})};function zF(e,{forwardMotionProps:t=!1},n,r){return{...ky(e)?BF:UF,preloadedFeatures:n,useRender:VF(t),createVisualElement:r,Component:e}}function ar(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const dP=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Kh(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const HF=e=>t=>dP(t)&&e(t,Kh(t));function cr(e,t,n,r){return ar(e,t,HF(n),r)}const qF=(e,t)=>n=>t(e(n)),ti=(...e)=>e.reduce(qF);function fP(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const l_=fP("dragHorizontal"),u_=fP("dragVertical");function pP(e){let t=!1;if(e==="y")t=u_();else if(e==="x")t=l_();else{const n=l_(),r=u_();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function mP(){const e=pP(!0);return e?(e(),!1):!0}class vi{constructor(t){this.isMounted=!1,this.node=t}update(){}}function c_(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||mP())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&Re.update(()=>a[r](s,o))};return cr(e.current,n,i,{passive:!e.getProps()[r]})}class WF extends vi{mount(){this.unmount=ti(c_(this.node,!0),c_(this.node,!1))}unmount(){}}class KF extends vi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ti(ar(this.node.current,"focus",()=>this.onFocus()),ar(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const gP=(e,t)=>t?e===t?!0:gP(e,t.parentElement):!1;function af(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Kh(n))}class GF extends vi{constructor(){super(...arguments),this.removeStartListeners=Ge,this.removeEndListeners=Ge,this.removeAccessibleListeners=Ge,this.startPointerPress=(t,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=cr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c}=this.node.getProps();Re.update(()=>{gP(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=cr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ti(s,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||af("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&Re.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=ar(this.node.current,"keyup",o),af("down",(a,l)=>{this.startPress(a,l)})},n=ar(this.node.current,"keydown",t),r=()=>{this.isPressing&&af("cancel",(s,o)=>this.cancelPress(s,o))},i=ar(this.node.current,"blur",r);this.removeAccessibleListeners=ti(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Re.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!mP()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Re.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=cr(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=ar(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ti(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const rm=new WeakMap,lf=new WeakMap,QF=e=>{const t=rm.get(e.target);t&&t(e)},YF=e=>{e.forEach(QF)};function XF({root:e,...t}){const n=e||document;lf.has(n)||lf.set(n,{});const r=lf.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(YF,{root:e,...t})),r[i]}function JF(e,t,n){const r=XF(t);return rm.set(e,n),r.observe(e),()=>{rm.delete(e),r.unobserve(e)}}const ZF={some:0,all:1};class e5 extends vi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:ZF[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),d=u?c:h;d&&d(l)};return JF(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(t5(t,n))&&this.startObserver()}unmount(){}}function t5({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const n5={inView:{Feature:e5},tap:{Feature:GF},focus:{Feature:KF},hover:{Feature:WF}};function yP(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function r5(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function i5(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Gh(e,t,n){const r=e.getProps();return Oy(r,t,n!==void 0?n:r.custom,r5(e),i5(e))}const s5="framerAppearId",o5="data-"+Ny(s5);let a5=Ge,Fy=Ge;const ni=e=>e*1e3,hr=e=>e/1e3,l5={current:!1},vP=e=>Array.isArray(e)&&typeof e[0]=="number";function _P(e){return!!(!e||typeof e=="string"&&wP[e]||vP(e)||Array.isArray(e)&&e.every(_P))}const na=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,wP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:na([0,.65,.55,1]),circOut:na([.55,0,1,.45]),backIn:na([.31,.01,.66,-.59]),backOut:na([.33,1.53,.69,.99])};function EP(e){if(e)return vP(e)?na(e):Array.isArray(e)?e.map(EP):wP[e]}function u5(e,t,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=EP(a);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function c5(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const TP=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,h5=1e-7,d5=12;function f5(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=TP(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>h5&&++a<d5);return o}function Ll(e,t,n,r){if(e===t&&n===r)return Ge;const i=s=>f5(s,0,1,e,n);return s=>s===0||s===1?s:TP(i(s),t,r)}const p5=Ll(.42,0,1,1),m5=Ll(0,0,.58,1),SP=Ll(.42,0,.58,1),g5=e=>Array.isArray(e)&&typeof e[0]!="number",IP=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,AP=e=>t=>1-e(1-t),PP=e=>1-Math.sin(Math.acos(e)),jy=AP(PP),y5=IP(jy),xP=Ll(.33,1.53,.69,.99),$y=AP(xP),v5=IP($y),_5=e=>(e*=2)<1?.5*$y(e):.5*(2-Math.pow(2,-10*(e-1))),w5={linear:Ge,easeIn:p5,easeInOut:SP,easeOut:m5,circIn:PP,circInOut:y5,circOut:jy,backIn:$y,backInOut:v5,backOut:xP,anticipate:_5},h_=e=>{if(Array.isArray(e)){Fy(e.length===4);const[t,n,r,i]=e;return Ll(t,n,r,i)}else if(typeof e=="string")return w5[e];return e},By=(e,t)=>n=>!!(Ml(n)&&vF.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),CP=(e,t,n)=>r=>{if(!Ml(r))return r;const[i,s,o,a]=r.match(Wh);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},E5=e=>ui(0,255,e),uf={...us,transform:e=>Math.round(E5(e))},Li={test:By("rgb","red"),parse:CP("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+uf.transform(e)+", "+uf.transform(t)+", "+uf.transform(n)+", "+Ea(wa.transform(r))+")"};function T5(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const im={test:By("#"),parse:T5,transform:Li.transform},bs={test:By("hsl","hue"),parse:CP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Zn.transform(Ea(t))+", "+Zn.transform(Ea(n))+", "+Ea(wa.transform(r))+")"},Mt={test:e=>Li.test(e)||im.test(e)||bs.test(e),parse:e=>Li.test(e)?Li.parse(e):bs.test(e)?bs.parse(e):im.parse(e),transform:e=>Ml(e)?e:e.hasOwnProperty("red")?Li.transform(e):bs.transform(e)},je=(e,t,n)=>-n*e+n*t+e;function cf(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function S5({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=cf(l,a,e+1/3),s=cf(l,a,e),o=cf(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const hf=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},I5=[im,Li,bs],A5=e=>I5.find(t=>t.test(e));function d_(e){const t=A5(e);let n=t.parse(e);return t===bs&&(n=S5(n)),n}const RP=(e,t)=>{const n=d_(e),r=d_(t),i={...n};return s=>(i.red=hf(n.red,r.red,s),i.green=hf(n.green,r.green,s),i.blue=hf(n.blue,r.blue,s),i.alpha=je(n.alpha,r.alpha,s),Li.transform(i))};function P5(e){var t,n;return isNaN(e)&&Ml(e)&&(((t=e.match(Wh))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(nP))===null||n===void 0?void 0:n.length)||0)>0}const kP={regex:gF,countKey:"Vars",token:"${v}",parse:Ge},DP={regex:nP,countKey:"Colors",token:"${c}",parse:Mt.parse},VP={regex:Wh,countKey:"Numbers",token:"${n}",parse:us.parse};function df(e,{regex:t,countKey:n,token:r,parse:i}){const s=e.tokenised.match(t);s&&(e["num"+n]=s.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...s.map(i)))}function Oc(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&df(n,kP),df(n,DP),df(n,VP),n}function bP(e){return Oc(e).values}function MP(e){const{values:t,numColors:n,numVars:r,tokenised:i}=Oc(e),s=t.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(kP.token,o[l]):l<r+n?a=a.replace(DP.token,Mt.transform(o[l])):a=a.replace(VP.token,Ea(o[l]));return a}}const x5=e=>typeof e=="number"?0:e;function C5(e){const t=bP(e);return MP(e)(t.map(x5))}const ci={test:P5,parse:bP,createTransformer:MP,getAnimatableNone:C5},NP=(e,t)=>n=>`${n>0?t:e}`;function LP(e,t){return typeof e=="number"?n=>je(e,t,n):Mt.test(e)?RP(e,t):e.startsWith("var(")?NP(e,t):FP(e,t)}const OP=(e,t)=>{const n=[...e],r=n.length,i=e.map((s,o)=>LP(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},R5=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=LP(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},FP=(e,t)=>{const n=ci.createTransformer(t),r=Oc(e),i=Oc(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?ti(OP(r.values,i.values),n):NP(e,t)},ll=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},f_=(e,t)=>n=>je(e,t,n);function k5(e){return typeof e=="number"?f_:typeof e=="string"?Mt.test(e)?RP:FP:Array.isArray(e)?OP:typeof e=="object"?R5:f_}function D5(e,t,n){const r=[],i=n||k5(e[0]),s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Ge:t;a=ti(l,a)}r.push(a)}return r}function jP(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(Fy(s===t.length),s===1)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=D5(t,r,i),a=o.length,l=u=>{let c=0;if(a>1)for(;c<e.length-2&&!(u<e[c+1]);c++);const h=ll(e[c],e[c+1],u);return o[c](h)};return n?u=>l(ui(e[0],e[s-1],u)):l}function V5(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=ll(0,t,r);e.push(je(n,1,i))}}function b5(e){const t=[0];return V5(t,e.length-1),t}function M5(e,t){return e.map(n=>n*t)}function N5(e,t){return e.map(()=>t||SP).splice(0,e.length-1)}function Fc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=g5(r)?r.map(h_):h_(r),s={done:!1,value:t[0]},o=M5(n&&n.length===t.length?n:b5(t),e),a=jP(o,t,{ease:Array.isArray(i)?i:N5(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}function $P(e,t){return t?e*(1e3/t):0}const L5=5;function BP(e,t,n){const r=Math.max(t-L5,0);return $P(n-e(r),t-r)}const ff=.001,O5=.01,p_=10,F5=.05,j5=1;function $5({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,s;a5(e<=ni(p_));let o=1-t;o=ui(F5,j5,o),e=ui(O5,p_,hr(e)),o<1?(i=u=>{const c=u*o,h=c*e,d=c-n,f=sm(u,o),g=Math.exp(-h);return ff-d/f*g},s=u=>{const h=u*o*e,d=h*n+n,f=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-h),v=sm(Math.pow(u,2),o);return(-i(u)+ff>0?-1:1)*((d-f)*g)/v}):(i=u=>{const c=Math.exp(-u*e),h=(u-n)*e+1;return-ff+c*h},s=u=>{const c=Math.exp(-u*e),h=(n-u)*(e*e);return c*h});const a=5/e,l=U5(i,s,a);if(e=ni(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const B5=12;function U5(e,t,n){let r=n;for(let i=1;i<B5;i++)r=r-e(r)/t(r);return r}function sm(e,t){return e*Math.sqrt(1-t*t)}const z5=["duration","bounce"],H5=["stiffness","damping","mass"];function m_(e,t){return t.some(n=>e[n]!==void 0)}function q5(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!m_(e,H5)&&m_(e,z5)){const n=$5(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}function UP({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],s=e[e.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,velocity:c,duration:h,isResolvedFromDuration:d}=q5(r),f=c?-hr(c):0,g=l/(2*Math.sqrt(a*u)),v=s-i,w=hr(Math.sqrt(a/u)),p=Math.abs(v)<5;n||(n=p?.01:2),t||(t=p?.005:.5);let m;if(g<1){const _=sm(w,g);m=y=>{const I=Math.exp(-g*w*y);return s-I*((f+g*w*v)/_*Math.sin(_*y)+v*Math.cos(_*y))}}else if(g===1)m=_=>s-Math.exp(-w*_)*(v+(f+w*v)*_);else{const _=w*Math.sqrt(g*g-1);m=y=>{const I=Math.exp(-g*w*y),R=Math.min(_*y,300);return s-I*((f+g*w*v)*Math.sinh(R)+_*v*Math.cosh(R))/_}}return{calculatedDuration:d&&h||null,next:_=>{const y=m(_);if(d)o.done=_>=h;else{let I=f;_!==0&&(g<1?I=BP(m,_,y):I=0);const R=Math.abs(I)<=n,A=Math.abs(s-y)<=t;o.done=R&&A}return o.value=o.done?s:y,o}}}function g_({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=e[0],d={done:!1,value:h},f=x=>a!==void 0&&x<a||l!==void 0&&x>l,g=x=>a===void 0?l:l===void 0||Math.abs(a-x)<Math.abs(l-x)?a:l;let v=n*t;const w=h+v,p=o===void 0?w:o(w);p!==w&&(v=p-h);const m=x=>-v*Math.exp(-x/r),_=x=>p+m(x),y=x=>{const N=m(x),F=_(x);d.done=Math.abs(N)<=u,d.value=d.done?p:F};let I,R;const A=x=>{f(d.value)&&(I=x,R=UP({keyframes:[d.value,g(d.value)],velocity:BP(_,x,d.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return A(0),{calculatedDuration:null,next:x=>{let N=!1;return!R&&I===void 0&&(N=!0,y(x),A(x)),I!==void 0&&x>I?R.next(x-I):(!N&&y(x),d)}}}const W5=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Re.update(t,!0),stop:()=>wr(t),now:()=>ct.isProcessing?ct.timestamp:performance.now()}},y_=2e4;function v_(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<y_;)t+=n,r=e.next(t);return t>=y_?1/0:t}const K5={decay:g_,inertia:g_,tween:Fc,keyframes:Fc,spring:UP};function jc({autoplay:e=!0,delay:t=0,driver:n=W5,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:h,...d}){let f=1,g=!1,v,w;const p=()=>{w=new Promise(B=>{v=B})};p();let m;const _=K5[i]||Fc;let y;_!==Fc&&typeof r[0]!="number"&&(y=jP([0,100],r,{clamp:!1}),r=[0,100]);const I=_({...d,keyframes:r});let R;a==="mirror"&&(R=_({...d,keyframes:[...r].reverse(),velocity:-(d.velocity||0)}));let A="idle",x=null,N=null,F=null;I.calculatedDuration===null&&s&&(I.calculatedDuration=v_(I));const{calculatedDuration:ie}=I;let ve=1/0,_e=1/0;ie!==null&&(ve=ie+o,_e=ve*(s+1)-o);let Y=0;const U=B=>{if(N===null)return;f>0&&(N=Math.min(N,B)),f<0&&(N=Math.min(B-_e/f,N)),x!==null?Y=x:Y=Math.round(B-N)*f;const ce=Y-t*(f>=0?1:-1),Le=f>=0?ce<0:ce>_e;Y=Math.max(ce,0),A==="finished"&&x===null&&(Y=_e);let ze=Y,Bt=I;if(s){const Ie=Y/ve;let hn=Math.floor(Ie),Xt=Ie%1;!Xt&&Ie>=1&&(Xt=1),Xt===1&&hn--,hn=Math.min(hn,s+1);const cs=!!(hn%2);cs&&(a==="reverse"?(Xt=1-Xt,o&&(Xt-=o/ve)):a==="mirror"&&(Bt=R));let Ut=ui(0,1,Xt);Y>_e&&(Ut=a==="reverse"&&cs?1:0),ze=Ut*ve}const He=Le?{done:!1,value:r[0]}:Bt.next(ze);y&&(He.value=y(He.value));let{done:cn}=He;!Le&&ie!==null&&(cn=f>=0?Y>=_e:Y<=0);const On=x===null&&(A==="finished"||A==="running"&&cn);return h&&h(He.value),On&&V(),He},H=()=>{m&&m.stop(),m=void 0},te=()=>{A="idle",H(),v(),p(),N=F=null},V=()=>{A="finished",c&&c(),H(),v()},$=()=>{if(g)return;m||(m=n(U));const B=m.now();l&&l(),x!==null?N=B-x:(!N||A==="finished")&&(N=B),A==="finished"&&p(),F=N,x=null,A="running",m.start()};e&&$();const W={then(B,ce){return w.then(B,ce)},get time(){return hr(Y)},set time(B){B=ni(B),Y=B,x!==null||!m||f===0?x=B:N=m.now()-B/f},get duration(){const B=I.calculatedDuration===null?v_(I):I.calculatedDuration;return hr(B)},get speed(){return f},set speed(B){B===f||!m||(f=B,W.time=hr(Y))},get state(){return A},play:$,pause:()=>{A="paused",x=Y},stop:()=>{g=!0,A!=="idle"&&(A="idle",u&&u(),te())},cancel:()=>{F!==null&&U(F),te()},complete:()=>{A="finished"},sample:B=>(N=0,U(B))};return W}function G5(e){let t;return()=>(t===void 0&&(t=e()),t)}const Q5=G5(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Y5=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),gu=10,X5=2e4,J5=(e,t)=>t.type==="spring"||e==="backgroundColor"||!_P(t.ease);function Z5(e,t,{onUpdate:n,onComplete:r,...i}){if(!(Q5()&&Y5.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const u=()=>{l=new Promise(m=>{a=m})};u();let{keyframes:c,duration:h=300,ease:d,times:f}=i;if(J5(t,i)){const m=jc({...i,repeat:0,delay:0});let _={done:!1,value:c[0]};const y=[];let I=0;for(;!_.done&&I<X5;)_=m.sample(I),y.push(_.value),I+=gu;f=void 0,c=y,h=I-gu,d="linear"}const g=u5(e.owner.current,t,c,{...i,duration:h,ease:d,times:f});i.syncStart&&(g.startTime=ct.isProcessing?ct.timestamp:document.timeline?document.timeline.currentTime:performance.now());const v=()=>g.cancel(),w=()=>{Re.update(v),a(),u()};return g.onfinish=()=>{e.set(c5(c,i)),r&&r(),w()},{then(m,_){return l.then(m,_)},attachTimeline(m){return g.timeline=m,g.onfinish=null,Ge},get time(){return hr(g.currentTime||0)},set time(m){g.currentTime=ni(m)},get speed(){return g.playbackRate},set speed(m){g.playbackRate=m},get duration(){return hr(h)},play:()=>{o||(g.play(),wr(v))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:m}=g;if(m){const _=jc({...i,autoplay:!1});e.setWithVelocity(_.sample(m-gu).value,_.sample(m).value,gu)}w()},complete:()=>g.finish(),cancel:w}}function ej({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ge,pause:Ge,stop:Ge,then:s=>(s(),Promise.resolve()),cancel:Ge,complete:Ge});return t?jc({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const tj={type:"spring",stiffness:500,damping:25,restSpeed:10},nj=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),rj={type:"keyframes",duration:.8},ij={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sj=(e,{keyframes:t})=>t.length>2?rj:ls.has(e)?e.startsWith("scale")?nj(t[1]):tj:ij,om=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ci.test(t)||t==="0")&&!t.startsWith("url(")),oj=new Set(["brightness","contrast","saturate","opacity"]);function aj(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Wh)||[];if(!r)return e;const i=n.replace(r,"");let s=oj.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const lj=/([a-z-]*)\(.*?\)/g,am={...ci,getAnimatableNone:e=>{const t=e.match(lj);return t?t.map(aj).join(" "):e}},uj={...rP,color:Mt,backgroundColor:Mt,outlineColor:Mt,fill:Mt,stroke:Mt,borderColor:Mt,borderTopColor:Mt,borderRightColor:Mt,borderBottomColor:Mt,borderLeftColor:Mt,filter:am,WebkitFilter:am},Uy=e=>uj[e];function zP(e,t){let n=Uy(e);return n!==am&&(n=ci),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const HP=e=>/^0[^.\s]+$/.test(e);function cj(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||HP(e)}function hj(e,t,n,r){const i=om(t,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:e.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),cj(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const c=l[u];s[c]=zP(t,a)}return s}function dj({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function qP(e,t){return e[t]||e.default||e}const zy=(e,t,n,r={})=>i=>{const s=qP(r,e)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-ni(o);const l=hj(t,e,n,s),u=l[0],c=l[l.length-1],h=om(e,u),d=om(e,c);let f={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:g=>{t.set(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(dj(s)||(f={...f,...sj(e,f)}),f.duration&&(f.duration=ni(f.duration)),f.repeatDelay&&(f.repeatDelay=ni(f.repeatDelay)),!h||!d||l5.current||s.type===!1)return ej(f);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const g=Z5(t,e,f);if(g)return g}return jc(f)};function $c(e){return!!(Yt(e)&&e.add)}const WP=e=>/^\-?\d*\.?\d+$/.test(e);function Hy(e,t){e.indexOf(t)===-1&&e.push(t)}function qy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Wy{constructor(){this.subscriptions=[]}add(t){return Hy(this.subscriptions,t),()=>qy(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fj=e=>!isNaN(parseFloat(e));class pj{constructor(t,n={}){this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=ct;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Re.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Re.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=fj(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Wy);const r=this.events[t].add(n);return t==="change"?()=>{r(),Re.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?$P(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function co(e,t){return new pj(e,t)}const KP=e=>t=>t.test(e),mj={test:e=>e==="auto",parse:e=>e},GP=[us,ee,Zn,Dr,wF,_F,mj],qo=e=>GP.find(KP(e)),gj=[...GP,Mt,ci],yj=e=>gj.find(KP(e));function vj(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,co(n))}function _j(e,t){const n=Gh(e,t);let{transitionEnd:r={},transition:i={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=NF(s[o]);vj(e,o,a)}}function wj(e,t,n){var r,i;const s=Object.keys(t).filter(a=>!e.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=t[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),c!=null&&(typeof c=="string"&&(WP(c)||HP(c))?c=parseFloat(c):!yj(c)&&ci.test(u)&&(c=zP(l,u)),e.addValue(l,co(c,{owner:e})),n[l]===void 0&&(n[l]=c),c!==null&&e.setBaseTarget(l,c))}}function Ej(e,t){return t?(t[e]||t.default||t).from:void 0}function Tj(e,t,n){const r={};for(const i in e){const s=Ej(i,t);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function Sj({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function QP(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(s=r);const u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const h in a){const d=e.getValue(h),f=a[h];if(!d||f===void 0||c&&Sj(c,h))continue;const g={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!d.hasAnimated){const w=e.getProps()[o5];w&&(g.elapsed=window.HandoffAppearAnimations(w,h,d,Re),g.syncStart=!0)}d.start(zy(h,d,f,e.shouldReduceMotion&&ls.has(h)?{type:!1}:g));const v=d.animation;$c(l)&&(l.add(h),v.then(()=>l.remove(h))),u.push(v)}return o&&Promise.all(u).then(()=>{o&&_j(e,o)}),u}function lm(e,t,n={}){const r=Gh(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(QP(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:h}=i;return Ij(e,t,u+l,c,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function Ij(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(Aj).forEach((u,c)=>{u.notify("AnimationStart",t),o.push(lm(u,t,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function Aj(e,t){return e.sortNodePosition(t)}function Pj(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>lm(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=lm(e,t,n);else{const i=typeof t=="function"?Gh(e,t,n.custom):t;r=Promise.all(QP(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const xj=[...Cy].reverse(),Cj=Cy.length;function Rj(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Pj(e,n,r)))}function kj(e){let t=Rj(e);const n=Vj();let r=!0;const i=(l,u)=>{const c=Gh(e,u);if(c){const{transition:h,transitionEnd:d,...f}=c;l={...l,...f,...d}}return l};function s(l){t=l(e)}function o(l,u){const c=e.getProps(),h=e.getVariantContext(!0)||{},d=[],f=new Set;let g={},v=1/0;for(let p=0;p<Cj;p++){const m=xj[p],_=n[m],y=c[m]!==void 0?c[m]:h[m],I=ol(y),R=m===u?_.isActive:null;R===!1&&(v=p);let A=y===h[m]&&y!==c[m]&&I;if(A&&r&&e.manuallyAnimateOnMount&&(A=!1),_.protectedKeys={...g},!_.isActive&&R===null||!y&&!_.prevProp||Hh(y)||typeof y=="boolean")continue;const x=Dj(_.prevProp,y);let N=x||m===u&&_.isActive&&!A&&I||p>v&&I;const F=Array.isArray(y)?y:[y];let ie=F.reduce(i,{});R===!1&&(ie={});const{prevResolvedValues:ve={}}=_,_e={...ve,...ie},Y=U=>{N=!0,f.delete(U),_.needsAnimating[U]=!0};for(const U in _e){const H=ie[U],te=ve[U];g.hasOwnProperty(U)||(H!==te?Lc(H)&&Lc(te)?!yP(H,te)||x?Y(U):_.protectedKeys[U]=!0:H!==void 0?Y(U):f.add(U):H!==void 0&&f.has(U)?Y(U):_.protectedKeys[U]=!0)}_.prevProp=y,_.prevResolvedValues=ie,_.isActive&&(g={...g,...ie}),r&&e.blockInitialAnimation&&(N=!1),N&&!A&&d.push(...F.map(U=>({animation:U,options:{type:m,...l}})))}if(f.size){const p={};f.forEach(m=>{const _=e.getBaseTarget(m);_!==void 0&&(p[m]=_)}),d.push({animation:p})}let w=!!d.length;return r&&c.initial===!1&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(d):Promise.resolve()}function a(l,u,c){var h;if(n[l].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),n[l].isActive=u;const d=o(c,l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function Dj(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!yP(t,e):!1}function Ti(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Vj(){return{animate:Ti(!0),whileInView:Ti(),whileHover:Ti(),whileTap:Ti(),whileDrag:Ti(),whileFocus:Ti(),exit:Ti()}}class bj extends vi{constructor(t){super(t),t.animationState||(t.animationState=kj(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Hh(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Mj=0;class Nj extends vi{constructor(){super(...arguments),this.id=Mj++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Lj={animation:{Feature:bj},exit:{Feature:Nj}},__=(e,t)=>Math.abs(e-t);function Oj(e,t){const n=__(e.x,t.x),r=__(e.y,t.y);return Math.sqrt(n**2+r**2)}class YP{constructor(t,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=mf(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,h=Oj(u.offset,{x:0,y:0})>=3;if(!c&&!h)return;const{point:d}=u,{timestamp:f}=ct;this.history.push({...d,timestamp:f});const{onStart:g,onMove:v}=this.handlers;c||(g&&g(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,u)},this.handlePointerMove=(u,c)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=pf(c,this.transformPagePoint),Re.update(this.updatePoint,!0)},this.handlePointerUp=(u,c)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:d}=this.handlers,f=mf(u.type==="pointercancel"?this.lastMoveEventInfo:pf(c,this.transformPagePoint),this.history);this.startEvent&&h&&h(u,f),d&&d(u,f)},!dP(t))return;this.handlers=n,this.transformPagePoint=r;const i=Kh(t),s=pf(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=ct;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(t,mf(s,this.history)),this.removeListeners=ti(cr(window,"pointermove",this.handlePointerMove),cr(window,"pointerup",this.handlePointerUp),cr(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),wr(this.updatePoint)}}function pf(e,t){return t?{point:t(e.point)}:e}function w_(e,t){return{x:e.x-t.x,y:e.y-t.y}}function mf({point:e},t){return{point:e,delta:w_(e,XP(t)),offset:w_(e,Fj(t)),velocity:jj(t,.1)}}function Fj(e){return e[0]}function XP(e){return e[e.length-1]}function jj(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=XP(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>ni(t)));)n--;if(!r)return{x:0,y:0};const s=hr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function an(e){return e.max-e.min}function um(e,t=0,n=.01){return Math.abs(e-t)<=n}function E_(e,t,n,r=.5){e.origin=r,e.originPoint=je(t.min,t.max,e.origin),e.scale=an(n)/an(t),(um(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=je(n.min,n.max,e.origin)-e.originPoint,(um(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Ta(e,t,n,r){E_(e.x,t.x,n.x,r?r.originX:void 0),E_(e.y,t.y,n.y,r?r.originY:void 0)}function T_(e,t,n){e.min=n.min+t.min,e.max=e.min+an(t)}function $j(e,t,n){T_(e.x,t.x,n.x),T_(e.y,t.y,n.y)}function S_(e,t,n){e.min=t.min-n.min,e.max=e.min+an(t)}function Sa(e,t,n){S_(e.x,t.x,n.x),S_(e.y,t.y,n.y)}function Bj(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?je(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?je(n,e,r.max):Math.min(e,n)),e}function I_(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Uj(e,{top:t,left:n,bottom:r,right:i}){return{x:I_(e.x,n,i),y:I_(e.y,t,r)}}function A_(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function zj(e,t){return{x:A_(e.x,t.x),y:A_(e.y,t.y)}}function Hj(e,t){let n=.5;const r=an(e),i=an(t);return i>r?n=ll(t.min,t.max-r,e.min):r>i&&(n=ll(e.min,e.max-i,t.min)),ui(0,1,n)}function qj(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const cm=.35;function Wj(e=cm){return e===!1?e=0:e===!0&&(e=cm),{x:P_(e,"left","right"),y:P_(e,"top","bottom")}}function P_(e,t,n){return{min:x_(e,t),max:x_(e,n)}}function x_(e,t){return typeof e=="number"?e:e[t]||0}const C_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ms=()=>({x:C_(),y:C_()}),R_=()=>({min:0,max:0}),nt=()=>({x:R_(),y:R_()});function Un(e){return[e("x"),e("y")]}function JP({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Kj({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Gj(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function gf(e){return e===void 0||e===1}function hm({scale:e,scaleX:t,scaleY:n}){return!gf(e)||!gf(t)||!gf(n)}function Pi(e){return hm(e)||ZP(e)||e.z||e.rotate||e.rotateX||e.rotateY}function ZP(e){return k_(e.x)||k_(e.y)}function k_(e){return e&&e!=="0%"}function Bc(e,t,n){const r=e-n,i=t*r;return n+i}function D_(e,t,n,r,i){return i!==void 0&&(e=Bc(e,i,r)),Bc(e,n,r)+t}function dm(e,t=0,n=1,r,i){e.min=D_(e.min,t,n,r,i),e.max=D_(e.max,t,n,r,i)}function ex(e,{x:t,y:n}){dm(e.x,t.translate,t.scale,t.originPoint),dm(e.y,n.translate,n.scale,n.originPoint)}function Qj(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ns(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,ex(e,o)),r&&Pi(s.latestValues)&&Ns(e,s.latestValues))}t.x=V_(t.x),t.y=V_(t.y)}function V_(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Nr(e,t){e.min=e.min+t,e.max=e.max+t}function b_(e,t,[n,r,i]){const s=t[i]!==void 0?t[i]:.5,o=je(e.min,e.max,s);dm(e,t[n],t[r],o,t.scale)}const Yj=["x","scaleX","originX"],Xj=["y","scaleY","originY"];function Ns(e,t){b_(e.x,t,Yj),b_(e.y,t,Xj)}function tx(e,t){return JP(Gj(e.getBoundingClientRect(),t))}function Jj(e,t,n){const r=tx(e,n),{scroll:i}=t;return i&&(Nr(r.x,i.offset.x),Nr(r.y,i.offset.y)),r}const Zj=new WeakMap;class e3{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),n&&this.snapToCursor(Kh(l,"page").point)},s=(l,u)=>{const{drag:c,dragPropagation:h,onDragStart:d}=this.getProps();if(c&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=pP(c),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Un(g=>{let v=this.getAxisMotionValue(g).get()||0;if(Zn.test(v)){const{projection:w}=this.visualElement;if(w&&w.layout){const p=w.layout.layoutBox[g];p&&(v=an(p)*(parseFloat(v)/100))}}this.originPoint[g]=v}),d&&Re.update(()=>d(l,u),!1,!0);const{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:c,dragDirectionLock:h,onDirectionLock:d,onDrag:f}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:g}=u;if(h&&this.currentDirection===null){this.currentDirection=t3(g),this.currentDirection!==null&&d&&d(this.currentDirection);return}this.updateAxis("x",u.point,g),this.updateAxis("y",u.point,g),this.visualElement.render(),f&&f(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new YP(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Re.update(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!yu(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Bj(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;t&&Vs(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Uj(r.layoutBox,t):this.constraints=!1,this.elastic=Wj(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Un(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=qj(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Vs(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Jj(r,i.root,this.visualElement.getTransformPagePoint());let o=zj(i.layout.layoutBox,s);if(n){const a=n(Kj(o));this.hasMutatedConstraints=!!a,a&&(o=JP(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Un(c=>{if(!yu(c,n,this.currentDirection))return;let h=l&&l[c]||{};o&&(h={min:0,max:0});const d=i?200:1e6,f=i?40:1e7,g={type:"inertia",velocity:r?t[c]:0,bounceStiffness:d,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(zy(t,r,0,n))}stopAnimation(){Un(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Un(n=>{const{drag:r}=this.getProps();if(!yu(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-je(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Vs(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Un(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=Hj({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Un(o=>{if(!yu(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(je(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;Zj.set(this.visualElement,this);const t=this.visualElement.current,n=cr(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Vs(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=ar(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Un(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=cm,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function yu(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function t3(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class n3 extends vi{constructor(t){super(t),this.removeGroupControls=Ge,this.removeListeners=Ge,this.controls=new e3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ge}unmount(){this.removeGroupControls(),this.removeListeners()}}const M_=e=>(t,n)=>{e&&Re.update(()=>e(t,n))};class r3 extends vi{constructor(){super(...arguments),this.removePointerDownListener=Ge}onPointerDown(t){this.session=new YP(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:M_(t),onStart:M_(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Re.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=cr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function i3(){const e=E.useContext(Py);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=E.useId();return E.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const Fu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function N_(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Wo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ee.test(e))e=parseFloat(e);else return e;const n=N_(e,t.target.x),r=N_(e,t.target.y);return`${n}% ${r}%`}},s3={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=ci.parse(e);if(i.length>5)return r;const s=ci.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const u=je(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class o3 extends M.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;dF(a3),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Fu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Re.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function nx(e){const[t,n]=i3(),r=E.useContext(bc);return M.createElement(o3,{...e,layoutGroup:r,switchLayoutGroup:E.useContext(XA),isPresent:t,safeToRemove:n})}const a3={borderRadius:{...Wo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wo,borderTopRightRadius:Wo,borderBottomLeftRadius:Wo,borderBottomRightRadius:Wo,boxShadow:s3},rx=["TopLeft","TopRight","BottomLeft","BottomRight"],l3=rx.length,L_=e=>typeof e=="string"?parseFloat(e):e,O_=e=>typeof e=="number"||ee.test(e);function u3(e,t,n,r,i,s){i?(e.opacity=je(0,n.opacity!==void 0?n.opacity:1,c3(r)),e.opacityExit=je(t.opacity!==void 0?t.opacity:1,0,h3(r))):s&&(e.opacity=je(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<l3;o++){const a=`border${rx[o]}Radius`;let l=F_(t,a),u=F_(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||O_(l)===O_(u)?(e[a]=Math.max(je(L_(l),L_(u),r),0),(Zn.test(u)||Zn.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=je(t.rotate||0,n.rotate||0,r))}function F_(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const c3=ix(0,.5,jy),h3=ix(.5,.95,Ge);function ix(e,t,n){return r=>r<e?0:r>t?1:n(ll(e,t,r))}function j_(e,t){e.min=t.min,e.max=t.max}function mn(e,t){j_(e.x,t.x),j_(e.y,t.y)}function $_(e,t,n,r,i){return e-=t,e=Bc(e,1/n,r),i!==void 0&&(e=Bc(e,1/i,r)),e}function d3(e,t=0,n=1,r=.5,i,s=e,o=e){if(Zn.test(t)&&(t=parseFloat(t),t=je(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=je(s.min,s.max,r);e===s&&(a-=t),e.min=$_(e.min,t,n,a,i),e.max=$_(e.max,t,n,a,i)}function B_(e,t,[n,r,i],s,o){d3(e,t[n],t[r],t[i],t.scale,s,o)}const f3=["x","scaleX","originX"],p3=["y","scaleY","originY"];function U_(e,t,n,r){B_(e.x,t,f3,n?n.x:void 0,r?r.x:void 0),B_(e.y,t,p3,n?n.y:void 0,r?r.y:void 0)}function z_(e){return e.translate===0&&e.scale===1}function sx(e){return z_(e.x)&&z_(e.y)}function m3(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function ox(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function H_(e){return an(e.x)/an(e.y)}class g3{constructor(){this.members=[]}add(t){Hy(this.members,t),t.scheduleRender()}remove(t){if(qy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function q_(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const y3=(e,t)=>e.depth-t.depth;class v3{constructor(){this.children=[],this.isDirty=!1}add(t){Hy(this.children,t),this.isDirty=!0}remove(t){qy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(y3),this.isDirty=!1,this.children.forEach(t)}}function _3(e,t){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(wr(r),e(s-t))};return Re.read(r,!0),()=>wr(r)}function w3(e){window.MotionDebug&&window.MotionDebug.record(e)}function E3(e){return e instanceof SVGElement&&e.tagName!=="svg"}function T3(e,t,n){const r=Yt(e)?e:co(e);return r.start(zy("",r,t,n)),r.animation}const W_=["","X","Y","Z"],K_=1e3;let S3=0;const xi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function ax({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=S3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{xi.totalNodes=xi.resolvedTargetDeltas=xi.recalculatedProjection=0,this.nodes.forEach(P3),this.nodes.forEach(D3),this.nodes.forEach(V3),this.nodes.forEach(x3),w3(xi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new v3)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Wy),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=E3(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let h;const d=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=_3(d,250),Fu.hasAnimatedSinceResize&&(Fu.hasAnimatedSinceResize=!1,this.nodes.forEach(Q_))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeTargetChanged:f,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||O3,{onLayoutAnimationStart:w,onLayoutAnimationComplete:p}=c.getProps(),m=!this.targetLayout||!ox(this.targetLayout,g)||f,_=!d&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||d&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,_);const y={...qP(v,"layout"),onPlay:w,onComplete:p};(c.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y)}else d||Q_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(b3),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(G_);return}this.isUpdating||this.nodes.forEach(R3),this.isUpdating=!1,this.nodes.forEach(k3),this.nodes.forEach(I3),this.nodes.forEach(A3),this.clearAllSnapshots();const a=performance.now();ct.delta=ui(0,1e3/60,a-ct.timestamp),ct.timestamp=a,ct.isProcessing=!0,of.update.process(ct),of.preRender.process(ct),of.render.process(ct),ct.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(C3),this.sharedNodes.forEach(M3)}scheduleUpdateProjection(){Re.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!sx(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||Pi(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),F3(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return nt();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Nr(a.x,l.offset.x),Nr(a.y,l.offset.y)),a}removeElementScroll(o){const a=nt();mn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:h}=u;if(u!==this.root&&c&&h.layoutScroll){if(c.isRoot){mn(a,o);const{scroll:d}=this.root;d&&(Nr(a.x,-d.offset.x),Nr(a.y,-d.offset.y))}Nr(a.x,c.offset.x),Nr(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=nt();mn(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ns(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Pi(c.latestValues)&&Ns(l,c.latestValues)}return Pi(this.latestValues)&&Ns(l,this.latestValues),l}removeTransform(o){const a=nt();mn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Pi(u.latestValues))continue;hm(u.latestValues)&&u.updateSnapshot();const c=nt(),h=u.measurePageBox();mn(c,h),U_(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Pi(this.latestValues)&&U_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ct.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=ct.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nt(),this.relativeTargetOrigin=nt(),Sa(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=nt(),this.targetWithTransforms=nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$j(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mn(this.target,this.layout.layoutBox),ex(this.target,this.targetDelta)):mn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nt(),this.relativeTargetOrigin=nt(),Sa(this.relativeTargetOrigin,this.target,f.target),mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}xi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hm(this.parent.latestValues)||ZP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ct.timestamp&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;mn(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;Qj(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:g}=a;if(!g){this.projectionTransform&&(this.projectionDelta=Ms(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ms(),this.projectionDeltaWithTransform=Ms());const v=this.projectionTransform;Ta(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=q_(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==d||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),xi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=Ms();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=nt(),f=l?l.source:void 0,g=this.layout?this.layout.source:void 0,v=f!==g,w=this.getStack(),p=!w||w.members.length<=1,m=!!(v&&!p&&this.options.crossfade===!0&&!this.path.some(L3));this.animationProgress=0;let _;this.mixTargetDelta=y=>{const I=y/1e3;Y_(h.x,o.x,I),Y_(h.y,o.y,I),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sa(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),N3(this.relativeTarget,this.relativeTargetOrigin,d,I),_&&m3(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=nt()),mn(_,this.relativeTarget)),v&&(this.animationValues=c,u3(c,u,this.latestValues,I,m,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Re.update(()=>{Fu.hasAnimatedSinceResize=!0,this.currentAnimation=T3(0,K_,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(K_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&lx(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||nt();const h=an(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const d=an(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}mn(a,l),Ns(a,c),Ta(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new g3),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<W_.length;c++){const h="rotate"+W_[c];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ou(o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Ou(o.pointerEvents)||""),this.hasProjected&&!Pi(this.latestValues)&&(v.transform=c?c({},""):"none",this.hasProjected=!1),v}const d=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=q_(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));const{x:f,y:g}=this.projectionDelta;u.transformOrigin=`${f.origin*100}% ${g.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in Mc){if(d[v]===void 0)continue;const{correct:w,applyTo:p}=Mc[v],m=u.transform==="none"?d[v]:w(d[v],h);if(p){const _=p.length;for(let y=0;y<_;y++)u[p[y]]=m}else u[v]=m}return this.options.layoutId&&(u.pointerEvents=h===this?Ou(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(G_),this.root.sharedNodes.clear()}}}function I3(e){e.updateLayout()}function A3(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?Un(h=>{const d=o?n.measuredBox[h]:n.layoutBox[h],f=an(d);d.min=r[h].min,d.max=d.min+f}):lx(s,n.layoutBox,r)&&Un(h=>{const d=o?n.measuredBox[h]:n.layoutBox[h],f=an(r[h]);d.max=d.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+f)});const a=Ms();Ta(a,r,n.layoutBox);const l=Ms();o?Ta(l,e.applyTransform(i,!0),n.measuredBox):Ta(l,r,n.layoutBox);const u=!sx(a);let c=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:d,layout:f}=h;if(d&&f){const g=nt();Sa(g,n.layoutBox,d.layoutBox);const v=nt();Sa(v,r,f.layoutBox),ox(g,v)||(c=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function P3(e){xi.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function x3(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function C3(e){e.clearSnapshot()}function G_(e){e.clearMeasurements()}function R3(e){e.isLayoutDirty=!1}function k3(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Q_(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function D3(e){e.resolveTargetDelta()}function V3(e){e.calcProjection()}function b3(e){e.resetRotation()}function M3(e){e.removeLeadSnapshot()}function Y_(e,t,n){e.translate=je(t.translate,0,n),e.scale=je(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function X_(e,t,n,r){e.min=je(t.min,n.min,r),e.max=je(t.max,n.max,r)}function N3(e,t,n,r){X_(e.x,t.x,n.x,r),X_(e.y,t.y,n.y,r)}function L3(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const O3={duration:.45,ease:[.4,0,.1,1]},J_=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Z_=J_("applewebkit/")&&!J_("chrome/")?Math.round:Ge;function ew(e){e.min=Z_(e.min),e.max=Z_(e.max)}function F3(e){ew(e.x),ew(e.y)}function lx(e,t,n){return e==="position"||e==="preserve-aspect"&&!um(H_(t),H_(n),.2)}const j3=ax({attachResizeListener:(e,t)=>ar(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yf={current:void 0},ux=ax({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!yf.current){const e=new j3({});e.mount(window),e.setOptions({layoutScroll:!0}),yf.current=e}return yf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),$3={pan:{Feature:r3},drag:{Feature:n3,ProjectionNode:ux,MeasureLayout:nx}},B3=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function U3(e){const t=B3.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function fm(e,t,n=1){const[r,i]=U3(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return WP(o)?parseFloat(o):o}else return nm(i)?fm(i,t,n+1):i}function z3(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const s=i.get();if(!nm(s))return;const o=fm(s,r);o&&i.set(o)});for(const i in t){const s=t[i];if(!nm(s))continue;const o=fm(s,r);o&&(t[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:t,transitionEnd:n}}const H3=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),cx=e=>H3.has(e),q3=e=>Object.keys(e).some(cx),tw=e=>e===us||e===ee,nw=(e,t)=>parseFloat(e.split(", ")[t]),rw=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return nw(i[1],t);{const s=r.match(/^matrix\((.+)\)$/);return s?nw(s[1],e):0}},W3=new Set(["x","y","z"]),K3=bl.filter(e=>!W3.has(e));function G3(e){const t=[];return K3.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const ho={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:rw(4,13),y:rw(5,14)};ho.translateX=ho.x;ho.translateY=ho.y;const Q3=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=ho[u](r,s)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const c=t.getValue(u);c&&c.jump(a[u]),e[u]=ho[u](l,s)}),e},Y3=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(cx);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let c=n[l],h=qo(c);const d=t[l];let f;if(Lc(d)){const g=d.length,v=d[0]===null?1:0;c=d[v],h=qo(c);for(let w=v;w<g&&d[w]!==null;w++)f?Fy(qo(d[w])===f):f=qo(d[w])}else f=qo(d);if(h!==f)if(tw(h)&&tw(f)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof d=="string"?t[l]=parseFloat(d):Array.isArray(d)&&f===ee&&(t[l]=d.map(parseFloat))}else h!=null&&h.transform&&(f!=null&&f.transform)&&(c===0||d===0)?c===0?u.set(f.transform(c)):t[l]=h.transform(d):(o||(s=G3(e),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(d))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=Q3(t,e,a);return s.length&&s.forEach(([c,h])=>{e.getValue(c).set(h)}),e.render(),zh&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function X3(e,t,n,r){return q3(t)?Y3(e,t,n,r):{target:t,transitionEnd:r}}const J3=(e,t,n,r)=>{const i=z3(e,t,r);return t=i.target,r=i.transitionEnd,X3(e,t,n,r)},pm={current:null},hx={current:!1};function Z3(){if(hx.current=!0,!!zh)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>pm.current=e.matches;e.addListener(t),t()}else pm.current=!1}function e6(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],o=n[i];if(Yt(s))e.addValue(i,s),$c(r)&&r.add(i);else if(Yt(o))e.addValue(i,co(s,{owner:e})),$c(r)&&r.remove(i);else if(o!==s)if(e.hasValue(i)){const a=e.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=e.getStaticValue(i);e.addValue(i,co(a!==void 0?a:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const iw=new WeakMap,dx=Object.keys(al),t6=dx.length,sw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],n6=Ry.length;class r6{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Re.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=qh(n),this.isVariantNode=YA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const h in c){const d=c[h];a[h]!==void 0&&Yt(d)&&(d.set(a[h],!1),$c(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,iw.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),hx.current||Z3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){iw.delete(this.current),this.projection&&this.projection.unmount(),wr(this.notifyUpdate),wr(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=ls.has(t),i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Re.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),s()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,s){let o,a;for(let l=0;l<t6;l++){const u=dx[l],{isEnabled:c,Feature:h,ProjectionNode:d,MeasureLayout:f}=al[u];d&&(o=d),c(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),f&&(a=f))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:f}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||h&&Vs(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:d,layoutRoot:f})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<sw.length;r++){const i=sw[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=t["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=e6(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<n6;r++){const i=Ry[r],s=this.props[i];(ol(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=co(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Oy(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Yt(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Wy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class fx extends r6{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},s){let o=Tj(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){wj(this,r,o);const a=J3(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function i6(e){return window.getComputedStyle(e)}class s6 extends fx{readValueFromInstance(t,n){if(ls.has(n)){const r=Uy(n);return r&&r.default||0}else{const r=i6(t),i=(tP(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return tx(t,n)}build(t,n,r,i){Dy(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Ly(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Yt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){aP(t,n,r,i)}}class o6 extends fx{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ls.has(n)){const r=Uy(n);return r&&r.default||0}return n=lP.has(n)?n:Ny(n),t.getAttribute(n)}measureInstanceViewportBox(){return nt()}scrapeMotionValuesFromProps(t,n){return cP(t,n)}build(t,n,r,i){by(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){uP(t,n,r,i)}mount(t){this.isSVGTag=My(t.tagName),super.mount(t)}}const a6=(e,t)=>ky(e)?new o6(t,{enableHardwareAcceleration:!1}):new s6(t,{enableHardwareAcceleration:!0}),l6={layout:{ProjectionNode:ux,MeasureLayout:nx}},u6=cF(zF);function c6(){const e=E.useRef(!1);return QA(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function h6(){const e=c6(),[t,n]=E.useState(0),r=E.useCallback(()=>{e.current&&n(t+1)},[t]);return[E.useCallback(()=>Re.postRender(r),[r]),t]}function d6({children:e,features:t,strict:n=!1}){const[,r]=E.useState(!vf(t)),i=E.useRef(void 0);if(!vf(t)){const{renderer:s,...o}=t;i.current=s,tm(o)}return E.useEffect(()=>{vf(t)&&t().then(({renderer:s,...o})=>{tm(o),i.current=s,r(!0)})},[]),E.createElement(xy.Provider,{value:{renderer:i.current,strict:n}},e)}function vf(e){return typeof e=="function"}const f6=E.createContext(null),p6=e=>!e.isLayoutDirty&&e.willUpdate(!1);function ow(){const e=new Set,t=new WeakMap,n=()=>e.forEach(p6);return{add:r=>{e.add(r),t.set(r,r.addEventListener("willUpdate",n))},remove:r=>{e.delete(r);const i=t.get(r);i&&(i(),t.delete(r)),n()},dirty:n}}const px=e=>e===!0,m6=e=>px(e===!0)||e==="id",g6=({children:e,id:t,inherit:n=!0})=>{const r=E.useContext(bc),i=E.useContext(f6),[s,o]=h6(),a=E.useRef(null),l=r.id||i;a.current===null&&(m6(n)&&l&&(t=t?l+"-"+t:l),a.current={id:t,group:px(n)&&r.group||ow()});const u=E.useMemo(()=>({...a.current,forceRender:s}),[o]);return E.createElement(bc.Provider,{value:u},e)},y6={renderer:a6,...Lj,...n5},v6={...y6,...$3,...l6};function _6(e){return e!==null&&typeof e=="object"&&JA in e}var w6=Object.create,Ky=Object.defineProperty,E6=Object.defineProperties,T6=Object.getOwnPropertyDescriptor,S6=Object.getOwnPropertyDescriptors,mx=Object.getOwnPropertyNames,aw=Object.getOwnPropertySymbols,I6=Object.getPrototypeOf,gx=Object.prototype.hasOwnProperty,A6=Object.prototype.propertyIsEnumerable,lw=(e,t,n)=>t in e?Ky(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uw=(e,t)=>{for(var n in t||(t={}))gx.call(t,n)&&lw(e,n,t[n]);if(aw)for(var n of aw(t))A6.call(t,n)&&lw(e,n,t[n]);return e},P6=(e,t)=>E6(e,S6(t)),yx=(e,t)=>function(){return t||(0,e[mx(e)[0]])((t={exports:{}}).exports,t),t.exports},x6=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of mx(t))!gx.call(e,i)&&i!==n&&Ky(e,i,{get:()=>t[i],enumerable:!(r=T6(t,i))||r.enumerable});return e},C6=(e,t,n)=>(n=e!=null?w6(I6(e)):{},x6(t||!e||!e.__esModule?Ky(n,"default",{value:e,enumerable:!0}):n,e)),R6=yx({"../../node_modules/.pnpm/react-is@18.2.0/node_modules/react-is/cjs/react-is.production.min.js"(e){var t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function w(p){if(typeof p=="object"&&p!==null){var m=p.$$typeof;switch(m){case t:switch(p=p.type,p){case r:case s:case i:case c:case h:return p;default:switch(p=p&&p.$$typeof,p){case l:case a:case u:case f:case d:case o:return p;default:return m}}case n:return m}}}e.ContextConsumer=a,e.ContextProvider=o,e.Element=t,e.ForwardRef=u,e.Fragment=r,e.Lazy=f,e.Memo=d,e.Portal=n,e.Profiler=s,e.StrictMode=i,e.Suspense=c,e.SuspenseList=h,e.isAsyncMode=function(){return!1},e.isConcurrentMode=function(){return!1},e.isContextConsumer=function(p){return w(p)===a},e.isContextProvider=function(p){return w(p)===o},e.isElement=function(p){return typeof p=="object"&&p!==null&&p.$$typeof===t},e.isForwardRef=function(p){return w(p)===u},e.isFragment=function(p){return w(p)===r},e.isLazy=function(p){return w(p)===f},e.isMemo=function(p){return w(p)===d},e.isPortal=function(p){return w(p)===n},e.isProfiler=function(p){return w(p)===s},e.isStrictMode=function(p){return w(p)===i},e.isSuspense=function(p){return w(p)===c},e.isSuspenseList=function(p){return w(p)===h},e.isValidElementType=function(p){return typeof p=="string"||typeof p=="function"||p===r||p===s||p===i||p===c||p===h||p===g||typeof p=="object"&&p!==null&&(p.$$typeof===f||p.$$typeof===d||p.$$typeof===o||p.$$typeof===a||p.$$typeof===u||p.$$typeof===v||p.getModuleId!==void 0)},e.typeOf=w}}),k6=yx({"../../node_modules/.pnpm/react-is@18.2.0/node_modules/react-is/index.js"(e,t){t.exports=R6()}}),D6="(prefers-reduced-motion: no-preference)";function V6(){const[e,t]=E.useState(!1);return E.useEffect(()=>{const n=window.matchMedia(D6);t(!n.matches);const r=i=>{t(!i.matches)};return n.addEventListener("change",r),()=>{n.removeEventListener("change",r)}},[]),e}var b6=C6(k6());function M6(e){return typeof e=="string"||Array.isArray(e)&&e.every(t=>typeof t=="string")}function N6(e){return M6(e)?"position":!0}function vx(e,t,n){return E.Children.map(e,r=>{let i=r;if(!E.isValidElement(i)||i.key==="exclude")return i;const s=i.props;if(typeof i.type=="function"&&(i=i.type(s),!E.isValidElement(i)))return i;const o=i.type,a=n?n(i.props.children):{},l=(0,b6.isPortal)(i)?null:i.ref,u=_6(i.type)?i.type:u6[o];return E.createElement(u,uw(P6(uw({},i.props),{ref:l}),a),vx(i.props.children,t,n))})}function L6({children:e,transition:t,layoutDependency:n,disabled:r,debug:i}){const s=V6(),o=vx(e,i,a=>({layout:N6(a),layoutDependency:n,transition:t}));return s||r?S.jsx(S.Fragment,{children:e}):S.jsx(g6,{children:S.jsx(d6,{features:v6,children:o})})}/*! Bundled license information:

react-is/cjs/react-is.production.min.js:
  (**
   * @license React
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.development.js:
  (**
   * @license React
   * react-is.development.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/function O6({children:e,open:t,close:n,setIsOpen:r}){const{setCurrentId:i}=Ir();if(!t)return null;const s=()=>{r(n),i("")};return S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"div-overlay-style"}),S.jsxs("div",{className:"div-modal-style",children:[S.jsx("div",{children:S.jsx("button",{className:"close-modal",onClick:s,children:S.jsx(eF,{})})}),e]})]})}const F6=({setIsOpen:e,film:t})=>{const{onDeleteFilm:n}=Ir();return S.jsxs("div",{className:"container-delete-and-edit",children:[S.jsxs("p",{children:['¿Estas seguro que quieres eliminar "',t.name,'"?']}),S.jsxs("div",{className:"sub-container-delete-and-edit",children:[S.jsx("button",{"aria-label":"Aceptar borrar",onClick:()=>n(t.id),children:"Aceptar"}),S.jsx("button",{"aria-label":"Cancelar borrar",onClick:()=>e(!1),children:"Cancelar"})]})]})},j6=({film:e})=>{const{setCurrentId:t,updateRating:n}=Ir(),[r,i]=E.useState(!1),[s,o]=E.useState(e.rating),[a,l]=E.useState(null);return S.jsx(L6,{children:S.jsxs("div",{className:"container-card",children:[S.jsxs("div",{children:[S.jsx("div",{className:"container-stars",children:[...Array(5)].map((u,c)=>{const h=c+1;return S.jsxs("label",{children:[S.jsx("input",{type:"radio",name:"rating",value:s,onClick:()=>{o(h),n(e.id,h)}}),S.jsx("div",{className:"star",style:{color:h<=(a||s)?"#ffc107":"#e4e5e9"},onMouseEnter:()=>l(h),onMouseLeave:()=>l(null),children:S.jsx(tF,{})})]},c)})}),S.jsx("b",{children:e.name}),S.jsx("p",{children:e.date})]}),S.jsx(O6,{setIsOpen:i,open:r,close:()=>i(!1),children:S.jsx(F6,{film:e,setIsOpen:i})},"exclude"),S.jsxs("div",{className:"buttons",children:[S.jsx("button",{onClick:()=>i(!0),"aria-label":"Borrar Pelicula",title:"Borrar",children:S.jsx(X4,{})}),S.jsx("button",{onClick:()=>t(e.id),"aria-label":"Editar Pelicula",title:"Editar",children:S.jsx(J4,{})})]})]})})};const $6=()=>{const{setSortBy:e,setDirection:t,direction:n}=Ir(),[r,i]=E.useState(0),s=()=>{t(n==="desc"?"asc":"desc")};return S.jsxs("div",{className:"filters-buttons",children:[S.jsx("button",{className:r===0?"filter-button active-filter":"filter-button",onClick:()=>{e("created"),i(0)},children:"Última"}),S.jsx("button",{className:r===1?"filter-button active-filter":"filter-button",onClick:()=>{e("name"),i(1)},children:"Nombre"}),S.jsx("button",{className:r===2?"filter-button active-filter":"filter-button",onClick:()=>{e("date"),i(2)},children:"Fecha"}),S.jsx("button",{className:r===3?"filter-button active-filter":"filter-button",onClick:()=>{e("rating"),i(3)},children:"Estrellas"}),S.jsx("button",{onClick:()=>s(),children:n=="asc"?S.jsx(nD,{}):S.jsx(tD,{})})]})};function B6(){return S.jsxs("div",{className:"loadingspinner",children:[S.jsx("div",{id:"square1"}),S.jsx("div",{id:"square2"}),S.jsx("div",{id:"square3"}),S.jsx("div",{id:"square4"}),S.jsx("div",{id:"square5"})]})}const U6=()=>{const{films:e,getMoreFilms:t,getLengthFilms:n}=Ir();return S.jsx("div",{className:"container-moreButton",children:S.jsxs("div",{children:[n.length>0&&S.jsxs("p",{className:"p-more-films",children:[e.length," de ",n.length]}),e.length!==n.length&&S.jsx("button",{onClick:()=>t(),children:"Cargar mas"})]})})},z6=()=>{const{getLengthFilms:e,average:t}=Ir();return S.jsx("div",{children:e.length>0&&S.jsxs(S.Fragment,{children:[S.jsxs("p",{children:["Total: ",e.length]}),S.jsx("p",{children:t!==0?`Promedio: ${t}`:""}),S.jsx("p",{})]})})},H6=()=>{const{films:e,loader:t,searchText:n,setSearchText:r,getLengthFilms:i,average:s}=Ir();return S.jsx(S.Fragment,{children:S.jsx(fg,{title:"Peliculas",pageDescription:"Agrega las peliculas que tu quieras!",children:S.jsxs("div",{className:"full-container",children:[S.jsx("h1",{children:"Mis Películas"}),S.jsx(rF,{searchText:n,setSearchText:r}),S.jsx(nF,{}),S.jsx($6,{}),t?S.jsx(B6,{}):S.jsx(S.Fragment,{children:e.length>0?S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"container-cards",children:[S.jsx(z6,{}),e.filter(({name:o,date:a})=>WA(o,a,n)).map(o=>S.jsx(j6,{film:o},o.id))]}),S.jsx(U6,{})]}):S.jsx(S.Fragment,{children:S.jsx("h3",{style:{textAlign:"center"},children:"No hay peliculas :("})})})]})})})},q6=()=>S.jsx(S.Fragment,{children:S.jsx(fg,{children:S.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[S.jsx("h1",{style:{fontSize:"120px"},children:"404"}),S.jsx("p",{style:{fontSize:"24px"},children:"Pagina no encontrada"}),S.jsx(za,{style:{marginTop:"20px"},to:"/",children:"Volver al Inicio"})]})})}),W6=[{path:"/",element:S.jsx(gD,{}),errorElement:S.jsx(q6,{})},{path:"/films",element:S.jsx(H6,{})}],K6=uk(W6);_f.createRoot(document.getElementById("root")).render(S.jsx(M.StrictMode,{children:S.jsxs(Y4,{children:[S.jsx(yk,{router:K6}),S.jsx(Q4,{richColors:!0})]})}));
